(self.webpackChunk=self.webpackChunk||[]).push([[1010],{71284:(e,t,n)=>{n.d(t,{a:()=>i,A:()=>l});var i,r=n(27378),a=n(88056),o=n(95195),s=n(95574);!function(e){let t;!function(e){e.supportsSVGDominantBaseline="supportsSVGDominantBaseline",e.supportsSetGoalsLoader="supportsSetGoalsLoader",e.onlyTrustedEvents="onlyTrustedEvents"}(t=e.Flag||(e.Flag={})),e.Context=r.createContext(a.Y.invariantContent("PlatformEnvironment"));e.Mock=class{constructor(){this.has=()=>!1,this.actions={openUrl:()=>o.F2(void 0),openPopup:()=>o.F2(void 0)}}}}(i||(i={}));class l{constructor(){this.actions={openUrl:e=>s.vM((()=>{throw new Error("Not implemented")})),openPopup:e=>s.vM((()=>{throw new Error("Not implemented")}))}}has(e){throw new Error("Not implemented")}}},29847:(e,t,n)=>{n.d(t,{l5:()=>k,EJ:()=>E,T9:()=>N});var i=n(27378),r=n(71249),a=n(40327),o=n(38983),s=n(5739),l=n(93508),c=n(77176),d=n(16118),u=n(32952),p=n(98403),m=n(44586),h=n(76974),f=n(24209),g=n(38062),y=n(50628),v=n(80900),b=n(17343),C=n(60797),x=n(69935),I=n(19751),w=n(5114),S=n(8125);class k extends i.Component{constructor(){super(...arguments),this._state=this.props.state.pipe(l.O(void 0),c.U(((e,t)=>({state:e,key:t}))),d.G(),c.U((([e,t])=>{const n=this.props.stateToClassMapper(e.state,t.state);return{prev:{key:e.key,state:e.state,view:T(n.prev)},next:{key:t.key,state:t.state,view:T(n.next)}}}))),this._elements=o.h.create(A.empty),this._done=new u.xQ,this._subs=[]}componentDidMount(){const{children:e}=this.props;this._subs.push(this._state.pipe(c.U((({prev:t,next:n})=>{const i=e;return void 0===e?A.empty:[(0,a.pipe)(t.state,w.fromNullable,w.map((e=>i({state:e,view:t.view,type:"prev",done:()=>this._done.next("prev")}))),w.chain(w.fromNullable),w.map((e=>({key:t.key,entry:e})))),(0,a.pipe)(i({state:n.state,view:n.view,type:"next"}),w.fromNullable,w.map((e=>({key:n.key,entry:e}))))]}))).subscribe(p.wW(this._elements)),this._done.subscribe((e=>{"prev"===e&&this._elements.modify((([e,t])=>[w.none,t])),"next"===e&&this._elements.set(A.empty)})))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}render(){const{children:e,className:t,onMount:n,onMouseDown:a}=this.props;return e?i.createElement(s.F.div,{className:t,mount:n,onMouseDown:a},this._elements.view(r.IX.compact).view((e=>e.map((e=>i.createElement(i.Fragment,{key:e.key},e.entry)))))):null}}const E=e=>({start:e,end:e});var A;function T({start:e,end:t}){return m.y.create((n=>{n.next(e);const i=requestAnimationFrame((()=>requestAnimationFrame((()=>n.next(t)))));return()=>cancelAnimationFrame(i)}))}!function(e){e.empty=[w.none,w.none]}(A||(A={}));const N=e=>{const t=e.content.pipe(c.U((t=>({className:e.classes.rendered,el:t,onTransitionEnd:S.Q1}))),c.U(w.some),l.O(w.none),d.G(),c.U((([t,n])=>(0,a.pipe)(t,w.fold((()=>w.map(h.of)(n)),(t=>(0,a.pipe)(n,w.map((n=>{const i=new u.xQ;return f.T(h.of({className:e.classes.removing,el:t.el,onTransitionEnd:()=>i.next()}),g.S3(i.pipe(y.P()),v.H(e.timeout)).pipe(b.h(n)))})))))))),C.oA,x.B(),I.d({refCount:!0,bufferSize:1}));return i.createElement(s.F.div,{className:t.pipe(c.U((e=>e.className))),onTransitionEnd:t.pipe(c.U((e=>e.onTransitionEnd)))},t.pipe(c.U((e=>e.el))))}},62310:(e,t,n)=>{n.d(t,{C:()=>i});var i,r=n(27378),a=n(12187),o=n(44060),s=n(63969),l=n(40219),c=n(21474);!function(e){e.Regular=e=>r.createElement("span",Object.assign({},(0,a.Sh)(e.a11yContrast?f.badgeA11yContrast:f.badge,e.className)),e.children),e.New=({className:t})=>r.createElement(e.Regular,{className:t},"New"),e.NewWrapper=({children:t})=>r.createElement("div",null,r.createElement(e.New,null),t),e.Premium=({className:t})=>r.createElement(e.Regular,Object.assign({},(0,a.Sh)(f.premiumBadge,t)),r.createElement(c.JO.PaidLink,{className:f.premiumBadgeIcon,width:12}),"PREMIUM"),e.Business=({className:t})=>r.createElement(e.Regular,Object.assign({},(0,a.Sh)(t)),"BUSINESS")}(i||(i={}));const d={display:"inline-block",padding:`${s.u.rem(o.Zh.BadgeY)} ${s.u.rem(o.Zh.BadgeX)}`,height:s.u.rem(o.L3.Badge),borderRadius:s.u.rem(l.mA),background:o.Il.CoreGreen10,color:o.Il.CoreGreen70,verticalAlign:"middle",textAlign:"center",textTransform:o._5.Badge,letterSpacing:o.LK.Badge,fontWeight:o.U9.Badge,fontSize:s.u.rem(o.Bf.Badge),lineHeight:s.u.rem(o.L3.Badge)},u={background:o.Il.CoreBlue1,color:o.Il.CoreBlue60},p={marginRight:o.Zh.BadgeX,maxWidth:s.u.rem(o.L3.Badge),maxHeight:s.u.rem(o.L3.Badge),minWidth:s.u.rem(o.L3.Badge),minHeight:s.u.rem(o.L3.Badge),verticalAlign:"top"},m={background:o.Il.CoreYellow20,color:o.Il.CoreYellow80},h={fill:o.Il.CoreYellow80},f=s.u.stylesheet({badge:[d],badgeA11yContrast:[d,u],badgeIcon:[p],premiumBadge:[d,m],premiumBadgeIcon:[p,h]})},24811:(e,t,n)=>{n.d(t,{B:()=>C,N:()=>x});var i=n(27378),r=n(5739),a=n(12187),o=n(38983),s=n(8125),l=n(44060),c=n(63969),d=n(24588),u=n(40219),p=n(26653),m=n(76974),h=n(2844),f=n(98403),g=n(77176),y=n(93508),v=n(66310),b=n(19751);function C({value:e,initValue:t=p.g.MIN,wrapperClass:n,progressClass:o,borderClass:s,isLoading:l=m.of(!1)}){const c=x(e,t);return i.createElement(r.F.div,Object.assign({},(0,a.Sh)($.wrapper,n)),i.createElement(I,{width:c,progressClass:o,borderClass:s,isLoading:l}))}function x(e,t=p.g.MIN){const n=o.h.create(!1);return requestAnimationFrame((()=>requestAnimationFrame((()=>n.set(!0))))),h.aj(f.Dx(e),n,((e,n)=>n?e:t))}function I({width:e,progressClass:t,isLoading:n,borderClass:o}){const l=e.pipe(g.U((e=>`${e}%`))),c=e.pipe(g.U(p.g.prism.reverseGet),g.U((e=>e>0?`${e+.75}%`:0)),y.O(0)),d=n.pipe(v.w((e=>e?l:"0"))),u=e.pipe(g.U(p.g.isMin),b.d({bufferSize:1,refCount:!0}));return i.createElement(i.Fragment,null,i.createElement(r.F.div,Object.assign({},(0,a.Sh)($.borderContainer,u.pipe(g.U((0,s.RN)($.borderContainerZeroWidth,$.borderContainerWithMinWidth))),o),{style:{width:c}})),i.createElement(r.F.div,Object.assign({},(0,a.Sh)(Boolean(t)?t:$.defaultProgress,$.progressBar,u.pipe(g.U((0,s.RN)($.progressBarZeroWidth,$.progressBarWithMinWidth)))),{style:{width:l}})),i.createElement(r.F.div,{className:$.loading,style:{width:d}}))}const w=c.u.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),S={position:"relative",width:c.u.percent(100),height:c.u.rem(.25),borderRadius:c.u.rem(u.Jr),backgroundColor:d.xO},k={position:"relative",top:0,height:c.u.percent(100),borderRadius:c.u.rem(u.Jr),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},E={minWidth:c.u.px(4)},A={position:"absolute",backgroundColor:l.Il.CoreNeutral0},T={minWidth:c.u.px(6)},N={position:"absolute",minWidth:0,backgroundImage:d.b6,backgroundSize:"20px 20px",transition:"none",animation:`${w} 1s linear infinite`},O={backgroundImage:d.Xd},$=c.u.stylesheet({wrapper:[S,S],progressBar:[k],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[E],borderContainer:[k,A],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[T],loading:[k,N],defaultProgress:[O]})},77797:(e,t,n)=>{n.d(t,{Ys:()=>d});var i=n(27378),r=n(5739),a=n(12187),o=n(44060),s=n(63969),l=n(40219);const c=()=>i.createElement("svg",{className:f.svg2,viewBox:"0 0 12 9",width:"12",height:"9",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1.386 4.115L4.561 7.29l5.81-5.81",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"})),d=({checked:e,className:t,children:n,name:r})=>i.createElement(u,{checked:e,name:r,className:t,checkedComponent:e=>i.createElement("div",{key:e?"checkbox1":"checkbox2",className:e?f.rectangleFilledBlue:f.rectangle},e&&i.createElement(c,null))},n),u=({checked:e,checkedComponent:t,className:n,children:o,name:s})=>i.createElement(r.F.label,Object.assign({},(0,a.Sh)(f.wrapper,n),{onClick:e=>e.stopPropagation()},s?{"data-name":`${s}-checkbox`}:{}),i.createElement(r.F.input,{type:"checkbox",checked:e,onChange:t=>e.modify((e=>!e)),className:f.inputCheckbox}),e.view(t),i.createElement("div",null,o)),p={display:"flex",marginRight:s.u.rem(.5),paddingTop:s.u.rem(.18),width:s.u.rem(1),height:s.u.rem(1),border:`2px solid ${o.Il.CoreNeutral30}`,borderRadius:s.u.rem(l.mA),backgroundColor:"transparent",alignItems:"center"},m={paddingTop:s.u.rem(.1),borderColor:o.Il.CoreBlue50,borderRadius:s.u.rem(l.mA),backgroundColor:o.Il.CoreBlue50},h={width:s.u.percent(100),height:s.u.percent(100)},f=s.u.stylesheet({wrapper:[{display:"flex",cursor:"default",alignItems:"center",userSelect:"none"}],rectangle:[p],rectangleFilledBlue:[p,m],inputCheckbox:[{margin:0,"-webkit-appearance":"none",appearance:"none"}],svg:[h],svg2:[{margin:"auto"}]})},95286:(e,t,n)=>{n.d(t,{L:()=>B});var i=n(27378),r=n(40327),a=n(38983),o=n(12187),s=n(5739),l=n(16118),c=n(66310),d=n(80900),u=n(17343),p=n(76974),m=n(95093),h=n(77176),f=n(28043),g=n(2834),y=n(38194),v=n(93508),b=n(598),C=n(2844),x=n(24713),I=n(50628),w=n(32952),S=n(18208),k=n(19962),E=n(5114),A=n(22232),T=n(8125),N=n(54338),O=n(71284),$=n(41488),F=n(29847),j=n(98403),D=n(85255),L=n(47486);class P extends F.l5{}class B extends i.PureComponent{constructor(){super(...arguments),this._uuid=S.fg(12),this._initialState=!1,this._hovered=a.h.create(this._initialState),this._hidden=a.h.create(!this._initialState),this._listPosState=a.h.create({}),this._dropdownEl=null,this._subs=[],this._viewport=a.h.create(k.UL.empty),this._labelRef=i.createRef(),this.hovered=this._hovered.pipe(l.G(),c.w((([e,t])=>t?d.H(this.props.showDelay).pipe(u.h(!0)):e?d.H(void 0===this.props.closeDelay?B.defaultProps.closeDelay:this.props.closeDelay).pipe(u.h(!1)):p.of(!1))),m.T(B._hoveredForce.pipe(h.U(E.exists((e=>e===this._uuid))))),f.x(),g.b((e=>e&&B._hoveredForce.next(E.some(this._uuid)))),g.b((e=>e&&this._hidden.set(!1))),y.B(),v.O(this._initialState)),this._handleClickForAppearanceHover=e=>{const t=e.target;if(k.pK(t)||!0===this.props.dontCloseOnClickInside)return;const n=!k.q_(t,L.P.list);B._hoveredForce.next(n?E.some(this._uuid):E.none),this._hovered.set(n)},this._handleMouseEnterForAppearanceHover=()=>{this._hovered.set(!0)},this._handleClickForAppearanceClick=(e,t)=>{t&&!e.isTrusted||this._hovered.modify((e=>!e))},this._handleMouseEnterForAppearanceClick=e=>{const t=e.target;k.q_(t,L.P.list)&&(B._hoveredForce.next(E.some(this._uuid)),this._hovered.set(!0))},this._handleLabelKeyDownForAppearance=e=>{"Enter"!==e.key&&" "!==e.key||(this._hovered.set(!0),e.preventDefault())}}_getHAlign(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:`-${(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2}px`};default:return(0,A.vE)(e)}}_getVAlign(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,A.vE)(e)}}calcDropdownPosition(){const e=this.props.align,t=this.props.vAlign;this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(e)),this._getVAlign(t)));const n="auto"===e,i="auto"===t;(n||i)&&requestAnimationFrame((()=>{if(this._dropdownEl){const r=this._viewport.get(),a=this._dropdownEl.getBoundingClientRect();this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(n?r.right<a.right?"right":"left":e)),this._getVAlign(i?r.bottom<a.bottom?"top":"bottom":t)))}}))}componentDidMount(){this._subs.push(this.hovered.pipe(g.b((e=>{this.props.onVisibilityChange&&this.props.onVisibilityChange(e)})),b.c((0,r.pipe)(E.fromNullable(this.props.customPosition),E.fold((()=>p.of(E.none)),(({top:e,left:t})=>C.aj(j.Dx(e),j.Dx(t)).pipe(h.U(E.some))))))).subscribe(E.fold((()=>this.calcDropdownPosition()),(([e,t])=>this._listPosState.set({top:e,left:t})))),this.context.pipe(x.j("rect")).subscribe(j.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(c.w(j.wX(this.props.forceHide.pipe(I.P())))).subscribe((()=>this._hidden.set(!0))))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}componentWillReciveProps(){this.calcDropdownPosition()}mapStateToClass(e,t){const n={start:"",end:""};return t?{prev:n,next:{start:L.P.transparent,end:""}}:{prev:{start:"",end:L.P.transparent},next:n}}_behavior(e){return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:t=>this._handleClickForAppearanceClick(t,e),onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:()=>this._hovered.set(this._initialState)}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:()=>this._hovered.set(this._initialState)}}_labelBehavior(){return{onKeyDown:this._handleLabelKeyDownForAppearance}}_attachDropdownElementBehavior(){var e;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",(e=>{var t;"Escape"===e.key&&(this._hovered.set(this._initialState),e.preventDefault(),e.stopPropagation(),(null===(t=this._labelRef.current)||void 0===t?void 0:t.firstChild)&&setTimeout((()=>{var e,t;return null===(t=null===(e=this._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===t?void 0:t.focus()}),0))}))}_handleDropdownElementMount(e){this._dropdownEl=e,this._attachDropdownElementBehavior()}render(){const{label:e,theme:t={}}=this.props;return i.createElement(O.a.Context.Consumer,null,(n=>i.createElement(N.f.Context.Consumer,null,(r=>i.createElement(N.f.Context.Provider,{value:N.f.withValue(r,{hovered:this._hovered})},i.createElement("div",Object.assign({},(0,o.Sh)(L.P.wrapper,t.dropdownContainer),this._behavior(n.has(O.a.Flag.onlyTrustedEvents))),i.createElement("div",Object.assign({},this._labelBehavior(),{ref:this._labelRef}),e),i.createElement(P,{state:this.hovered,stateToClassMapper:this.mapStateToClass},(e=>e.state?i.createElement(s.F.div,null,this._hidden.view((n=>i.createElement(_,Object.assign({key:"list",name:this.props.name,onTransitionEnd:"prev"===e.type?()=>this._hidden.set(!0):T.Q1},(0,o.Sh)(t.dropdownList,e.view),{mount:this._handleDropdownElementMount.bind(this),style:this._listPosState,hidden:n}),this.props.children)))):null))))))))}}B.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},B.Delimiter=()=>i.createElement("div",{className:L.P.delimiter}),B._hoveredForce=new w.xQ,B.contextType=$.l.Context;const _=e=>{const{ref:t,onMount:n}=D.P.useElWatcher();return D.P.useFocusTrap(t),i.createElement(N.f.Context.Consumer,null,(t=>{const r=N.f.emptyWithName(`${void 0!==t.name?`${t.name}/`:""}dropdown-${e.name}`);return i.createElement(N.f.Context.Provider,{value:r},i.createElement(s.F.div,Object.assign({},(0,o.Sh)(e.className,!0===e.hidden?L.P.hidden:L.P.list),{style:e.style,mount:t=>{n(t),void 0!==e.mount&&e.mount(t)},"data-role":"dropdown-list","data-name":"dropdown-"+e.name,onTransitionEnd:e.onTransitionEnd}),e.children))}))}},47486:(e,t,n)=>{n.d(t,{P:()=>l});var i=n(44060),r=n(63969),a=n(40219);const o={position:"absolute",zIndex:a.VN,display:"flex",flexDirection:"column",margin:`${r.u.rem(.5)} 0`,padding:`${r.u.rem(.5)} 0`,minWidth:r.u.percent(100),borderRadius:r.u.rem(a.Jr),background:i.Il.CoreNeutral0,boxShadow:i.uc.Z200,opacity:1,transition:"opacity .2s"},s={margin:r.u.rem(.5),height:r.u.px(1),backgroundColor:i.Il.CoreNeutral20},l={wrapper:r.u.style({position:"relative"}),list:r.u.style(o),transparent:r.u.style({opacity:0}),hidden:r.u.style({display:"none"}),delimiter:r.u.style(s)}},29245:(e,t,n)=>{n.d(t,{Vg:()=>s,fc:()=>l,dy:()=>d,In:()=>u});var i=n(27378),r=n(12187),a=n(34685),o=n(63969);const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function l(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}function c(e,t=p.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return a.gK+l(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const d=({children:e,emojiClassName:t,className:n})=>{const r=i.useRef(null);return i.useEffect((()=>{r.current&&(r.current.innerHTML=r.current.innerHTML.replace(s,(e=>c(e,t))))}),[r,t]),i.createElement("span",{ref:r,className:n},e)},u=({id:e,className:t})=>{const[n,o]=i.useState(!1),[s,l]=i.useState(""),[c,d]=i.useState("");return i.useEffect((()=>{o(!1),d(function(e){return a.gK+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map((e=>parseInt(e,16))))}catch(e){return""}})(e.split("-")))}),[e]),n?i.createElement("span",Object.assign({},(0,r.Sh)(t,p.emojiFromIDAlt)),s):i.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0)})},p=o.u.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},5802:(e,t,n)=>{var i;n.d(t,{P:()=>i}),function(e){let t,n,i,r;!function(e){e.sparkles="sparkles",e.priority="priority"}(t=e.Icon||(e.Icon={})),function(e){e[e.lowest=0]="lowest",e[e.low=1]="low",e[e.average=2]="average",e[e.high=3]="high",e[e.highest=4]="highest"}(n=e.Priority||(e.Priority={})),function(e){e.top="top",e.bottomLeft="bottomLeft",e.bottomRight="bottomRight"}(i=e.Position||(e.Position={})),function(e){e.standard="standard",e.custom="custom"}(r=e.ViewType||(e.ViewType={})),e.DefaultTimeout="DefaultTimeout",e.TimeoutDisabled="TimeoutDisabled"}(i||(i={}))},50790:(e,t,n)=>{n.d(t,{DI:()=>k,SJ:()=>E});var i=n(27378),r=n(12187),a=n(22232),o=n(44060),s=n(63969),l=n(24588),c=n(40219),d=n(7046),u=n(21474),p=n(3656),m=n(5802);const h={position:"relative",width:s.u.percent(100)},f={position:"relative",margin:`0 0 ${s.u.rem(.5)}`},g={display:"flex",boxSizing:"border-box",padding:`${s.u.rem(1)} ${s.u.rem(2)} ${s.u.rem(1)} ${s.u.rem(.75)}`,width:s.u.percent(100),borderRadius:s.u.rem(c.fx),background:o.Il.BackgroundNotification,color:o.Il.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},y={width:s.u.percent(100)},v={display:"inline-block",width:s.u.percent(100)},b={margin:`${s.u.rem(-.5)} ${s.u.rem(.75)} ${s.u.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:s.u.rem(.5),marginRight:s.u.rem(.4),marginLeft:s.u.rem(.5)},x={stroke:l.FW},I={margin:`0 0 ${s.u.rem(.5)}`,color:o.Il.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:s.u.rem(o.xv.BodySize),lineHeight:s.u.rem(1.25)},w={marginTop:s.u.rem(-.1),marginBottom:s.u.rem(-.25),color:o.Il.CoreNeutral0,fontSize:s.u.rem(o.xv.BodySize),lineHeight:s.u.rem(1.25)},S=s.u.prefixedStylesheet("notifications",{wrapper:[h],notification:[f],flexibleNotification:[f,{display:"flex",width:"auto"}],contentWrapper:[g],miniContentWrapper:[g,{position:"relative",width:"auto"}],fullWidthNotification:[f,g,y],content:[v],miniContent:[{flex:1}],alertIcon:[b],closeIconWrapper:[C],closeIcon:[x],header:[I],description:[w]});var k,E;!function(e){e.Wrapper=({notification:t,onClose:r,children:a,theme:o={}})=>{i.useEffect((()=>t.actions.next("shown")),[t.actions]);const s={wrapper:Boolean(o.wrapper)?o.wrapper:n.wrapper,content:void 0!==o.content?Object.assign({},n.content,o.content):n.content};return i.createElement("div",{className:s.wrapper},i.createElement(e.Base,{metadata:t.metadata,onClose:r,theme:s.content},a))},e.Base=({metadata:n,onClose:r,theme:a,children:o})=>i.createElement("div",{className:a.wrapper},t(n,a.icon),i.createElement("div",{className:a.content},o),!function(e){return e.priority===m.P.Priority.high||e.priority===m.P.Priority.highest}(n)&&i.createElement(e.CloseButton,{onClick:r,className:a.close}));const t=(t,n)=>{switch(t.icon){case m.P.Icon.sparkles:return i.createElement(u.JO.Sparkles,{className:n});case void 0:case m.P.Icon.priority:return i.createElement(e.PriorityIcon,{priority:t.priority,className:n});default:return(0,a.vE)(t.icon)}};e.AdHoc=({title:t,children:a,className:o,onClose:s})=>i.createElement("div",Object.assign({},(0,r.Sh)(n.content.wrapper,o)),i.createElement("div",{className:n.content.content},i.createElement(e.TitledContent,{title:t},a)),i.createElement(e.CloseButton,{onClick:s,className:n.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case m.P.Priority.lowest:case m.P.Priority.low:return i.createElement(u.JO.NotificationInfo,{className:t});case m.P.Priority.average:return i.createElement(u.JO.NotificationWarning,{className:t});case m.P.Priority.high:case m.P.Priority.highest:return i.createElement(u.JO.NotificationError,{className:t});default:return(0,a.vE)(e)}},e.CloseButton=({onClick:e,className:t})=>i.createElement(d.zx,{name:"closeNotification",className:t,onClick:e},i.createElement(u.JO.Close,{className:S.closeIcon,width:12})),e.TitledContent=({title:t,children:n})=>Boolean(n)?i.createElement(i.Fragment,null,i.createElement(p.P1,{className:S.header},t),i.createElement(e.Content,null,n)):i.createElement(p.P1,{className:S.description},t),e.Content=({children:e})=>i.createElement(p.XY,{className:S.description},e);const n={wrapper:S.wrapper,content:{wrapper:S.fullWidthNotification,icon:S.alertIcon,content:S.content,close:S.closeIconWrapper}}}(k||(k={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(i.useEffect((()=>e.actions.next("shown")),[e.actions]),i.createElement("div",{className:S.flexibleNotification},i.createElement(k.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:S.miniContentWrapper,icon:S.alertIcon,content:S.miniContent,close:S.closeIconWrapper}},n)))}(E||(E={}))},63847:(e,t,n)=>{n.d(t,{P:()=>v});var i=n(27378),r=n(12187),a=n(22232),o=n(19962),s=n(44060),l=n(63969),c=n(24588),d=n(71284),u=n(21474);const p=2*Math.PI*32,m=36,h="#f1f2fa",f="#fff",g=(e,t,n)=>e<t?t:e>n?n:e,y=e=>{switch(e){case v.IconSize.pdf:return 110;case v.IconSize.normal:return 52;case v.IconSize.outcome:return 32;case v.IconSize.small:return 24;case v.IconSize.extraSmall:return 16;default:return(0,a.vE)(e)}};class v extends i.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=v.ColorType.logan,fontSize:s=v.FontSize.normal,iconSize:l=v.IconSize.normal,description:c,theme:b=I}=this.props,C=[i.createElement("circle",{key:"circle",id:"circle",cx:m,cy:m,r:32,fill:"none"})],x=(e=>{switch(e){case v.FontSize.normal:return 32;case v.FontSize.small:return 24;default:return(0,a.vE)(e)}})(s),w=(e=>{switch(e){case v.IconSize.pdf:case v.IconSize.normal:case v.IconSize.outcome:return 5;case v.IconSize.small:return 3;case v.IconSize.extraSmall:return 10;default:return(0,a.vE)(e)}})(l),S=g(e,0,100),k=g(t,S,100),E=S*p/100,A=k*p/100,T=360*w/p,N=S?p-E-2*w:p;let O,$,F,j,D;const L=(e=>{switch(e){case v.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:h,outline:f};case v.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:h,outline:f};case v.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:h,outline:f};case v.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:h,outline:f};case v.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:h,outline:f};case v.ColorType.logan:return{type:"plain",value:"#a6adc9",background:h,outline:f};case v.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case v.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case v.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case v.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case v.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case v.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case v.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case v.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return(0,a.vE)(e)}})(n);if("plain"===L.type)O=L.value,$=O,F=L.outline,j=L.background,D=void 0===L.backgroundOpacity?1:L.backgroundOpacity;else{const e=L.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:"pb-gradient-"+v._nextGradientId++,C.push(i.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),i.createElement("stop",{stopColor:e.start,offset:"0%"}),i.createElement("stop",{stopColor:e.end,offset:"100%"}))),O=`url(#${this._gradientId})`,$="#2b2d38",F=L.outline,j=L.background,D=void 0===L.backgroundOpacity?1:L.backgroundOpacity}return i.createElement(d.a.Context.Consumer,null,(e=>i.createElement(u.a1,Object.assign({},(0,r.Sh)(I.iconWrapper,b.radialProgressBar),{width:y(l),viewBox:"0 0 72 72"}),i.createElement("defs",null,C),i.createElement("g",null,i.createElement("use",{className:I.valueCircle,stroke:S>=94&&Boolean(F)?F:j,strokeOpacity:D,strokeWidth:w,strokeDasharray:p,strokeDashoffset:p-A,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(F)?i.createElement("use",{className:I.valueCircle,stroke:F,strokeWidth:w,strokeDasharray:p,strokeDashoffset:N,transform:`rotate(${-90-T} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}):null,i.createElement("use",{className:I.valueCircle,stroke:O,strokeDasharray:p,strokeDashoffset:p-E,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:w,xlinkHref:"#circle"}),i.createElement("text",Object.assign({className:b.radialProgressText,y:"38",x:"36",fill:$,fontSize:x,fontStyle:"normal",textAnchor:"middle"},o.h5(e.has(d.a.Flag.supportsSVGDominantBaseline))),S),Boolean(c)?i.createElement("text",{className:b.radialProgressDescription,fill:$,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},c):null))))}}v._nextGradientId=0,function(e){let t,n,i;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(i=e.IconSize||(e.IconSize={}))}(v||(v={}));const b={width:l.u.percent(100),height:l.u.percent(100),fontWeight:"bold",fill:s.Il.CoreNeutral90},C={fontSize:l.u.rem(2),fill:s.Il.CoreNeutral90},x={fontWeight:"normal",fontSize:l.u.px(11),fill:c.UE},I=l.u.stylesheet({radialProgressBar:[b],radialProgressText:[C],radialProgressDescription:[x],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},42329:(e,t,n)=>{n.d(t,{$:()=>p});var i=n(59312),r=n(27378),a=n(5739),o=n(12187),s=n(22232),l=n(44060),c=n(63969),d=n(24588),u=n(98403);function p(e){var{wrapperClassName:t,variation:n,isIdle:o,ref:s}=e,l=(0,i._T)(e,["wrapperClassName","variation","isIdle","ref"]);return r.createElement(a.F.span,{"data-role":"spinner",className:t},u.ab(n,(e=>r.createElement(p.Svg,Object.assign({},l,{type:e,isIdle:o})))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return(0,s.vE)(t)}},e.Svg=t=>{const{className:n,size:a=64,strokeWidth:l=2,type:c,name:d,isIdle:u}=t,p=(0,i._T)(t,["className","size","strokeWidth","type","name","isIdle"]),m=r.useRef(null),h=r.useRef(null);return r.useEffect((()=>((0,s.kG)(null!==m.current,"groupEl should be already created"),h.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>h.current.cancel())),[]),r.useEffect((()=>{(0,s.kG)(null!==h.current,"groupAnimation should be already created");const e=h.current;Boolean(e.play)&&(!0===u?e.pause():"running"!==e.playState&&e.play())})),r.createElement("svg",Object.assign({"data-role":d},(0,o.Sh)(n),{viewBox:"25 25 50 50",width:a,height:a},p),r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{ref:m},r.createElement("circle",Object.assign({},(0,o.Sh)(E.path,!0===u&&f,e.getClassName(E)(c)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:l,strokeMiterlimit:"10"})))))}}(p||(p={}));const m=200,h=c.u.keyframes({"0%":{strokeDasharray:`1px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(1)},"50%":{strokeDasharray:`89px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(-35)},"100%":{strokeDasharray:`89px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(-124)}}),f="spinnerIdle",g={animation:`${h} 2s ease-in-out infinite`,strokeDasharray:`1px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(1),strokeLinecap:"round",$nest:{[`&.${f}`]:{animationIterationCount:0}}},y={stroke:l.Il.CoreRed50},v={stroke:l.Il.CoreGreen50},b={stroke:l.Il.CoreBlue50},C={stroke:l.Il.CoreNeutral0},x={stroke:d.lh},I={stroke:d.AX},w={stroke:l.Il.CoreYellow60},S={stroke:d.FW},k={stroke:l.Il.CoreCyan50},E=c.u.stylesheet({path:[g],red:[y],green:[v],blue:[b],white:[C],violet:[x],yellow:[I],orange:[w],gray:[S],cyan:[k]})},79227:(e,t,n)=>{n.d(t,{J:()=>i,k:()=>v});var i,r=n(71249),a=n(95195),o=n(23330),s=n(35214),l=n(64015),c=n(57050),d=n(40327),u=n(84966),p=n(5114),m=n(95574),h=n(81670),f=n(81531),g=n(40018),y=n(66896);!function(e){e.getSubTypeFromLens=e=>y.R.isPriority(e)||y.R.isPriorityOutcomeId(e)?u.e3.SidebarPriority:u.e3.Sidebar}(i||(i={}));class v{constructor(e,t){this._alertsReader=e,this._ops=t,this._log=f.C8.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>(0,d.pipe)(e,this._alertsReader.getById,a.Yo((()=>new Error(`alert ${e} not found in the repo`)))),this.undoBulk=(0,c.ls)(l.DZ((0,c.ls)(this._alertsReader.getById,p.filter(g.bZ.isBulkApplied))),(e=>this._ops.undoApplied(e,g.bZ.State.Applied.Method.Bulk)()),a.fS((e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e}))),this.getHighlightRanges=(0,c.ls)(this._findAlert,a.UI((e=>e.getHighlightRanges()))),this.hasNewRangesForUpdate=(0,c.ls)(this._findAlert,a.UI((e=>e.hasNewRangesForUpdate))),this.applyPendingRangesUpdate=(0,c.ls)(this._findAlert,a.UI((e=>e.applyPendingRangesUpdate()))),this.getAppliedRanges=(0,c.ls)(this._alertsReader.getById,a.Yo((()=>new Error("alert not found in the repo"))),a.Y$(g.bZ.isApplicableAlert,(e=>new Error(`alert is not applicable: ${e.alertType}`))),a.UI((e=>e.getAppliedRanges())))}apply(e,t){const{alternativeIndex:n,source:i}=t;return this._log.trace("apply",e),(0,d.pipe)(this._findAlert(e),a.tS(a.DT(g.bZ.isApplicableAlert,(()=>new Error("cannot apply not applicable alert")))),a.tS((e=>(0,d.pipe)(m.vM((()=>e.apply(t))),a.Vn((t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:n,source:i}),t)))))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,u.DI.BULK_ACCEPTED,t);const n=(0,d.pipe)(e,h.T.fromArray((e=>(0,d.pipe)(this._findAlert(e),a.Vn((t=>(0,c.bc)(t,{id:e}))),a.tS(a.DT(g.bZ.isRegisteredApplicableAlert,(e=>(0,c.bc)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert())))),a.tS(a.DT((e=>u.wQ.withTransformJson(e._raw)),(e=>(0,c.bc)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert())))),a.Vn((([e,t])=>(this._log.error(e.message,t),e)))))));return(0,d.pipe)(n,h.T.flatMap(r.uZ(),(e=>(0,d.pipe)(this._ops._applyTransformJson({alerts:e.map((e=>({alert:e,alternative:g.bZ.getApplicableAlternative(e,0)}))),source:g.l$.api,method:g.bZ.State.Applied.Method.Bulk,feedbackSubtype:t}),o.g_((t=>()=>(this._log.error("applyBulk error",t),h.T.of([],e.map((e=>e.id))))),(()=>()=>h.T.of(e.map((e=>e.id))))))())))}confirmApplied(e){return this._log.trace("commitApplied",e),(0,d.pipe)(e,h.T.fromArray((0,c.ls)(this._findAlert,a.UI(g.Ev.castApplied))),a.Vn((e=>new Error(`Error on trying to confirm applied alerts: ${e.rejected.join(",")}`))),a.tS((e=>this._ops._confirmApplied(e)())))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),(0,d.pipe)(e.map((0,c.ls)(this._findAlert,a.UI((e=>[e])))),(0,s.fold)(C),a.tS((e=>this._ops._dismissBatch(e,t)())))}applyFeedback(e,t,n){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._alertFeedback(e,t,n)())))}sendBatchFeedback(e,t,n){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),(0,d.pipe)(e,h.T.fromArray(this._findAlert),h.T.tapFailure((e=>this._log.error("Cannot send batch feedback for alerts",e.rejected))),h.T.foldSuccess((e=>a.F2(this._ops._alertBatchFeedback(e,t,n)()))))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),(0,d.pipe)(this._findAlert(e.id),a.tS((e=>e.takeReference(t))))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),(0,d.pipe)(e,h.T.fromArray((e=>this._findAlert(e.id))),h.T.flatMap(r.uZ(),(e=>(0,d.pipe)(this._ops._changeMuteState(e,t)(),a.Vn((e=>(this._log.error("Can not change mute state",e),e))),m.MH))))}changeGapValue(e,t){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._changeGapValue(e,t)())))}changeTakeawayFeedback(e,t){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._changeTakeawayFeedback(e,t)())))}changeSentenceLevelBrandTonesFeedback(e,t){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._changeSentenceLevelBrandTonesFeedback(e,t)())))}shortenItSummaryNotFound(e){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._shortenItSummaryNotFound(e)())))}sendShortenItSummaryRequest(e){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._commitShortenItSummaryRequest(e)())))}dismissShortenItTransformGroup(e,t){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._dismissShortenItTransformGroup(e,t)())))}changeToneAIToneAlternative(e,t){return(0,d.pipe)(this._findAlert(e),a.tS((e=>this._ops._changeToneAIToneAlternative(e,t)())))}}const b=r.uZ(),C=(0,a.$4)(b)},4390:(e,t,n)=>{n.d(t,{p:()=>i});var i,r=n(22690),a=n(57050),o=n(40327),s=n(64681),l=n(92843),c=n(93756),d=n(81670),u=n(19429),p=n(70996),m=n(20321),h=n(88570);!function(e){let t;!function(e){e.show=l.v.getShow(r._3,p.h.show),e.eq=l.v.getEq(p.h.Id.ord,p.h.ord),e.empty=()=>l.v.empty(),e.toRegistered=function(e){return l.v.fromMutation((t=>{(0,o.pipe)(e,l.v.forEach(((e,n)=>p.h.isRegistered(e)&&t.set(n,c.t$(e))),((e,n,i)=>{p.h.isRegistered(e)?p.h.isRegistered(n)?t.set(i,c.Hk(e,n)):t.set(i,c.t$(e)):p.h.isRegistered(n)&&t.set(i,c.F2(n))}),((e,n)=>p.h.isRegistered(e)&&t.set(n,c.F2(e)))))}))},e.filter=function(e){return l.v.filter(e,((t,n)=>e(t)&&e(n)),e)}}(t=e.Diff||(e.Diff={})),e.empty=m.v.iso.wrap(m.v.empty),e.eq=s.Eh(m.v.eqShow),e.show=m.v.eqShow,e.get=function(e){return(0,a.ls)(m.v.iso.unwrap,m.v.get(e))},e.reduce=function(e,t){return(0,a.ls)(m.v.iso.unwrap,m.v.reduce(e,t))},e.diff=function(e,t){return m.v.diff(m.v.iso.unwrap(e),m.v.iso.unwrap(t))},e.isEmpty=function(e){return 0===m.v.iso.unwrap(e).entries.size},e.find=function(e){return(0,a.ls)(m.v.iso.unwrap,m.v.find(e))},e.size=function(){return(0,a.ls)(m.v.iso.unwrap,m.v.size)},e.from=function(e){return(0,o.pipe)(m.v.createDiff({added:e.reduce(((e,t)=>e.set(t.id,p.h.create(t))),new Map)}),d.T.recover(a.Q1),h.r.applyDiff,u.UI((0,a.ls)(d.T.recover(a.Q1),m.v.iso.wrap)))(m.v.empty)}}(i||(i={}))},20321:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(71249),r=n(22690),a=n(40327),o=n(64681);var s,l={equals:function(){return!0}},c=n(92843),d=n(22232),u=n(95574),p=n(43675),m=n(5114),h=n(93756),f=n(95195),g=n(73975),y=n(90329),v=n(70996);!function(e){function t(e,t){return n=>n.order.reduce(((e,i)=>((0,d.kG)(n.entries.has(i),"got corrupted state"),t(e,n.entries.get(i)))),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const i=new Map,r=c.v.fromMutation((r=>{n.forEach(((e,t)=>{r.set(t,h.t$(e))})),e.forEach(((e,t)=>{r.has(t)?i.set(t,`alert add overlaps with alert remove: toAdd(${v.h.show.show(e)} overlapWith(${h.ZN(v.h.show,v.h.show).show(r.get(t))}))`):r.set(t,h.F2(e))})),t.forEach((([e,t],n)=>{r.has(n)?i.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${v.h.show.show(t)}) overlapWith(${h.ZN(v.h.show,v.h.show).show(r.get(n))}))`):r.set(n,h.Hk(e,t))}))}));return i.size>0?f.t$({recovered:r,rejected:i}):f.F2(r)}e.iso=o.k4(),e.empty={entries:new Map,order:[],latestChangeDiff:c.v.empty(),diffVersion:0},e.get=function(e){return t=>m.fromNullable(t.entries.get(e))},e.find=function(e){return t(m.none,((t,n)=>(0,a.pipe)(t,m.alt((()=>m.fromPredicate(e)(n))))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?u.MH(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:p.yi(v.h.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=p.QT(p.kH.createStrict(v.h.ordShow),t.entries,e);return(0,a.pipe)(n,f.Pd((n=>{const i=c.v.fromMutation((t=>{(0,a.pipe)(e,c.v.forEach(((e,i)=>!n.rejected.has(i)&&t.set(i,h.t$(e))),((e,i,r)=>!n.rejected.has(r)&&t.set(r,h.Hk(e,i))),((e,i)=>!n.rejected.has(i)&&t.set(i,h.F2(e)))))}));return{recovered:C(n.recovered,i,t.diffVersion),rejected:n.rejected}}),(n=>C(n,e,t.diffVersion))))}},e.applyDiffLoose=function(e){return t=>{const n=p.QT(p.kH.createLoose(v.h.ordShow),t.entries,e);return(0,a.pipe)(n,f.Pd((n=>({recovered:C(n.recovered,e,t.diffVersion),rejected:n.rejected})),(n=>C(n,e,t.diffVersion))))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:c.v.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffEqShow=Object.assign(Object.assign({},c.v.getEq(v.h.Id.ord,v.h.ord)),c.v.getShow(v.h.Id.show,v.h.show));const s=Object.assign(Object.assign({},y.Eh(v.h.Id.ord,v.h.ord)),y.ZN(v.h.Id.show,v.h.show)),b=Object.assign(Object.assign({},i.Eh(v.h.Id.ord)),i.ZN(v.h.Id.show));function C(e,t,n){return{entries:e,order:(0,a.pipe)(e,y.VO(v.h.ord),i.UI((e=>e.id))),latestChangeDiff:t,diffVersion:n+1}}e.contentEqShow=Object.assign(Object.assign({},g.MW({entries:s,order:b,latestChangeDiff:l,diffVersion:l})),r.aM({entries:s,order:b,latestChangeDiff:e.diffEqShow,diffVersion:r.yt})),e.eqShow=Object.assign(Object.assign({},g.MW({entries:s,order:b,latestChangeDiff:e.diffEqShow,diffVersion:g.lr})),r.aM({entries:s,order:b,latestChangeDiff:e.diffEqShow,diffVersion:r.yt}))}(s||(s={}))},88570:(e,t,n)=>{n.d(t,{r:()=>i});var i,r=n(57050),a=n(95195),o=n(20321);!function(e){e.empty=o.v.empty,e.applyDiff=function(e){return(0,r.ls)(o.v.applyDiffLoose(e),a.Vn((e=>({recovered:e.recovered,rejected:e.rejected}))))},e.toCheckingResult=function(e){return o.v.iso.wrap(e)}}(i||(i={}))},51838:(e,t,n)=>{n.d(t,{ab:()=>i,X2:()=>r,sg:()=>a,gO:()=>o,xv:()=>s,zx:()=>d,JO:()=>u,Ki:()=>p,XF:()=>m});var i,r,a,o,s,l,c,d,u,p,m,h,f,g=n(10644),y=n(22232),v=n(18208);!function(e){e.walk=function(e,t){const n=(e,t)=>{switch(t(e),e.type){case"block":e.parts.forEach((e=>n(e,t)))}};switch(e.type){case"strongAlertRef":n(e.child,t);break;case"column":e.children.forEach((e=>{"row"===e.type?(e.left.forEach((e=>n(e,t))),e.right.forEach((e=>n(e,t)))):n(e,t)}));break;default:(0,y.vE)(e)}}}(i||(i={})),function(e){e.create=function(e,t,n){return{type:"row",left:e,right:t,spacing:n}}}(r||(r={})),function(e){e.create=function(e){return{type:"column",children:e}}}(a||(a={})),function(e){e.Type="block",e.create=function(t,n,i,...r){return{type:e.Type,name:t,parts:r,spacing:n,innerSpacing:i}}}(o||(o={})),function(e){e.Type="text",e.create=function(t,n,i,r,a,o){return{type:e.Type,text:t,size:n,format:i,textColor:r,backgroundColor:a,outlineColor:o}}}(s||(s={})),function(e){e.create=function(e,t){return{type:"alternative",label:e,preview:t}}}(l||(l={})),function(e){e.create=function(...e){return{type:"alternativeChoice",alternatives:e}}}(c||(c={})),function(e){let t;e.Type="button",function(e){e.isTransitionAction=function(e){return"transition"===e.type},e.isApplyAlternativeAction=function(e){return"applyAlternative"===e.type},e.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}}}(t=e.Action||(e.Action={})),e.create=function(t,n,i,r,a){return{type:e.Type,id:t+"#"+v.fg(4),name:t,tooltip:a,kind:r,state:g.BN.Enabled,label:{type:o.Type,name:"",parts:[s.create(n,g.yH.Regular,[],g.Il.CoreNeutral0,void 0,void 0)]},actions:i}},e.createIcon=function(t,n,i,r,a){return{type:e.Type,id:t+"#"+v.fg(4),name:t,tooltip:a,kind:r,state:g.BN.Enabled,label:{type:o.Type,name:"icon-button-"+t,parts:[u.create(n,void 0)]},actions:i}}}(d||(d={})),function(e){let t;e.Type="icon",function(e){e.createKnown=function(e){return{kind:"known",name:e}},e.createUrl=function(e,t,n){return{kind:"url",url:e,name:t,size:n}}}(t=e.Source||(e.Source={})),e.create=function(t,n){return{type:e.Type,source:t,backgroundColor:n}}}(u||(u={})),function(e){e.create=function(e,t,n,i){return{top:e,bottom:n,left:i,right:t}}}(p||(p={})),function(e){e.Type="count",e.create=function(e,t){return{type:"count",backgroundColor:t,value:e}}}(m||(m={})),function(e){let t;!function(e){e.create=function(e,t,n){return{type:"sliderChoice",id:`slider-choice-${t.toLowerCase()}#${v.fg(4)}`,icon:e,label:t,actions:n}}}(t=e.Choice||(e.Choice={})),e.create=function(e,t){return{type:"slider",fillColor:e,choices:t}}}(h||(h={})),function(e){let t;!function(e){e.create=function(e,t,n,i){return{type:"alternativeSliderChoice",id:`alternative-slider-choice-${t.toLowerCase()}#${v.fg(4)}`,icon:e,label:t,actions:n,preview:i}}}(t=e.Choice||(e.Choice={})),e.create=function(e,t){return{type:"alternativeSlider",fillColor:e,choices:t}}}(f||(f={}))},10918:(e,t,n)=>{n.d(t,{P:()=>A});var i=n(27378),r=n(10644),a=n(71249),o=n(57050),s=n(38983),l=n(5739),c=n(22232),d=n(83078),u=n(5114),p=n(51838),m=n(85255),h=n(50628),f=n(2834),g=n(63969);const y=({parentKey:e,from:t,transition:n,to:r,onAnimationEnd:a,renderContent:o})=>{const s=v(n.animateFrom,"from"),l=v(n.animateTo,"to"),c=s.needFullWidth||l.needFullWidth;return i.createElement("div",{className:g.u.joinClasses([b,c?C:""])},t&&i.createElement(i.Fragment,null,i.createElement("div",{onAnimationEnd:()=>a(n.fromName),className:g.u.joinClasses(s.className)},o(t,`from-${e}`,[]))),i.createElement("div",{onAnimationEnd:()=>a(n.toName),className:g.u.joinClasses(l.className)},o(r,`to-${e}`,[])))};function v(e,t){switch(e){case"fadeOut":return{className:[I],needFullWidth:!1};case"fadeIn":return{className:[S],needFullWidth:!1};case"slideLeft":return{className:E(t,"left"),needFullWidth:!0};case"slideRight":return{className:E(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}const b=g.u.style({position:"relative",overflow:"hidden"}),C=g.u.style({width:"100%"}),x=g.u.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),I=g.u.style({position:"absolute",opacity:0,visibility:"hidden",animation:`${x} ${g.u.seconds(.3)} ease-out`}),w=g.u.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),S=g.u.style({animation:`${w} ${g.u.seconds(.3)} ease-out`}),k=e=>`calc(${e}px * var(--cardWidth))`,E=(e,t)=>{const n="to"===e?0:"left"===t?`${k(-1)}`:`${k(1)}`,i="from"===e?0:"left"===t?`${k(1)}`:`${k(-1)}`,r=g.u.keyframes({from:{transform:`translateX(${i})`,visibility:"visible"},to:{transform:`translateX(${n})`,visibility:"from"===e?"hidden":"visible"}}),a=g.u.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=g.u.style({position:"from"===e?"absolute":"relative",animation:`${r} ${g.u.seconds(.3)} ease-out`});return"from"===e?[a,o]:[o]},A=({content:e,prevContent:t,transitions:n,designSystem:g,notify:v,onMount:b,onAnimationEnd:C})=>{const x=s.h.create(0),I=new Map,w=(e,t,n,a)=>{const s=e.name,d=Boolean(s)?n.find((e=>e.toName===s)):void 0;if(null!=d){const n=I.get(d.fromName);return i.createElement(y,{key:t,parentKey:t,renderContent:(e,t)=>w(e,t,[],o.Q1),onAnimationEnd:a,from:n,to:e,transition:d})}switch(e.type){case"text":return i.createElement(g.text,Object.assign({key:t},e));case"button":const o=e.label.parts.map(((e,t)=>"text"===e.type?e.text:w(e,t,n,a)));return i.createElement(l.F.Fragment,{key:t},x.view((n=>i.createElement(g.button[e.kind],{key:t,text:i.createElement(g.block,Object.assign(Object.assign({key:t},e.label),{children:o})),name:e.name,state:"accept"===e.name&&-1===n?r.BN.Hidden:e.state,tooltip:e.tooltip,onClick:k(e.actions,e.id)}))));case"alternativeChoice":return i.createElement(l.F.Fragment,{key:t},x.view((n=>i.createElement(g.alternativeChoice,{key:t,designSystem:g,content:e.alternatives,activeIndex:n,notify:k}))));case"icon":return S(e.source,e.backgroundColor,t);case"count":return i.createElement(g.count,Object.assign({key:t},e));case"block":return i.createElement(g.block,Object.assign(Object.assign({key:t},e),{children:e.parts.map(((e,t)=>w(e,t,n,a)))}));case"row":return i.createElement(g.row,Object.assign(Object.assign({key:t},e),{left:e.left.map(((e,t)=>w(e,t,n,a))),right:e.right.map(((e,t)=>w(e,t,n,a)))}));case"column":return i.createElement(g.column,Object.assign(Object.assign({key:t},e),{children:e.children.map(((e,t)=>w(e,t,n,a)))}));case"slider":return i.createElement(g.slider,Object.assign({key:t,designSystem:g,onChoiceSelected:k},e));case"alternativeSlider":return i.createElement(g.alternativeSlider,Object.assign({key:t,designSystem:g,activeAltIndex:x.view(),notify:k},e));case"strongAlertRef":return w(e.child,t,n,a);default:return(0,c.L0)(e),i.createElement("div",null,"unknown element")}},S=(e,t,n)=>"known"===e.kind?i.createElement(g.icon[e.name],{key:n,backgroundColor:t}):i.createElement(g.image,Object.assign(Object.assign({key:n},e),{backgroundColor:t})),k=(e,t,n=r.nz.Click)=>()=>(0,o.zG)(e,function(e,t){return a.QI({type:"notify",id:e,userAction:t})}(t,n),E,v);function E(e){return(0,o.zG)(e,a.UI((e=>"applyAlternative"===e.type?{type:"applyAlternative",alternativeIndex:x.get()}:"selectAlternative"===e.type?(x.set(e.alternativeIndex),e):e)))}u.isSome(t)&&p.ab.walk(d.MH(t),(e=>{const t=e.name;Boolean(t)&&null!=t&&I.set(t,e)}));const A=n.reduce(((e,t)=>(I.has(t.fromName)&&(e+=1),e+=1)),0),T=s.h.create([]);return m.P.useSubscriptionTo((0,o.zG)(T,h.P((e=>e.length===A)),f.b(C))),m.P.useEffectOnDidMount(b),w(e,0,n,(e=>T.modify((t=>[...t,e]))))}},7826:(e,t,n)=>{n.d(t,{k:()=>ot});var i=n(27378),r=n(10644),a=n(64015),o=n(57050),s=n(5114),l=n(63969);const c=e=>"alternative"===e.type,d=e=>"selectAlternative"===e.type?s.some(e.alternativeIndex):s.none;function u(e){return t=>(0,o.zG)(t,a.Ew((0,o.ls)(d,s.exists((t=>t===e)))),s.isSome)}const p=l.u.stylesheet({spacer:[{width:"100%"}]});var m=n(5739),h=n(81531);const f=l.u.stylesheet({spacer:[{width:"100%"}]});var g=n(22232),y=n(71249),v=n(44060),b=n(40219),C=n(7046),x=n(73711),I=n(3656);const w={primary:e=>i.createElement(C.zx.Primary,Object.assign({},N(e),{className:l.u.joinClasses([T.primary,T.main])}),e.text),secondary:e=>i.createElement(C.zx.Tertiary,Object.assign({},N(e),{className:T.main}),e.text),toggle:e=>i.createElement(C.zx.Animated,Object.assign({},N(e),{styleType:I.ZT.Type.Button,className:l.u.joinClasses([x.LI,T.toggle,T.main])}),e.text)},S={height:l.u.rem(2),$nest:{'& i, & [data-role="icon"]':{margin:l.u.rem(.25)}}},k=(0,x.T)({default:{padding:`0 ${l.u.rem(.5)}`,borderRadius:l.u.rem(b.fx),whiteSpace:"normal",backgroundColor:v.Il.CoreNeutral0,color:v.Il.CoreBlue50,border:`1px solid ${v.Il.CoreNeutral20}`,transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:v.Il.CoreBlue1},disabled:{color:v.Il.CoreNeutral40,borderColor:v.Il.CoreNeutral10},clicked:{backgroundColor:v.Il.CoreBlue10},toggled:{backgroundColor:v.Il.CoreNeutral1,borderColor:v.Il.CoreBlue50},hidden:{}}),E={fill:v.Il.CoreNeutral0,stroke:v.Il.CoreNeutral0},A={$nest:{"& i":E,"&:not([data-disabled='true'])[data-hovered='true'] i":E}},T=l.u.stylesheet({main:[S],primary:[A],toggle:[k]});function N(e){return Object.assign({name:e.name,onClick:e.onClick,title:void 0!==e.tooltip&&e.state!==r.BN.Disabled?(t=e.tooltip,i.createElement(i.Fragment,null,(0,o.zG)(t.split("\n"),(e=>{const t=e.length;return 0===t?e:y.QI(e[0],e.slice(1,t).map(((e,t)=>i.createElement(i.Fragment,{key:t},i.createElement("br",null),e))))})))):void 0},function(e){switch(e){case r.BN.Enabled:return{disabled:!1,active:!1};case r.BN.Disabled:return{disabled:!0,active:!1};case r.BN.Selected:return{disabled:!1,active:!0};case r.BN.Hidden:return{hidden:!0};default:return(0,g.vE)(e)}}(e.state));var t}var O=n(7514);const $=({size:e,format:t,textColor:n,backgroundColor:a,outlineColor:o,text:s})=>{const c=function(e,t){const n=`${e}-${t}`,i=_.get(n);if(void 0!==i)return i;{const i=l.u.style({color:v.Il[e],backgroundColor:Boolean(t)?v.Il[t]:t});return _.put(n,i),i}}(n,a),[d,...u]=t,p=void 0!==d?B[d]:"span",m=u.map((e=>e===r.SQ.StrikeoutDiagonal?function(e){const t=`sd-${e}`,n=_.get(t);if(void 0!==n)return n;{const n=l.u.style((e=>({backgroundImage:`linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ${v.Il[e]} 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)`}))(e));return _.put(t,n),n}}(null!=o?o:n):P[e]));return void 0!==o&&m.push(function(e){const t=`ol-${e}`,n=_.get(t);if(void 0!==n)return n;{const n=l.u.style({borderColor:v.Il[e]});return _.put(t,n),n}}(o)),i.createElement(p,{className:l.u.joinClasses([c,L[e],...m]),children:s})},F={padding:`${l.u.rem(.15625)} 0`},j={letterSpacing:l.u.rem(v.xv.BodyLetterSpacing),fontSize:l.u.rem(v.xv.BodySize),lineHeight:l.u.rem(21/16)},D={letterSpacing:l.u.rem(v.xv.SmallLetterSpacing),fontSize:l.u.rem(v.xv.SmallSize),lineHeight:l.u.rem(.875)},L=l.u.stylesheet({[r.yH.Regular]:[F,j],[r.yH.Small]:[F,D]}),P=l.u.stylesheet({[r.SQ.Bold]:[{fontWeight:"bolder"}],[r.SQ.Italic]:[{fontStyle:"italic"}],[r.SQ.StrikeoutHorizontal]:[{textDecoration:"line-through"}],[r.SQ.StrikeoutDiagonal]:[],[r.SQ.Outline]:[{padding:`${l.u.rem(1/16)} ${l.u.rem(3.5/16)} ${l.u.rem(1/16)} ${l.u.rem(3.5/16)}`,border:"1px solid",borderRadius:"2px"}]}),B={strikeoutHorizontal:"s",strikeoutDiagonal:"span",outline:"span",bold:"b",italic:"i"};const _=new O.z6(100);function M(e){return void 0===e?W.main:l.u.joinClasses([W.main,U(e)])}const R={padding:`${l.u.rem(2/16)} ${l.u.rem(.25)}`,minWidth:l.u.rem(1.125),borderRadius:l.u.rem(.75),display:"inline-flex",alignItems:"center",justifyContent:"center",$nest:{"& > *":{padding:0}}},W=l.u.stylesheet({main:[R]});function U(e){const t=`${e}`,n=H.get(t);if(void 0!==n)return n;{const n=l.u.style({backgroundColor:v.Il[e]});return H.put(t,n),n}}const H=new O.z6(100);var z=n(21474);const G={close:e=>i.createElement(z.JO.Close,{className:q(e)}),"arrow-right":e=>i.createElement(z.JO.Arrow,{direction:z.n4.right,className:q(e)}),"arrow-left":e=>i.createElement(z.JO.Arrow,{direction:z.n4.left,className:q(e)}),gear:e=>i.createElement(z.JO.Gear,{enforceStroke:!0,width:13,className:q(e)}),dictionary:e=>i.createElement(z.JO.Dict,{className:q(e)}),clarity:e=>i.createElement(z.JO.ClarityOutcome,{className:q(e)}),correctness:e=>i.createElement(z.JO.Correctness,{className:q(e)}),engagement:e=>i.createElement(z.JO.EngagementOutcome,{className:q(e)}),delivery:e=>i.createElement(z.JO.DeliveryOutcome,{className:q(e)}),diamond:e=>i.createElement(z.JO.Paid,{width:20,className:q(e)}),feedback:e=>i.createElement(z.JO.AssistantFeedback,{className:q(e)})},V={width:l.u.rem(1.5),height:l.u.rem(1.5),minWidth:l.u.rem(1.5),minHeight:l.u.rem(1.5),borderRadius:l.u.rem(1.5)},Y=l.u.stylesheet({main:[V]});function q(e){return void 0===e.backgroundColor?Y.main:l.u.joinClasses([Y.main,J(e.backgroundColor)])}function J(e){const t=Z.get(e);if(void 0!==t)return t;{const t=l.u.style({backgroundColor:v.Il[e]});return Z.put(e,t),t}}const Z=new O.z6(100),X={width:l.u.rem(.85),height:l.u.rem(.85)},K={width:l.u.rem(1.5),height:l.u.rem(1.5),borderRadius:l.u.rem(1.5),display:"flex",justifyContent:"center",alignItems:"center"},Q=l.u.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[X],wrapper:[K]});function ee(e){return void 0===e?Q.wrapper:l.u.joinClasses([Q.wrapper,J(e)])}function te(e){return void 0===e?l.u.joinClasses([Q.main,Q.defaultSize]):l.u.joinClasses([Q.main,ne(e)])}function ne(e){const t=ie.get(e);if(void 0!==t)return t;{const t=l.u.style({width:l.u.rem(Number(e)),height:l.u.rem(Number(e))});return ie.put(e,t),t}}const ie=new O.z6(100);function re({spacing:e,innerSpacing:t,horizontalAlign:n,verticalAlign:i,fraction:r}){const a=[];return void 0!==e&&a.push(function({top:e,bottom:t,left:n,right:i}){const r=`${e}-${t}-${n}-${i}`,a=oe.get(r);if(void 0!==a)return a;{const a=l.u.style({$debugName:"outer-spacing",marginTop:l.u.rem(Number(e)),marginLeft:l.u.rem(Number(n)),marginRight:l.u.rem(Number(i)),marginBottom:l.u.rem(Number(t))});return oe.put(r,a),a}}(e)),void 0!==t&&a.push(function({vertical:e,horizontal:t}){const n=`${e}-${t}`,i=oe.get(n);if(void 0!==i)return i;{const i=l.u.style({$debugName:"inner-spacing",$nest:{"& > *:nth-last-child(n+2)":{marginRight:l.u.rem(Number(t)),marginTop:l.u.rem(Number(e))}}});return oe.put(n,i),i}}(t)),void 0!==n&&a.push(se[n]),void 0!==i&&a.push(ae.flexBlock,le[i]),void 0!==r&&a.push(function(e){const t=`f-${e}`,n=oe.get(t);if(void 0!==n)return n;{const n=l.u.style({flex:e});return oe.put(t,n),n}}(r)),a.length>0?l.u.joinClasses(a):void 0}const ae=l.u.stylesheet({flexBlock:[{display:"flex",flexDirection:"row"}]});const oe=new O.z6(100),se=l.u.stylesheet({[r.Kq.Left]:[{textAlign:"left"}],[r.Kq.Center]:[{textAlign:"center"}],[r.Kq.Right]:[{textAlign:"right"}]}),le=l.u.stylesheet({[r.g$.Top]:[{alignItems:"flex-start"}],[r.g$.Middle]:[{alignItems:"center"}],[r.g$.Bottom]:[{alignItems:"flex-end"}]}),ce=l.u.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),de={display:"flex",flexWrap:"wrap",alignItems:"inherit",maxWidth:"100%",$nest:{"& > *":{marginRight:l.u.rem(.5)}}},ue=Object.assign(Object.assign({},de),{flexGrow:1}),pe=Object.assign(Object.assign({},de),{marginLeft:"auto",flexShrink:0}),me={marginBottom:l.u.rem(.5)},he=l.u.stylesheet({spacer:[me],row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[ue],rowRight:[pe]});function fe(e){return void 0===e?he.row:l.u.joinClasses([he.row,ge(e)])}function ge({top:e,bottom:t,left:n,right:i}){const r=`${e}-${t}-${n}-${i}`,a=ye.get(r);if(void 0!==a)return a;{const a=l.u.style({marginTop:l.u.rem(Number(e)),marginLeft:l.u.rem(Number(n)),marginRight:l.u.rem(Number(i)),$nest:{'[data-role="row-content"] > *':{marginBottom:l.u.rem(Number(t))}}});return ye.put(r,a),a}}const ye=new O.z6(100);var ve=n(40327),be=n(12187),Ce=n(60797),xe=n(32952),Ie=n(95300),we=n(24209),Se=n(17343),ke=n(93508),Ee=n(41398),Ae=n(85985),Te=n(77176),Ne=n(28043),Oe=n(2834),$e=n(55935),Fe=n(85255);const je="sliderOuterContainer",De="sliderLabel",Le="sliderContainer",Pe="slider",Be="sliderDragging",_e="sliderSliderDivisionPoint",Me="sliderDivisionPointHoverArea",Re="sliderInner",We="sliderInnerDragging",Ue="sliderInnerJiggle",He="sliderKnob",ze="sliderKnobDragging",Ge="sliderKnobEmoji",Ve={fontWeight:700,fontSize:l.u.rem(.875),lineHeight:l.u.rem(1),width:l.u.rem(8)},Ye={height:l.u.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},qe={position:"relative",width:l.u.percent(100),backgroundColor:v.Il.CoreNeutral40,height:l.u.rem(.125),borderRadius:l.u.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:l.u.rem(.5)},[`&:hover .${_e}`]:{visibility:"visible"}}},Je={height:l.u.rem(.5),$nest:{[`& .${_e}`]:{visibility:"visible"}}},Ze={position:"absolute",height:l.u.rem(.25),backgroundColor:v.Il.CoreNeutral0,top:l.u.rem(.125),bottom:l.u.rem(.125),borderRadius:l.u.percent(100),visibility:"hidden"},Xe={background:v.Il.CoreNeutral90,opacity:0,height:l.u.rem(1.5),position:"absolute",borderRadius:l.u.percent(100),cursor:"pointer",top:l.u.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},Ke={position:"relative",display:"flex",alignItems:"center",backgroundColor:v.Il.CorePurple40,height:l.u.percent(100),borderRadius:l.u.rem(.375),transition:"all 0.15s ease-in-out"},Qe=l.u.keyframes({from:{width:"100%"},to:{width:`calc(100% - ${l.u.rem(1.5)})`}}),et=l.u.keyframes({from:{width:`calc(100% - ${l.u.rem(1.5)})`},to:{width:"100%"}}),tt={transition:"none",animation:`${Qe} 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ${et} 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards,\n              ${Qe} 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 5.2s forwards,\n              ${et} 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 6.2s forwards`},nt={position:"absolute",right:l.u.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:l.u.rem(1.75),height:l.u.rem(1.75),backgroundColor:v.Il.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:l.u.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:l.u.rem(2),height:l.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},it={width:l.u.rem(2),height:l.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},rt={width:l.u.rem(.9375),height:l.u.rem(.9375),pointerEvents:"none"},at={outerContainer:l.u.joinClasses([je,l.u.style({display:"flex",alignItems:"center"})]),label:l.u.joinClasses([De,l.u.style(Ve)]),container:l.u.joinClasses([Le,l.u.style(Ye)]),slider:l.u.joinClasses([Pe,l.u.style(qe)]),sliderDragging:l.u.joinClasses([Be,l.u.style(Je)]),sliderDivisionPoint:l.u.joinClasses([_e,l.u.style(Ze)]),sliderDivisionPointHoverArea:l.u.joinClasses([Me,l.u.style(Xe)]),sliderInner:l.u.joinClasses([Re,l.u.style(Ke)]),sliderInnerDragging:l.u.joinClasses([We,l.u.style({transition:"none"})]),sliderInnerJiggle:l.u.joinClasses([Ue,l.u.style(tt)]),knob:l.u.joinClasses([He,l.u.style(nt)]),knobDragging:l.u.joinClasses([ze,l.u.style(it)]),knobEmoji:l.u.joinClasses([Ge,l.u.style(rt)])},ot={button:w,alternativeChoice:({designSystem:e,content:t,activeIndex:n,notify:l})=>{const d=(0,o.zG)(t,a.f2((0,o.ls)(s.fromPredicate(c),s.chainFirst((0,o.ls)((e=>e.label.actions),u(n),s.fromPredicate(o.yR))),s.map((e=>e.preview)))));return(0,o.zG)(d,s.fold((()=>null),(a=>i.createElement(i.Fragment,null,e.block(Object.assign(Object.assign({},a),{children:a.parts.map(((t,n)=>i.createElement(e.text,Object.assign({key:n},t))))})),i.createElement("div",{className:p.spacer}),t.map(((t,a)=>c(t)?i.createElement(e.button.toggle,{key:a,text:e.block(Object.assign(Object.assign({},t.label.label),{children:t.label.label.parts.map(((t,n)=>"text"===t.type?t.text:"known"===t.source.kind?i.createElement(e.icon[t.source.name],Object.assign({key:n},t)):null))})),name:t.label.name,state:u(n)(t.label.actions)?r.BN.Selected:r.BN.Enabled,tooltip:void 0,onClick:l(t.label.actions,t.label.id)}):i.createElement(e.text,Object.assign({key:a},t))))))))},text:$,image:({name:e,url:t,size:n,backgroundColor:r})=>i.createElement("div",{className:ee(r)},i.createElement("img",{src:t,className:te(n),alt:e})),icon:G,count:({backgroundColor:e,value:t,textColor:n=r.Il.CoreNeutral0})=>i.createElement("div",{className:M(e)},i.createElement($,{size:r.yH.Small,format:[r.SQ.Bold],textColor:n,text:t})),block:e=>i.createElement("div",{"data-role":"block-layout",className:re(e)},e.children),row:({left:e,right:t,spacing:n})=>{const r=Array.isArray(e)&&0===e.length,a=Array.isArray(t)&&0===t.length;return r&&a?i.createElement("div",{"data-role":"row-layout",className:void 0===n?he.spacer:ge(n)}):i.createElement("div",{"data-role":"row-layout",className:fe(n)},r?null:i.createElement("div",{"data-role":"row-content",className:he.rowLeft},e),a?null:i.createElement("div",{"data-role":"row-content",className:he.rowRight},t))},column:({children:e})=>i.createElement("div",{"data-role":"column-layout",className:ce.holder},e),slider:({fillColor:e,choices:t,designSystem:n,onChoiceSelected:a})=>{const{ref:o,onMount:c}=Fe.P.useElWatcher(),d=new xe.xQ,u=new xe.xQ,p=new xe.xQ,f=new xe.xQ,g=new xe.xQ,y=new xe.xQ,b=t.length-1,C=b>0?100/b:0,x=t.reduce((e=>{const t=e[e.length-1];let n=0;return void 0!==t&&(n=t+C),e.push(n),e}),[]),I=new Ie.X(x[b]),w=we.T(g.pipe(Se.h(!0)),p.pipe(Se.h(!1)),f.pipe(Se.h(!1))).pipe(ke.O(!1)),S=we.T(g,u).pipe(Ee.M(w),Ae.h((([e,t])=>t)),Te.U((([e])=>e)),Ee.M(o),Te.U((([e,t])=>(0,ve.pipe)(t,s.map((e=>e.getBoundingClientRect())),s.bindTo("sliderClientRect"),s.apS("containerMouseEventVal",s.some(e))))),Ce.oA,Te.U((({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,i=t.x+t.width;let r=0;return r=e.clientX<=n?0:e.clientX>=i?100:(e.clientX-n)/(i-n)*100,r}))),k=I.pipe(Ne.x(),Te.U((e=>{let t=-1;for(let n=0;n<x.length-1;n++){const i=x[n],r=x[n+1],a=(i+r)/2;e>=i&&e<=r&&(t=e>=a?n+1:n)}return t}))),E=k.pipe(Ne.x(),Te.U((e=>t[e])));Fe.P.useSubscriptionTo(we.T(S.pipe(Ne.x()),w.pipe(Ne.x(),Ae.h((e=>!e)),Ee.M(S),Te.U((([e,t])=>t)),Te.U((e=>{let t,n=0;for(const i of x){const r=Math.abs(e-i);(void 0===t||r<t)&&(t=r,n=i)}return n}))),d.pipe(Ae.h((e=>"ArrowRight"===e.key||"ArrowLeft"===e.key)),Oe.b((e=>{e.preventDefault(),e.stopPropagation()})),Te.U((e=>e.key)),Ae.h((e=>"ArrowRight"===e||"ArrowLeft"===e)),Ee.M(I),Te.U((([e,t])=>{let n;return n="ArrowRight"===e?t+C:t-C,n>100?100:n<0?0:n}))),y.pipe(Te.U((e=>x[e])))).pipe(Oe.b((e=>I.next(e)))));const A=I.pipe($e.T(1),Se.h(!0));return Fe.P.useSubscriptionTo(E.pipe(Te.U((e=>a(e.actions,e.id,r.nz.SelectSliderChoice))),Oe.b((e=>e())))),t.length<2?(h.C8.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:t.length}),null):i.createElement(m.F.div,{className:at.outerContainer,onKeyDown:e=>d.next(e),"data-role":"slider"},i.createElement(m.F.div,{className:at.label},E.pipe(Te.U((e=>e.label)))),i.createElement(m.F.div,{className:at.container,style:{width:l.u.rem(4*b)},onMouseMove:e=>u.next(e),onMouseUp:e=>p.next(e),onMouseLeave:e=>f.next(e)},i.createElement(m.F.div,Object.assign({},(0,be.Sh)(at.slider,w.pipe(Te.U((e=>e?at.sliderDragging:null)))),{mount:c}),i.createElement(m.F.div,Object.assign({},(0,be.Sh)(at.sliderInner,w.pipe(Te.U((e=>e?at.sliderInnerDragging:null))),A.pipe(ke.O(!1),Te.U((e=>e?null:at.sliderInnerJiggle)))),{style:{width:I.pipe(Te.U(l.u.percent)),color:v.Il[e]}}),i.createElement(m.F.div,Object.assign({},(0,be.Sh)(at.knob,w.pipe(Te.U((e=>e?at.knobDragging:null)))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),g.next(e)},tabIndex:0}),E.pipe(Te.U((e=>"known"===e.icon.source.kind?i.createElement(n.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):i.createElement(n.image,Object.assign({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))))))),w.pipe(Te.U((e=>t.map(((t,n)=>i.createElement(m.F.Fragment,{key:t.id},i.createElement("div",{className:at.sliderDivisionPoint,style:{width:l.u.rem(.25),left:l.u.rem(0===n?.125:4*n-.375)}}),k.pipe(Te.U((t=>t===n||e?null:i.createElement(m.F.div,{className:at.sliderDivisionPointHoverArea,style:{width:l.u.rem(1.5),left:l.u.rem(0===n?-.5625:4*n-.75-.1875)},onClick:()=>y.next(n)})))))))))))))},alternativeSlider:({fillColor:e,choices:t,designSystem:n,activeAltIndex:r,notify:a})=>i.createElement(i.Fragment,null,i.createElement(n.slider,{fillColor:e,choices:t.map((e=>({id:e.id,icon:e.icon,label:e.label,actions:e.actions}))),designSystem:n,onChoiceSelected:a}),i.createElement("div",{className:f.spacer}),i.createElement(m.F.Fragment,null,r.view((e=>(0,o.zG)(s.fromNullable(t[e+1]),s.map((e=>e.preview)),s.fold((()=>(h.C8.Logging.getLogger("AlternativeSliderView").warn("Cannot render alternative slider preview if there's no choice that matches the current alternative index.",{alternativeIndex:e}),null)),(e=>n.block(Object.assign(Object.assign({},e),{children:e.parts.map(((e,t)=>i.createElement(n.text,Object.assign({key:t},e))))})))))))))}},31820:(e,t,n)=>{n.d(t,{g:()=>i});var i,r=n(8725),a=n(35108),o=n(77176),s=n(2834),l=n(5114),c=n(57050),d=n(15646),u=n(60797),p=n(98403),m=n(76974),h=n(24209),f=n(85985),g=n(66310),y=n(17343);function v(e,t,n,i){return r.Z.composeUnion({Some:r.Z.composeKnot({value:r.Z.composeKnot({root:()=>e.pipe(o.U((e=>(0,c.zG)(b(i)(e),l.map((t=>({item:e,key:n(e),className:t})))))),u.oA),shadeItem:t})}),None:()=>m.of(l.none)},(t=>h.T(e.pipe(o.U(b(i))),t.pipe(f.h((e=>"root"===e.action.action.key&&e.action.action.action.type===d.eI.Kind.completeTransitionTo)),g.w(p.b2.rafScheduler),y.h(l.none)))))}function b(e){return t=>(0,c.zG)(t.visualState.from,l.chain((()=>e(t.visualState).shade)))}function C(e,t,n,i,a){return r.Z.composeKnot({root:()=>e.pipe(o.U((e=>{const{main:t,shade:n}=a(e.visualState);return{item:e,className:t,hasAnimation:l.isSome(t)||l.isSome(n)}}))),shade:v(e,n,i,a),item:t})}function x(e,t){return r.Z.composeKnot({root:()=>e.pipe(o.U((e=>e.visualState.transition.type))),staticItemChild:t})}!function(e){e.flow=function(e,t,n,i=(e=>e.id),s=a.CE.toOption(a.SA)){return r.Z.composeKnot({root:()=>e,animatedItem:r.Z.composeUnion({static:x(e,t),animating:C(e,t,n,i,s)},(()=>e.pipe(o.U((e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))))})},e.extend=function(e){return r.Z.extendActions(s.b((t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}})))}}(i||(i={}))},54483:(e,t,n)=>{n.d(t,{G:()=>g});var i=n(27378),r=n(5739),a=n(8725),o=n(28043),s=n(77176),l=n(5114),c=n(15646),d=n(54338),u=n(85287);const p=a.UI.Grid.make((({slots:e})=>i.createElement(d.f.Context.Provider,{value:d.f.emptyWithName("card")},i.createElement(r.F.div,{"data-role":"animation-wrapper",className:u.$4.animationWrapper},e.animatedItemBaseChild))));var m,h,f,g,y=n(22800);!function(e){e.make=function(e){return a.UI.Union.asOption(a.UI.Knot.make(t,{shadeItem:e}))};const t=a.UI.Grid.make((({slots:e,state:t,notify:n})=>i.createElement(r.F.Fragment,null,t.pipe(s.U((({item:a,key:o,className:s})=>i.createElement(r.F.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{y.c.get(e.animationName)!==s&&u.bb.get(e.animationName)!==s||n({type:c.eI.Kind.completeTransitionTo,id:a.id,transitionId:a.visualState.transitionId})()}},e.shadeItem)))))))}(m||(m={})),function(e){e.make=function(e){return a.UI.Composite.make(p,a.UI.Knot.make(t,{shade:m.make(e),item:e}))};const t=a.UI.Grid.make((({state:e,slots:t,notify:n})=>i.createElement(r.F.Fragment,null,e.pipe(s.U((({item:e,className:a,hasAnimation:o})=>(o||requestAnimationFrame(n({type:c.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),i.createElement(r.F.Fragment,null,t.shade,i.createElement(r.F.div,{className:l.toUndefined(a),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:c.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:c.eI.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))))}(h||(h={})),function(e){e.make=function(e){return a.UI.Composite.make(p,a.UI.Knot.make(t,{staticItemChild:e}))};const t=a.UI.Grid.make((({state:e,slots:t})=>i.createElement(r.F.Fragment,null,e.pipe(s.U((e=>i.createElement(r.F.div,{key:e},t.staticItemChild)))))))}(f||(f={})),function(e){e.make=function(e){return a.UI.Knot.make(t,{animatedItem:a.UI.Union.make("animatedItemKind",{static:f.make(e),animating:h.make(e)})})};const t=a.UI.Grid.make((({state:e,slots:t})=>i.createElement(r.F.Fragment,null,e.pipe(o.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),s.U((()=>i.createElement(r.F.Fragment,null,t.animatedItem)))))))}(g||(g={}))},7910:(e,t,n)=>{n.d(t,{sJ:()=>g});var i=n(57050),r=n(40327),a=n(5114),o=n(8725),s=n(34442),l=n(26027),c=n(48521),d=n(35416),u=n(25975),p=n(2844),m=n(77176),h=n(93508),f=n(28043);function g(e){return(t,n,i,r,a,s)=>o.Z.composeKnot({content:o.Z.fromSideEffect((n=>{y(t)(n);const i=n.action.action;"item"===i.key&&e(i.action)}),b(n,a,s)),root:v(n,i,r)})}function y(e){return t=>{switch(t.action.action.action.kind){case s.H.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case s.H.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const v=(e,t,n)=>o.Z.fromSideEffect((e=>{t.next(e.element)}),p.aj([n,e.view("cardsHeight")]).pipe(m.U((([e,t])=>({disableUserActions:e,height:t}))),h.O({disableUserActions:!1,height:0}))),b=(e,t,n)=>{const o=e.view(u.v.Prism.items),h=e.pipe(m.U((e=>e.itemsOrd))),g=e.pipe(m.U((0,i.ls)(d.In.getActiveItem,a.map(l.X.getId)),f.x())),y=e.view(t.getActiveAlertsCount).view((e=>0===e));return p.aj([o,g,y,h]).pipe(m.U((([e,i,o,l])=>{const d=(0,r.pipe)(e.find((e=>e.positionState.watched)),a.map((e=>e.value))),u=e.getAt(e.size-1);return e.filter((e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!(0,r.pipe)(t,a.exists((t=>t.id===e.id)))||(0,r.pipe)(t,a.exists((e=>e.positionState.isHeightValid))))(e,d))).map((e=>function(e){return(t,n,i,o)=>l=>{const d=(0,r.pipe)(t,a.exists((e=>e===l.id)));return{cell:{item:e.viewState(n,i)(l),root:{height:{value:l.positionState.height,watched:l.positionState.watched&&!e.isScheduledToDispose(l),isValid:l.positionState.isHeightValid},position:{top:l.positionState.absTop,animationInProgress:l.positionState.animationInProgress},layer:d||c.o.isAnimatable(l)&&l.visualState.incomplete&&!(0,r.pipe)(l.visualState.from,a.exists((e=>"focused"===e)))?s.H.Layer.front:s.H.Layer.back}},root:l.id,hashCode:l.hashCode.bind(l),equals:e=>l.equals(e.cell.item.view),compare:e=>o.compare(l,e.cell.item.view)}}}(t)(i,o,(0,r.pipe)(u,a.exists((t=>t.id===e.id))),l)(e)),n(l))})))}},49978:(e,t,n)=>{n.d(t,{Q:()=>i});var i,r=n(27378),a=n(5739),o=n(8725),s=n(18031),l=n(88867),c=n(22391),d=n(35108),u=n(40111),p=n(28043),m=n(77176);!function(e){e.Card=e=>o.UI.Node.make((({view:t})=>{const n=t("view");return r.createElement(a.F.Fragment,null,n.pipe(p.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),m.U((i=>r.createElement(c.p.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},(a=>r.createElement(l.b.Card,{mount:a,miniCard:r.createElement(u.A.Mini,{card:n,actions:e}),fullCard:r.createElement(u.A.Full,{card:n,actions:e}),successCard:r.createElement(s.A.Success,{cardData:i,isLastCard:t("isLastCard"),actions:e}),feedbackForm:r.createElement(s.A.FeedbackForm,{cardData:i,actions:e}),mutedCard:r.createElement(s.A.MutedAlert,{cardData:i,actions:e}),actions:e,card:i,transitionClassMapper:d.a})))))))}))}(i||(i={}))},52741:(e,t,n)=>{n.d(t,{p:()=>b});var i=n(27378),r=n(57050),a=n(5739),o=n(8725),s=n(18031),l=n(88867),c=n(22391),d=n(19025),u=n(28043),p=n(77176),m=n(44060),h=n(63969),f=n(40219);const g=({content:e})=>i.createElement("div",{className:v.container},e),y={borderRadius:h.u.rem(f.Jr),background:m.Il.CoreNeutral0,boxShadow:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"},v=h.u.stylesheet({container:[y]});var b;!function(e){e.Card=e=>o.UI.Node.make((({view:t})=>{const n=t("view");return i.createElement(a.F.Fragment,null,n.pipe(u.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),p.U((r=>i.createElement(c.p.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},(a=>i.createElement(l.b.Card,{mount:a,miniCard:i.createElement(s.A.Mini,{card:n,actions:e}),fullCard:i.createElement(s.A.Full,{card:n,actions:e}),successCard:i.createElement(s.A.Success,{cardData:r,isLastCard:t("isLastCard"),actions:e}),feedbackForm:i.createElement(s.A.FeedbackForm,{cardData:r,actions:e}),actions:e,card:r,mutedCard:i.createElement(s.A.MutedAlert,{cardData:r,actions:e})})))))))})),e.DenaliCardWrapper=o.UI.Grid.make((({slots:e,view:t})=>i.createElement(a.F.div,{className:(0,r.zG)(t("layoutDensity"),p.U((e=>(0,d.f8)(e).container)))},e.children))),e.LlamaCardWrapper=o.UI.Grid.make((({slots:e})=>i.createElement(a.F.Fragment,null,i.createElement(g,{content:e.children}))))}(b||(b={}))},84974:(e,t,n)=>{n.d(t,{z:()=>F});var i=n(27378),r=n(5739),a=n(8725),o=n(57050),s=n(5114),l=n(63969),c=n(41572),d=n(26027),u=n(15646),p=n(86718),m=n(4890),h=n(74754),f=n(66346),g=n(1883),y=n(55636),v=n(7046),b=n(21474),C=n(3656),x=n(28706),I=n(77176),w=n(30522),S=n(54126);const k=({item:e,layoutDensity:t})=>{const n=(0,o.zG)(t,m.j.Density.matchOrDefault(m.j.Density.minimal)((()=>$.minimalDescription),(()=>$.description)));return(0,o.zG)(e.cardMeta.details,s.fold((()=>null),(t=>i.createElement(f.G3,{key:"card-actions-details",visualState:e.visualState,className:$.more},i.createElement(C.XY,Object.assign({className:n},h.y.renderToHtml(t)))))))},E=({wordCount:e,checked:t})=>i.createElement(C.H3,{className:t?$.wordCountChecked:$.wordCountUnchecked},e," ",i.createElement(C.XY,{className:$.words},"words")),A=({item:e,layoutDensity:t,actions:n})=>{const r=p.f.isTextLengthCard(e.cardMeta)?e.cardMeta.wordCount:null;return i.createElement(i.Fragment,null,null!==r?i.createElement(E,{wordCount:r,checked:e.itemMeta.checked}):null,i.createElement(y.dk,{className:null!==r?$.descriptionWithHeader:void 0,description:e.cardMeta.explanation,actions:n,layoutDensity:t}))},T=({item:e,actions:t})=>(0,o.zG)(e.cardMeta.details,s.fold((()=>null),(()=>i.createElement(N,{key:"card-actions-button",actions:t,item:e})))),N=({item:{id:e,visualState:t},actions:n,className:r})=>{const a=i.useContext(c.m.Context);return i.createElement(v.zx.Tertiary,{key:"toggle-more",name:(0,f.hC)(t,a),title:(0,f.hC)(t,a),className:r,onClick:x.hz((()=>{n.next({type:u.eI.Kind.startTransitionTo,id:e,transition:{type:d.X.isCardOpen(t)?"focused":"expanded",clockwise:!0}})}))},d.X.isCardOpen(t)?i.createElement(b.JO.Arrow,{key:"more",className:$.lessIcon}):i.createElement(b.JO.QuestionMark,{key:"expand"}),(0,f.hC)(t,a))},O=e=>a.UI.Knot.make((e=>a.UI.Grid.make((({state:t,slots:n})=>i.createElement(r.F.div,{className:$.expanded},t.pipe(I.U((t=>{return i.createElement(g.Z,{header:i.createElement(r.F.Fragment,null,n.header),visualState:t.visualState,onFocus:o.Q1,theme:(a=t.renderOptions.layoutDensity,{wrapper:(0,o.zG)(a,m.j.Density.matchOrDefault(m.j.Density.minimal)((()=>$.wrapper),(()=>{})))}),body:i.createElement(A,{item:t,actions:e,layoutDensity:t.renderOptions.layoutDensity}),mainActions:null,footer:i.createElement(k,{item:t,layoutDensity:t.renderOptions.layoutDensity}),subActions:i.createElement(T,{item:t,actions:e})});var a})))))))(e),{header:w.r}),$=l.u.stylesheet({wrapper:[S.kX],lessIcon:[S.A2],more:[y.IH],description:[y.LM],minimalDescription:[y.LM,y.Gq],descriptionWithHeader:[S.H4],wordCountChecked:[S.NR],wordCountUnchecked:[S.Lp],words:[S.ht],expanded:[S.TX]});var F,j=n(34190),D=n(3303),L=n(70100),P=n(88867),B=n(19751);!function(e){e.Card=e=>a.UI.Node.make((({view:t})=>{const n=t("view"),o=(0,j.c)(n,e),s=(0,j.H)(n,e);return i.createElement(r.F.Fragment,null,n.pipe(B.$f(L.X.eq),I.U((t=>i.createElement(P.b.Card,{miniCard:a.UI.mount(D.m,o),fullCard:a.UI.mount(O(e),s),actions:e,card:t})))))}))}(F||(F={}))},98752:(e,t,n)=>{n.d(t,{fw:()=>i});var i,r=n(27378),a=n(57050),o=n(5739),s=n(5114),l=n(8125),c=n(8725),d=n(81531),u=n(34190),p=n(3303),m=n(77610),h=n(18031),f=n(88867),g=(n(85287),n(22800)),y=n(22391),v=n(35108),b=n(40111),C=n(6334),x=n(28043),I=n(77176);function w(e){return e.incomplete?(0,a.zG)(e.from,s.filter((e=>"expanded"===e||"focused"===e)),s.filter((()=>"removed"===e.transition.type)),s.map((()=>({main:g.S.focused2renderedBundleMain,shade:e.transition.clockwise?g.S.focused2renderedBundleShadeClockwise:g.S.focused2renderedBundleShade}))),s.getOrElse((()=>(0,v.a)(e)))):{}}!function(e){const t=e=>(0,a.zG)(e.card,m.C.match({super:(0,a.a9)(s.none),sentenceLevelBrandTones:(0,a.a9)(s.none),toneAI:(0,a.a9)(s.none),ethicalAI:(0,a.a9)(s.none),sdui:(0,a.a9)(s.none),synfony:(0,a.a9)(s.none),suggestedSnippet:(0,a.a9)(s.none),takeaway:s.some,shortenIt:s.some,default:s.some}),s.fromEither,s.chain(a.yR),s.fold((()=>(n("ChecklistBundleCard").error("rendering fallback for card",e.card),r.createElement(r.Fragment,null))),(t=>r.createElement(C.J,{card:t,actions:e.actions,isChecking:e.isChecking,transform:e.transform,isCheckingGlobal:e.isCheckingGlobal}))));e.Card=e=>c.UI.Node.make((({view:n})=>{const i=n("view"),a=(0,u.c)(i,e);return r.createElement(o.F.Fragment,null,i.pipe(x.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),I.U((o=>r.createElement(y.p.Provider,{card:i,cardVisibleViewportHeight:n("visibleViewportHeight")},(n=>r.createElement(f.b.Card,{mount:n,miniCard:c.UI.mount(p.m,a),fullCard:r.createElement(b.A.Full,{card:i,actions:e,renderCard:t}),feedbackForm:r.createElement(h.A.FeedbackForm,{cardData:o,actions:e}),mutedCard:r.createElement(h.A.MutedAlert,{cardData:o,actions:e}),actions:e,card:o,transitionClassMapper:w,removedCard:c.UI.mount(p.m,a)})))))))}));const n=(0,l.HP)(d.C8.Logging.getLogger)}(i||(i={}))},34190:(e,t,n)=>{n.d(t,{H:()=>s,c:()=>l});var i=n(8125),r=n(8725),a=n(24713),o=n(77176);const s=(e,t)=>r.Z.composeKnot({root:r.Z.fromSideEffect(i.Q1,e),header:d(e,t)}),l=(e,t)=>r.Z.composeKnot({root:r.Z.fromSideEffect((e=>t.next(e)),e.pipe(a.j("id"))),header:c(e)}),c=e=>r.Z.composeKnot({title:r.Z.fromSideEffect(i.Q1,e.pipe(o.U((e=>Object.assign(Object.assign({},e.itemMeta),{isMinimized:!0}))))),label:r.Z.fromSideEffect(i.Q1,e)}),d=(e,t)=>r.Z.composeKnot({title:r.Z.fromSideEffect(i.Q1,e.pipe(a.j("itemMeta"),o.U((e=>Object.assign(Object.assign({},e),{isMinimized:!1}))))),controls:r.Z.fromSideEffect((e=>t.next(e)),e.pipe(o.U((e=>e.id))))})},30522:(e,t,n)=>{n.d(t,{y:()=>C,r:()=>x});var i=n(27378),r=n(57050),a=n(5739),o=n(77176),s=n(5114),l=n(8725),c=n(63969),d=n(15215),u=n(39210),p=n(7046),m=n(21474),h=n(3656),f=n(54126);const g=({checked:e})=>i.createElement(a.F.Fragment,null,e.pipe(o.U((e=>e?i.createElement(m.JO.ValidationOk,{width:16}):i.createElement(m.JO.ValidationWarning,{width:16}))))),y=l.UI.Node.make((({state:e})=>i.createElement(i.Fragment,null,i.createElement(g,{checked:e.pipe(o.U((({miniChecked:e,checked:t})=>(0,r.zG)(e,s.getOrElse((()=>t))))))}),i.createElement(a.F.div,{className:I.titleContainer},e.pipe(o.U((e=>e.isMinimized?i.createElement(h.XY,{className:I.title},(0,r.zG)(e.miniTitle,s.getOrElse((()=>e.title)))):i.createElement(h.H4,{className:I.title},e.title)))))))),v=l.UI.Node.make((({state:e})=>i.createElement(a.F.Fragment,null,e.pipe(o.U((e=>(0,r.zG)(e.itemMeta.miniLabel,s.fold((()=>(0,r.zG)(d.d.getAlertsCount(e),s.fold(r.gn,(e=>i.createElement(h.x4,{className:I.counter,"data-name":"checklist-item/count"},e))))),(t=>i.createElement(h.x4,{className:(0,r.zG)(e.itemMeta.miniChecked,s.getOrElse((()=>e.itemMeta.checked)))?I.labelChecked:I.labelUnchecked},t)))))))))),b=({left:e,right:t,showActivateButton:n})=>i.createElement(a.F.div,{className:I.headerContainer},e,i.createElement(a.F.div,{className:f.Sc},t),n?i.createElement("div",{className:f.Tu},i.createElement(m.JO.Arrow,{className:I.activeTopIcon}),i.createElement(m.JO.Arrow,{className:I.activeBottomIcon})):null),C=l.UI.Knot.make(l.UI.Grid.make((({slots:e})=>i.createElement(b,{left:e.title,right:e.label,showActivateButton:!0}))),{title:y,label:v}),x=l.UI.Knot.make(l.UI.Grid.make((({slots:e})=>i.createElement(b,{left:e.title,right:e.controls,showActivateButton:!1}))),{title:y,controls:l.UI.Node.make((({notify:e,state:t})=>i.createElement(a.F.Fragment,null,t.pipe(o.U((t=>i.createElement(p.zx.Ghost,{name:"collapse",onClick:e({type:u.C.Type.collapseButtonClick,id:t})},i.createElement(m.JO.Arrow,{direction:m.n4.up}))))))))}),I=c.u.stylesheet({headerContainer:[f.lZ],titleContainer:[f.XE],title:[f.Cx],labelChecked:[f.i0],labelUnchecked:[f.D],counter:[f.e],activeTopIcon:[f.Lf],activeBottomIcon:[f.rx]})},3303:(e,t,n)=>{n.d(t,{m:()=>u});var i=n(27378),r=n(5739),a=n(8725),o=n(63969),s=n(15646),l=n(77176),c=n(30522),d=n(54126);const u=a.UI.Knot.make(a.UI.Grid.make((({slots:e,notify:t,state:n})=>i.createElement(r.F.div,{className:p.mini,onClick:n.pipe(l.U((e=>t({type:s.lY.Type.miniItemClick,id:e}))))},e.header))),{header:c.y}),p=o.u.stylesheet({mini:[d.oH]})},54126:(e,t,n)=>{n.d(t,{TX:()=>s,kX:()=>l,A2:()=>c,NR:()=>d,Lp:()=>u,ht:()=>p,H4:()=>m,lZ:()=>h,Sc:()=>g,XE:()=>y,Cx:()=>v,i0:()=>b,D:()=>C,e:()=>x,Tu:()=>w,Lf:()=>S,rx:()=>k,oH:()=>E});var i=n(44060),r=n(63969),a=n(40219);const o={display:"flex",boxSizing:"border-box",borderRadius:r.u.rem(a.Jr),boxShadow:i.uc.Z100,userSelect:"none",transform:"translateY(0)",background:i.Il.CoreNeutral0,overflow:"hidden"},s=Object.assign(Object.assign({},o),{flexDirection:"column"}),l={padding:`0 ${r.u.rem(.5)} ${r.u.rem(.5)} ${r.u.rem(1)}`},c={transform:"rotate(180deg)"},d={color:i.Il.CoreGreen60},u={color:i.Il.CoreRed50},p={display:"inline-block"},m={marginTop:r.u.rem(.5)},h={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:r.u.rem(2.5),width:r.u.percent(100),padding:`0 ${r.u.rem(.5)} 0 0`,boxSizing:"border-box",position:"relative"},f="checklistMiniRight",g=r.u.joinClasses([f,r.u.style({display:"flex",alignItems:"center",flexShrink:0,flexGrow:1,alignSelf:"stretch",justifyContent:"flex-end"})]),y={minWidth:0},v={fontSize:r.u.rem(i.xv.BodySize),whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",marginRight:r.u.rem(.5)},b={color:i.Il.CoreGreen70},C={color:i.Il.CoreRed50},x={color:i.Il.CoreNeutral40,display:"flex",alignItems:"center",justifyContent:"center",width:r.u.rem(1)},I="checklistMiniActivateBtn",w=r.u.joinClasses([I,r.u.style({position:"absolute",right:r.u.rem(.5),width:r.u.rem(1),transform:`translate(${r.u.rem(-.5)})`,opacity:0})]),S={display:"flex",margin:`${r.u.rem(.05)} 0 ${r.u.rem(-1.25)}`,transform:"rotate(180deg)"},k={display:"flex",height:"auto"},E=Object.assign(Object.assign({},o),{cursor:"pointer",$nest:{"&:hover":{background:i.Il.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:r.u.seconds(.2)},[`&:hover .${I}`]:{opacity:1},"&:hover .checklistMiniRight":{opacity:0}}})},34442:(e,t,n)=>{n.d(t,{H:()=>A});var i=n(27378),r=n(5739),a=n(12187),o=n(19962),s=n(8725),l=n(63969),c=n(40219),d=n(16782),u=n(41398),p=n(66310),m=n(24209),h=n(49708),f=n(85985),g=n(17343),y=n(76974),v=n(13444),b=n(50628),C=n(40151),x=n(2834),I=n(85089),w=n(28043),S=n(85255),k=n(77176),E=n(93508);var A;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={})),e.Cell=s.UI.Grid.make((({slots:e,state:s,notify:l})=>{const c=new d.t,A=s.pipe(u.M(c),p.w((([e,t])=>e.position.animationInProgress?m.T(h.R(t,"transitionend").pipe(f.h((e=>e.target===t&&"transform"===e.propertyName)),g.h(void 0)),y.of(void 0).pipe(v.g(200))).pipe(b.P()):C.E)),x.b(l({kind:n.completePositionAnimation}))),T=s.pipe(u.M(c),p.w((([e,t])=>e.height.watched?I.YC(t).pipe(f.h((t=>e.height.value!==t.height||!e.height.isValid||t.height>0))):C.E)),w.x(),x.b((({height:e})=>l({kind:n.changePosition,height:e})())));S.P.useSubscriptionTo(m.T(A,T));const N=s.pipe(k.U((e=>e.position.top)),k.U((e=>o.ux.translateY(e))),w.x()),$=s.pipe(k.U((e=>e.layer===t.front?1:0)),w.x()),F=s.pipe(k.U((({position:e})=>e)),w.x(((e,t)=>e.top===t.top)),k.U((({animationInProgress:e})=>e?O.animate:void 0)),E.O(void 0));return i.createElement(r.F.div,Object.assign({},(0,a.Sh)(O.item,F),{style:{transform:N,zIndex:$},mount:e=>{null!==e&&c.next(e)}}),e.item)}))}(A||(A={}));const T={position:"absolute",boxSizing:"border-box",width:l.u.percent(100),contain:"layout"},N={transition:`transform ${l.u.seconds(c.v4/1e3)} linear`},O=l.u.stylesheet({item:[T],animate:[N]})},95983:(e,t,n)=>{n.d(t,{vM:()=>p,aW:()=>i});var i,r=n(71249),a=n(57050),o=n(40327),s=n(22232),l=n(83078),c=n(5114),d=n(95195),u=n(89943);function p(e,t){return t.reduce(((t,n)=>{const i="function"==typeof e?e(n):n[e];let r=t.get(i);return r||(r=[],t.set(i,r)),r.push(n),t}),new Map)}!function(e){e.URI="ImmutableSortedMap",e.create=function(t,n,i){const r=Array.isArray(t)?new Map(t.map((e=>[n(e),e]))):t,a=e.orderKeys(r,i);return r.forEach((e=>(0,s.kG)(h(e),"init value should implement IEquals",(()=>JSON.stringify(e))))),new m(r,a,i,n)},e.empty=function(e,t){return new m(new Map,[],t,e)},e.diff=function(e,t){const n=e.clear();return e.reduce((({added:e,preserved:n,removed:i,changed:r},a,o)=>{const s=e.has(o)?e.remove(o):e;if(t.has(o)){const e=a.equals(l.MH(t.get(o)).value);return{removed:i,added:s,preserved:e?n.add(a):n,changed:e?r:r.add(a)}}return{removed:i.add(a),added:s,preserved:n,changed:r}}),{removed:n,added:t,preserved:n,changed:n})},e.unsafeGet=function(e,t){return l.MH(t.get(e)).value},e.unsafeGetBy=function(e){return t=>l.MH(t.get(e)).value},e.unsafeGetAt=function(e,t){return l.MH(t.getAt(e))},e.unsafeGetAtBy=function(e){return t=>l.MH(t.getAt(e))},e.nonEmpty=function(e){return e.size>0},e.lowerBound=function(e,t){let n=-1,i=e.size;for(;n+1!==i;){const r=n+(i-n>>1);t(l.MH(e.getAt(r)))?n=r:i=r}return n+1},e.createKeySorter=function(e,t){return(n,i)=>t(e(n),e(i))},e.orderKeys=function(t,n){return Array.from(t.keys()).sort(e.createKeySorter((e=>t.get(e)),n))},e.takeByKey=function(e,t,n){const i=(0,o.pipe)(n,r.cx((t=>t===e))),a=c.fromNullable(t.get(e));return(0,s.kG)(c.isNone(i)&&c.isNone(a)||c.isSome(i)&&c.isSome(a),"unsynced hash&order"),l.vB(((e,t)=>({index:e,value:t})))(i,a)},e.getFoldableWithIndex=function(){return{URI:e.URI,_E:void 0,reduce:(e,t,n)=>e.reduce(n,t),foldMap:e=>(t,n)=>t.reduce(((t,i)=>e.concat(t,n(i))),e.empty),reduceRight:(e,t,n)=>e.reduce(((e,t)=>n(t,e)),t),reduceWithIndex:(e,t,n)=>e.reduce(((e,t,i)=>n(i,e,t)),t),reduceRightWithIndex:(e,t,n)=>e.reduce(((e,t,i)=>n(i,t,e)),t),foldMapWithIndex:e=>(t,n)=>t.reduce(((t,i,r)=>e.concat(t,n(r,i))),e.empty)}}}(i||(i={}));class m{constructor(e,t,n,i){this._hash=e,this._order=t,this._comp=n,this._getKey=i,(0,s.kG)(e.size===t.length,"every hash entry should has order")}get(e){return i.takeByKey(e,this._hash,this._order)}getIndex(e){return c.fromPredicate((e=>e>-1))(this._order.indexOf(e))}getAt(e){return c.fromNullable(this._hash.get(this._order[e]))}has(e){return this._hash.has(e)}find(e,t=0){if(t<0)return c.none;for(let n=t;n<this._order.length;n++){const t=this._order[n],i=this._hash.get(t);if(e(i))return c.some({index:n,value:i})}return c.none}findFrom(e,t){return this.find(e,t)}findRight(e,t){if(Boolean(t)&&t>=this._order.length)return c.none;for(let n=Boolean(t)?t:this._order.length-1;n>=0;n--){const t=this._order[n],i=this._hash.get(t);if(e(i))return c.some({index:n,value:i})}return c.none}findRightFrom(e,t){return this.findRight(e,t)}map(e,t=this._comp){const n=new Map;this._order.forEach(((t,i)=>{const r=this._hash.get(t),a=e(r,t,i);(0,s.kG)(h(a),"transformed value should implement IEquals",(()=>JSON.stringify(a))),n.set(t,a)}));const r=i.orderKeys(n,t);return new m(n,r,t,this._getKey)}mapTo(e){return this._order.map(((t,n)=>e(this._hash.get(t),t,n)))}filter(e){const t=new Map,n=this._order.filter((n=>{const i=this._hash.get(n),r=e(i,n);return r&&t.set(n,i),r}));return new m(t,n,this._comp,this._getKey)}reduce(e,t){return this._order.reduce(((t,n,i)=>e(t,this._hash.get(n),n,i)),t)}modifyWith(e,t){const n=new Map(this._hash),r=this._order.slice(),a=(e,a)=>{const o=i.takeByKey(a,n,r),l=t(a,e,o);(0,s.kG)(h(l),"modified value should implement IEquals",(()=>JSON.stringify(l))),n.set(a,l),c.isNone(o)&&r.push(a)};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),r.sort(i.createKeySorter((e=>n.get(e)),this._comp)),new m(n,r,this._comp,this._getKey)}patchWith(e,t){const n=new Map(this._hash),r=this._order.slice(),d=(e,d)=>{const u=i.takeByKey(d,n,r),p=t(d,e,u);(0,s.kG)(l.wo(h)(p),"patched value should implement IEquals",(()=>JSON.stringify(p))),(0,o.pipe)(p,c.fold((()=>{(0,o.pipe)(u,c.fold(a.Q1,(({index:e})=>{n.delete(d),r.splice(e,1)})))}),(e=>{n.set(d,e),c.isNone(u)&&r.push(d)})))};return e instanceof Array?e.forEach((([e,t])=>d(t,e))):e.forEach(d),r.sort(i.createKeySorter((e=>n.get(e)),this._comp)),new m(n,r,this._comp,this._getKey)}add(e){const t=new Map(this._hash),n=this._order.slice();return(Array.isArray(e)?e:[e]).forEach((e=>{const i=this._getKey(e);(0,s.kG)(h(e),"added value should implement IEquals",(()=>JSON.stringify(e))),t.set(i,e),-1===n.indexOf(i)&&n.push(i)})),n.sort(i.createKeySorter((e=>t.get(e)),this._comp)),new m(t,n,this._comp,this._getKey)}update(e,t){return(0,o.pipe)(this.get(e),c.fold((()=>d.t$(`Provided key ${e} not found in the map`)),(({value:n})=>{const r=new Map(this._hash),a=this._order.slice();return r.set(e,t(n)),a.sort(i.createKeySorter((e=>r.get(e)),this._comp)),d.F2(new m(r,a,this._comp,this._getKey))})))}remove(e){(0,s.kG)(this.has(e),`can not remove unknown key: ${e}`);const t=new Map(this._hash);t.delete(e);const n=u.CE(e,this._order);return new m(t,n,this._comp,this._getKey)}clear(){return new m(new Map,[],this._comp,this._getKey)}hashCode(){let e=7;return this._hash.forEach((t=>e+=t.hashCode())),e}equals(e){return this.hashCode()===e.hashCode()&&this.size===e.size&&this.values().every(((t,n)=>t.equals(l.MH(e.getAt(n)))))}values(){return this._order.map((e=>this._hash.get(e)))}keys(){return this._order}get size(){return this._order.length}}function h(e){return!(!Boolean(e)||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}},26027:(e,t,n)=>{n.d(t,{X:()=>k});var i=n(35214),r=n(57050),a=n(40327),o=n(5114),s=n(22232),l=n(95195),c=n(73975),d=n(45701),u=n(8125),p=n(81531),m=n(40018),h=n(98637),f=n(77176),g=n(28043),y=n(19751),v=n(85985),b=n(36156),C=n(17594),x=n(55567),I=n(77610),w=n(4890),S=n(22848);class k{constructor(e,t,n,i,r,s,l,c,d,u,p,m,h,f,g,y,v,b){this.id=e,this.alerts=t,this.activeAlertIndex=n,this.activeHighlightIndex=i,this.positionState=r,this.visualState=s,this.meta=l,this.lensId=c,this.renderOptions=d,this.muteCategory=u,this.order=p,this.initialAlertId=m,this.removedAlertsIds=h,this.cachedTransform=f,this.userInput=g,this.synfonySelection=y,this.prevCardDSL=v,this.transitions=b,this.kind=k.Kind,this.activeAlert=I.C.getActiveAlert(this),this.cardDSL=this.activeAlert.cardDSL,this.transform=(0,a.pipe)(this.cachedTransform,o.map((e=>e.labels)))}get activeAlertRemoved(){return I.C.activeAlertRemoved(this)}get scheduledToDispose(){return I.C.willBeDisposed(this,this.removedAlertsIds)}hashCode(){return k.hashCode(this)}equals(e){return k.eq.equals(this,e)}toJSON(){return Object.assign(Object.assign({},this),{renderOptions:w.j.toJSON(this.renderOptions)})}}!function(e){let t,n;function w(e){return e.activeAlert.alertType===m.bZ.Type.Synfony}function k(e){return e.activeAlert.type===C.$.Type.default}function E(e){return o.isSome(e.activeAlert.cardDSL)}e.Kind="AlertCard",e.isPriority=e=>C.$.isPriority(e.activeAlert),e.updateAlerts=(t,n,i,r)=>a=>new e(a.id,t,i,r,a.positionState,a.visualState,a.meta,a.lensId,a.renderOptions,a.muteCategory,a.order,a.initialAlertId,n,a.cachedTransform,a.userInput,a.synfonySelection,a.prevCardDSL,a.transitions),e.updateUserInput=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,t,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeVisualState=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,t,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changePosition=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,t,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeMeta=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,t,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeTransform=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,t,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeSynfonySelection=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,t,n.prevCardDSL,n.transitions),e.changeSDUIContent=(t,n)=>i=>new e(i.id,i.alerts,i.activeAlertIndex,i.activeHighlightIndex,i.positionState,i.visualState,i.meta,i.lensId,i.renderOptions,i.muteCategory,i.order,i.initialAlertId,i.removedAlertsIds,i.cachedTransform,i.userInput,i.synfonySelection,t,n),e.canHydrate=e=>!(e.meta.checking!==x.n.CheckingState.Idle||I.C.activeAlertRemoved(e)),e.getId=function(e){return e.id},function(t){t.getRemoveAlerts=(e,t)=>(n,i)=>s=>{const l=new Set(n.map((e=>e.id)));return I.C.hasAnyOfAlerts(l)(s)?e.remove(s,[s.activeAlert],(0,a.pipe)(i,o.map((e=>t.compare(s,e)>0)),o.getOrElse(r.W8))):s},t.getChangePosition=function(e){return{changePosition:t=>n=>e.changePosition(n,t)}};const n=S.e.Capabilities.getCompleteTransition(((t,n,i)=>e.changeSDUIContent(n,i)));t.getAnimatable=function(e){return{completeTransition:t=>i=>(0,a.pipe)(e.completeTransition(i,t),n),transitionTo:t=>n=>e.transitionTo(n,t),changeVisualState:t=>n=>e.changeVisualState(n,t)}},t.getRemove=function(e){return{remove:(t,n)=>i=>t(i)?e.remove(i,[i.activeAlert],n(i)):i}},t.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>e.updateWith(n,t)}},t.sduiSelect=S.e.Capabilities.getSelect(((t,n,i)=>e.changeSDUIContent(n,i))),t.getSelect=function(e){return{select:(n,i,r)=>o=>(0,a.pipe)(e.selectFirstAlert(o,n,i),t.sduiSelect(n,r)),selectByAlert:(n,i,r,o)=>s=>(0,a.pipe)(e.select(s,i,n,r),t.sduiSelect(n,o)),unselect:(t,n)=>i=>e.unselect(i,t,n)}},t.getCloneable=function(){return{clone:t=>new e(t.id,t.alerts,t.activeAlertIndex,t.activeHighlightIndex,t.positionState,t.visualState,t.meta,t.lensId,t.renderOptions,t.muteCategory,t.order,t.initialAlertId,t.removedAlertsIds,t.cachedTransform,t.userInput,t.synfonySelection,t.prevCardDSL,t.transitions)}}}(t=e.Capabilities||(e.Capabilities={})),function(e){e.default="default",e.super="super",e.takeaway="takeaway"}(n=e.Type||(e.Type={})),(0,s.L0)(null),e.isSynfonyView=w,e.isDefaultView=k,e.isSDUIView=E,e.match=function(e){return t=>{if(E(t))return l.F2(e.sdui(t));if(function(e){return e.activeAlert.type===C.$.Type.super}(t))return l.F2(e.super(t));if(function(e){return e.activeAlert.type===C.$.Type.takeaway}(t))return l.F2(e.takeaway(t));if(function(e){return e.activeAlert.type===C.$.Type.sentenceLevelBrandTones}(t))return l.F2(e.sentenceLevelBrandTones(t));if(w(t))return l.F2(e.synfony(t));if(function(e){return e.activeAlert.type===C.$.Type.shortenIt}(t))return l.F2(e.shortenIt(t));if(function(e){return e.activeAlert.type===C.$.Type.toneAI}(t))return l.F2(e.toneAI(t));if(function(e){return e.activeAlert.type===C.$.Type.ethicalAI}(t))return l.F2(e.ethicalAI(t));if(function(e){return e.activeAlert.type===C.$.Type.suggestedSnippet}(t))return l.F2(e.suggestedSnippet(t));if(k(t))return l.F2(e.default(t));const n={lensId:t.activeAlert.lensId,lensType:t.activeAlert.lensType};return l.t$(new Error(`Cannot render unknown card type with alert: [${JSON.stringify(n,null,2)}]`))}},e.eq=(0,i.fold)(c.uZ())([I.C.eq,S.e.eq]),e.hashCode=e=>(0,b.NO)({itemHashCode:I.C.hashCode(e),synfonySelection:(0,a.pipe)(e.synfonySelection,o.getOrElse((()=>[])),(e=>e.join(",")))});const A=d.getMonoid();let T;e.ord=(0,i.fold)(A)([(0,a.pipe)(d.ordNumber,d.contramap((e=>e.order))),(0,a.pipe)(d.ordString,d.contramap((e=>e.initialAlertId)))]),e.isCardOpen=function(e){return"expanded"===e.transition.type||(0,a.pipe)(e.from,o.exists((t=>"expanded"===t&&"rendered"===e.transition.type)))},e.isCardPresuccess=function(e){return"presuccess"===e.transition.type},function(e){e.eq=c.f7(((e,t)=>e.type===t.type&&e.clockwise===t.clockwise))}(T=e.Transition||(e.Transition={})),e.hasTransform=function(e){return o.isSome(e.transform)},e.hasFullSentenceTransform=function(e){return m.eT.isFullSentence(e.activeAlert.extraProperties.cardType)&&(0,a.pipe)(e.transform,o.exists(h.b$.isFullSentence))},e.hasOneGapTransform=function(e){return(0,a.pipe)(e.transform,o.exists(h.b$.isOneGap))},e.hasSynfonyTransform=function(e){return m.eT.isSynfony(e.activeAlert.extraProperties.cardType)},e.isTakeaway=function(e){return C.$.isTakeaway(e.activeAlert)},e.isSimple=function(e){return m.eT.isSimple(e.activeAlert.extraProperties.cardType)},e.isEligibleForDismissSurvey=function(e){return e.activeAlert.dismissSurvey},e.isEligibleForAcceptSurvey=function(e){return e.activeAlert.acceptSurvey},e.isEligibleForGbPrompt=function(e){return e.activeAlert.gbPrompt},e.miniTitle=function(e,t){return C.$.isTakeaway(e.activeAlert)&&o.isNone(e.activeAlert.takeawayFeedback)?t.card.takeaway.defaultTitle:e.activeAlert.miniCardTitle},e.useCardStates=e=>({isChecking:e.pipe(f.U((e=>e.meta.checking===x.n.CheckingState.Checking)),g.x(),y.d({bufferSize:1,refCount:!0})),isCheckingGlobal:e.pipe(f.U((e=>e.meta.checking===x.n.CheckingState.Full)),g.x(),y.d({bufferSize:1,refCount:!0})),transform:e.pipe(f.U((({transform:e})=>e)),v.h(o.isSome),y.$f(o.getEq(h.b$.eq)))}),e.foldCard=l.fS((e=>(N("CardComponent").error("Got an unexpected card type",e),null)));const N=(0,u.HP)(p.C8.Logging.getLogger)}(k||(k={}))},55567:(e,t,n)=>{n.d(t,{n:()=>i});var i,r=n(26653),a=n(36156);!function(e){let t;!function(e){e.Idle="idle",e.Checking="checking",e.Full="full"}(t=e.CheckingState||(e.CheckingState={}));class n{constructor(e,t,n,i,r){this.percentile=e,this.explanation=t,this.checking=n,this.ranges=i,this.showMuteQuotedAdvice=r}equals(e){return this.hashCode()===e.hashCode()}hashCode(){return(0,a.NO)({percentile:r.g.prism.reverseGet(this.percentile),explanation:this.explanation,checking:this.checking,ranges:this.ranges.map((e=>e.meta.id)).join(),showMuteQuotedAdvice:this.showMuteQuotedAdvice})}}e.Impl=n,e.empty=(e="",i=r.g.MIN,a=t.Idle,o=[])=>new n(i,e,a,o,!1),e.create=({explanation:e="",percentile:i=r.g.MIN,checking:a=t.Idle,ranges:o=[]})=>new n(i,e,a,o,!1)}(i||(i={}))},91549:(e,t,n)=>{n.d(t,{R:()=>i});var i,r=n(57050),a=n(40327),o=n(45701),s=n(5114),l=n(22232),c=n(73975),d=n(40018),u=n(17594),p=n(26027),m=n(55567),h=n(20594),f=n(77610),g=n(48521);!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=(0,a.pipe)(o.ordNumber,o.contramap((0,r.ls)((e=>e.activeAlert.bundleInfo),s.fold((()=>Number.MAX_SAFE_INTEGER),(e=>e.rank))))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return(0,l.vE)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>(0,a.pipe)(e.bundleInfo,s.fold((()=>({id:"other",title:"Other"})),(e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title})))),e.eq={equals:(e,t)=>f.C.eq.equals(e,t)&&s.getEq(c.yv).equals(e.lensId,t.lensId)},function(t){const i=t=>(n,i)=>Object.assign({id:n,kind:e.Kind,bundleInfo:t,activeAlert:f.C.getAlertByIndex(i.activeAlertIndex,i.alerts),transform:(0,a.pipe)(i.cachedTransform,s.map((e=>e.labels))),equals(t){return e.eq.equals(this,t)},hashCode(){return f.C.hashCode(this)}},i);t.create=function(t,r,o,c){const p=v.getAnimatable(t).changeVisualState,m=e=>h.Mq.getCreate(i(e),r,p,c,o),y=n(o);return{create:e=>(t,n,i,r,a,l,c)=>m(a)(t,n,i,r,h.Mq.getApplicableCardMeta(n[i],l,o),e,s.some(l),c),createAdded:e=>(t,n,i,r)=>{const a=g.o.VisualState.initial({type:"added",clockwise:!0},!0);return m(n)(t,i,0,0,h.Mq.getApplicableCardMeta(i[0],a,o),e,s.some(a),r)},createFocused:e=>(t,n,i,r,a)=>{const l=g.o.VisualState.initial({type:"focused",clockwise:!0},!0);return m(n)(t,i,r,0,h.Mq.getApplicableCardMeta(i[r],l,o),e,s.some(l),a)},createRendered:e=>(t,n,i,r)=>{const a=g.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return m(n)(t,i,0,0,h.Mq.getApplicableCardMeta(i[0],a,o),e,s.some(a),r)},updateWith:(n,i)=>r=>{(0,l.kG)(n.every((e=>d.bZ.isRegistered(e))),"cannot add non registered alerts");const o=new Set(n.map((e=>e.id))),s=new Set(r.removedAlertsIds);o.forEach((e=>{s.delete(e)}));const c=r.alerts.filter((e=>!o.has(e.id))).concat(n.map(u.$.fromModel)).sort(i.compare);return(0,a.pipe)(r,y(c,s,f.C.getIndexByAlert(r.activeAlert.id,c)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const n=e=>(t,n,i)=>r=>{const a=f.C.getAlertByIndex(i,t),o=u.$.isApplicableAlert(a)?h.Mq.getApplicableCardMeta(a,r.visualState,e):m.n.empty(void 0);return Object.assign(Object.assign({},r),{alerts:t,activeAlert:a,meta:o,removedAlertsIds:n,activeAlertIndex:i})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.updateVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>h.Mq.getCardHydrator((e=>e.cachedTransform),p.X.canHydrate,i,e),e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const i=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:(0,a.pipe)(e,s.map((e=>e.labels)))}),y=e=>t=>Object.assign(Object.assign({},t),{meta:e});let v;e.unselect=h.Mq.getUnselectItem(e.updateVisualState,e.changePosition),e.getSelectByAlert=(t,i,r)=>h.Mq.getSelectByAlert(n(i),e.changeUserInput,e.updateVisualState,e.changePosition,y,r,t,i),e.getSelect=(t,n,i)=>h.Mq.getSelectFirstAlert(e.getSelectByAlert(t,n,i)),function(t){function i(t){const n=h.Mq.getChangeVisualState(e.updateVisualState,e.getCardHydrator(t));return{completeTransition:e=>t=>n(g.o.VisualState.complete(t.visualState,e))(t),transitionTo:h.Mq.getTransitionTo(n,e.changePosition),changeVisualState:n}}t.getAnimatable=i,t.getRemove=(e,t)=>h.Mq.getRemove(n(e),i(t).transitionTo),t.getUpdatableWithAlertsCapability=(t,n)=>a=>(0,r.ls)(t.updateWith(a,d.h$.ord),(t=>e.isExtendableWithAlerts(t)?t:i(n).transitionTo({type:"added",clockwise:!0})(t))),t.getRemoveAlertsCapability=(n,i,o,l)=>(c,d)=>{const u=e.getSelectByAlert(n,i,e.getCardHydrator(o)),p=h.Mq.getSelectNextAlert(h.Mq.getCardSelections(n),u);return e=>{const n=new Set(c.map((e=>e.id)));if(!f.C.hasAnyOfAlerts(n)(e))return e;const u=t.getRemove(i,o)(c,(0,a.pipe)(d,s.map((t=>l.compare(e,t)>0)),s.getOrElse(r.W8)))(e);return(0,a.pipe)(d,s.exists((t=>t.id===e.id)))?p(l)(u):u}}}(v=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},20594:(e,t,n)=>{n.d(t,{Ls:()=>S,IG:()=>i,Mq:()=>A});var i,r=n(57050),a=n(40327),o=n(38983),s=n(51996),l=n(5114),c=n(22232),d=n(83078),u=n(95195),p=n(89943),m=n(81531),h=n(40018),f=n(66896),g=n(26653),y=n(17594),v=n(26027),b=n(55567),C=n(48521),x=n(77610),I=n(16892),w=n(4890);function S(e,t,n,i,r){const a=A.getCardSelections(t),o=A.getCardHydrator((e=>e.cachedTransform),v.X.canHydrate,v.X.changeTransform,e),s=A.getChangeVisualState(v.X.changeVisualState,o),d=A.getSelectByAlert(v.X.updateAlerts,v.X.updateUserInput,s,v.X.changePosition,v.X.changeMeta,o,t,n),u=A.getUnselectItem(s,v.X.changePosition),p=A.getTransitionTo(s,v.X.changePosition),m=A.getRemove(v.X.updateAlerts,p);const f=A.getCreate(E,r,s,i,n);const g=A.getSelectFirstAlert(d);return Object.assign(Object.assign({shouldAnimateAlertApply:n.shouldAnimateAlertApply,create:f,createFromAlert:e=>t=>f(t.id,[t],0,0,b.n.empty(h.bZ.isApplicableAlert(t)?t.explanation:void 0),e,l.none),createFocused:function(e){const t=C.o.VisualState.initial({type:"focused",clockwise:!0},!0);return(i,r,a)=>f(i,[r],0,a,A.getApplicableCardMeta(r,t,n),e,l.some(t))},createRendered:function(e){const t=C.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return(i,r)=>f(i,[r],0,0,A.getApplicableCardMeta(r,t,n),e,l.some(t))},createAdded:function(e){const t=C.o.VisualState.initial({type:"added",clockwise:!0},!0);return(i,r)=>f(i,[r],0,0,A.getApplicableCardMeta(r,t,n),e,l.some(t))}},a),{select:(e,t,n,i)=>d(t,n,i)(e),selectFirstAlert:(e,t,n)=>g(t,n)(e),selectNextAlert:(e,t)=>A.getSelectNextAlert(a,d)(t)(e),unselect:(e,t,n)=>u(t,n)(e),remove:(e,t,n)=>m(t,n)(e),updateWith(e,t){(0,c.kG)(1===t.length,"AlertCard can only handle update with a single alert");const i=t[0];(0,c.kG)(void 0!==e.alerts.find((e=>e.id===i.id)),"can not receive updates for unknown alert",(()=>i.toString()));const r=function(e,t){const i=A.getApplicableCardMeta(t,e.visualState,n);return new v.X(e.id,e.alerts.map((e=>e.id===t.id?y.$.fromModel(t):e)),e.activeAlertIndex,A.getAHI(e,i),e.positionState,e.visualState,i,e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection,e.prevCardDSL,e.transitions)}(e,i);switch(i.state.type){case h.bZ.State.Type.REGISTERED:{const e="focused"===r.visualState.transition.type||"expanded"===r.visualState.transition.type?o(r):r;return"success"===r.visualState.transition.type||"presuccess"===r.visualState.transition.type?p({type:"focused",clockwise:r.visualState.transition.clockwise})(e):e}case h.bZ.State.Type.REMOVED:return"focused"!==r.visualState.transition.type&&"expanded"!==r.visualState.transition.type||!r.alerts.every((e=>h.bZ.isCapiDone(e)&&e.allowUpdate&&h.bZ.isRated(r.activeAlert)))?m(t,!0)(r):p({type:"presuccess",clockwise:r.visualState.transition.clockwise})(r);case h.bZ.State.Type.APPLIED:case h.bZ.State.Type.BEING_APPLIED:return m(t,!0)(r);default:return(0,c.vE)(i.state)}},changePosition:(e,t)=>v.X.changePosition(t)(e),changeVisualState:(e,t)=>s(t)(e),transitionTo:(e,t)=>p(t)(e),completeTransition:(e,t)=>s(C.o.VisualState.complete(e.visualState,t))(e),hideMuteQuotedAdvice:e=>new v.X(e.id,e.alerts,e.activeAlertIndex,e.activeHighlightIndex,e.positionState,e.visualState,new b.n.Impl(e.meta.percentile,e.meta.explanation,e.meta.checking,e.meta.ranges,!1),e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection,e.prevCardDSL,e.transitions),updateUserInput:(e,t)=>v.X.updateUserInput(t)(e),updateSynfonySelection:(e,t)=>v.X.changeSynfonySelection(t)(e)})}function k(e){return h.bZ.isOneGap(e)&&""!==e.gapValue?l.some(e.gapValue):l.none}!function(e){let t;e.toCardRenderOptions=function(e,n,i){const r=new Set;return(f.R.isMainLens(n)||e.features.has(t.showCardLabelInOutcomes)&&n!==f.R.SpecialId.Plagiarism)&&r.add(w.j.Features.showLabel),e.features.has(t.enableMuteQuotedAdvice)&&r.add(w.j.Features.enableMuteQuotedAdvice),e.features.has(t.showAnonymousUserFooters)&&r.add(w.j.Features.showAnonymousUserFooters),e.features.has(t.showPremiumTrialFooters)&&r.add(w.j.Features.showPremiumTrialFooters),e.features.has(t.showPremiumTrialFooters)&&r.add(w.j.Features.showPremiumTrialFooters),e.features.has(t.showNewPremiumCardLabels)&&r.add(w.j.Features.showNewPremiumCardLabels),e.features.has(t.showPersistentPremiumCardLabels)&&r.add(w.j.Features.showPersistentPremiumCardLabels),e.features.has(t.showPremiumOnboarding)&&r.add(w.j.Features.showPremiumOnboarding),e.features.has(t.a11yContrast)&&r.add(w.j.Features.a11yContrast),{features:r,layoutDensity:e.cardLayoutDensityMode,isNew:i,cardVisualMode:e.cardVisualMode,isPremiumOnboarding:e.isPremiumOnboarding}},function(e){e.showCardLabelInOutcomes="showCardLabelInOutcomes",e.enableMuteQuotedAdvice="enableMuteQuotedAdvice",e.showAnonymousUserFooters="showAnonymousUserFooters",e.showPremiumTrialFooters="showPremiumTrialFooters",e.showNewPremiumCardLabels="showNewPremiumCardLabels",e.showPersistentPremiumCardLabels="showPersistentPremiumCardLabels",e.showPremiumOnboarding="showPremiumOnboarding",e.a11yContrast="a11yContrast"}(t=e.Features||(e.Features={})),e.Default={features:new Set([t.showCardLabelInOutcomes]),cardLayoutDensityMode:w.j.Density.cozy,shouldAnimateAlertApply:h.bZ.isAccepted,cardVisualMode:o.h.create(w.j.CardVisualMode.RegularLightMode)}}(i||(i={}));const E=(e,t)=>new v.X(e,t.alerts,t.activeAlertIndex,t.activeHighlightIndex,t.positionState,t.visualState,t.meta,t.lensId,t.renderOptions,t.muteCategory,t.order,t.initialAlertId,t.removedAlertsIds,t.cachedTransform,t.userInput,t.synfonySelection,l.none,[]);var A;!function(e){function t(e,t,n){let r;r=h.bZ.getCheckingState(e)===h.bZ.CheckingState.CHECKING?"focused"===t.transition.type||"expanded"===t.transition.type?b.n.CheckingState.Checking:b.n.CheckingState.Full:b.n.CheckingState.Idle;const a=n.features.has(i.Features.enableMuteQuotedAdvice)&&e.extraProperties.isInQuotes;return new b.n.Impl(g.g.fromRatio(e.progress),e.explanation,r,e.getHighlightRanges(),a)}e.getApplicableCardMeta=t,e.getRemove=(e,t)=>(n,i=!0)=>r=>{const o=new Set(n.map((e=>e.id))),s=new Set(r.removedAlertsIds);o.has(r.activeAlert.id)&&s.add(r.activeAlert.id);const{remainingAlerts:l,activeAlertIndex:c}=r.alerts.reduce(((e,t,n)=>!o.has(t.id)||C.o.isFocused(r)&&t.id===r.activeAlert.id?{remainingAlerts:e.remainingAlerts.concat([t]),activeAlertIndex:e.activeAlertIndex}:{remainingAlerts:e.remainingAlerts,activeAlertIndex:e.activeAlertIndex+(n<r.activeAlertIndex||n===r.activeAlertIndex&&n===r.alerts.length-1&&n>0?-1:0)}),{remainingAlerts:[],activeAlertIndex:r.activeAlertIndex}),d=(0,a.pipe)(r,x.C.willBeDisposed(r,o)?e(r.alerts,o,r.activeAlertIndex,r.activeHighlightIndex):e(l,s,c,0));return x.C.willBeDisposed(d,d.removedAlertsIds)?t({type:"removed",clockwise:i})(d):d},e.getTransitionTo=(e,t)=>n=>i=>{const r=C.o.VisualState.to(i.visualState,n);return(0,a.pipe)(i,e(r),(e=>n.type===i.visualState.transition.type||"expanded"!==n.type&&"focused"!==n.type?e:t(I.s.PositionState.invalidateHeight(i.positionState))(e)))};const n=e=>t=>{const n=t.alerts;return l.fromNullable(n.slice(t.activeAlertIndex+1).find(e))};e.getPrevAlert=e=>t=>{const n=t.alerts;return l.fromNullable(n.slice(0,t.activeAlertIndex).reverse().find(e))},e.getAnyRegisteredAlert=e=>t=>{const n=t.alerts;return(0,a.pipe)(n.filter((t=>e.isRegistered(t.id))),(e=>e[e.length-1]),l.fromNullable)},e.getCardSelections=t=>{const i=(e=>t=>e.isRegistered(t.id))(t);return{nextAlert:n(i),prevAlert:e.getPrevAlert(i),anyRegisteredAlert:e.getAnyRegisteredAlert(t)}},e.getSelectByAlert=(n,i,r,o,s,u,p,m)=>({alert:f,highlightIndex:g},y,v)=>C=>{(0,c.kG)(!C.removedAlertsIds.has(f.id),"Cannot select removed alert");const I=p.getById(f.id);(0,c.kG)(l.isSome(I),"Cannot select not registered alert");const w=d.MH(I),S=C.alerts.filter((e=>!C.removedAlertsIds.has(e.id))),E=k(w),A=x.C.getIndexByAlert(f.id,S),T=e.getSelectItem(r,o)(y,v);return(0,a.pipe)(C,T,n(S,C.removedAlertsIds,A,g),i(E),(e=>{return s((n=e.visualState,h.bZ.isApplicableAlert(w)?t(w,n,m):b.n.empty(void 0)))(e);var n}),u)},e.getSelectItem=(e,t)=>(n,i)=>o=>{const s=(0,a.pipe)(n,l.map((e=>i.compare(o,e)>0)),l.getOrElse(r.W8)),c=(0,a.pipe)(n,l.exists((e=>e.id===o.id))),d=c?o.positionState:I.s.PositionState.invalidateHeight(o.positionState),u=c&&v.X.isCardOpen(o.visualState)?"expanded":"focused",p=(0,a.pipe)(n,l.fold((()=>C.o.VisualState.initial({type:u,clockwise:s})),(e=>C.o.VisualState.to(o.visualState,{type:u,clockwise:s}))));return(0,a.pipe)(o,t(d),e(p))},e.getSelectNextAlert=(e,t)=>n=>i=>x.C.activeAlertRemoved(i)&&!x.C.willBeDisposed(i,i.removedAlertsIds)?(0,a.pipe)(e.nextAlert(i),d.vx(e.prevAlert(i)),l.map((e=>t({alert:e,highlightIndex:0},l.none,n)(i))),l.getOrElse((()=>i))):i,e.getSelectFirstAlert=e=>(t,n)=>i=>{const r=i.alerts.filter((e=>!i.removedAlertsIds.has(e.id)));(0,c.kG)(r.length>0,"Selectable card must have at least one not removed alert");const a=r[0];return e({alert:a,highlightIndex:0},t,n)(i)},e.getUnselectItem=(e,t)=>(n,i)=>o=>{const s=(0,a.pipe)(n,l.map((e=>i.compare(o,e)>0)),l.getOrElse(r.W8)),c=(0,a.pipe)(n,l.exists((e=>e.id===o.id)))?o.positionState:I.s.PositionState.invalidateHeight(o.positionState);return(0,a.pipe)(o,t(c),x.C.willBeDisposed(o,o.removedAlertsIds)||C.o.isHidden(o)?r.yR:e(C.o.VisualState.to(o.visualState,{type:"rendered",clockwise:s})))},e.getCardHydrator=(e,t,n,i)=>r=>{const o=r.activeAlert.type===y.$.Type.super||r.activeAlert.type===y.$.Type.plagiarism||r.activeAlert.type===y.$.Type.premium||r.activeAlert.type===y.$.Type.takeaway||r.activeAlert.type===y.$.Type.sentenceLevelBrandTones||h.eT.isSimple(r.activeAlert.extraProperties.cardType)?l.none:function(e,t,n){const r=m.C8.Logging.getLogger("CardFactory");return(0,a.pipe)(t,l.filter((t=>!n||(0,a.pipe)(e,l.exists((e=>t.id===e.id&&t.rev===e.revision))))),l.alt((()=>(0,a.pipe)(e,l.chain((e=>(0,a.pipe)(i(e),u.g_((n=>(r.error("Could not hydrate transform",n,{alertId:e.id}),t)),(t=>l.some({id:e.id,rev:e.revision,labels:t}))))))))))}(r.activeAlert.getTransform(),e(r),t(r));return n(o)(r)},e.getChangeVisualState=(e,t)=>n=>i=>{const r=e(n)(i);return"focused"===n.transition.type||"expanded"===n.transition.type?t(r):r},e.getCreate=(e,t,n,r,o)=>(s,d,u,p,m,f,g,v=h.h$.ord)=>{const w=x.C.getAlertByIndex(u,d),S=k(w),E=[...d].sort(v.compare),A=E.map(y.$.fromModel),T=A[0];(0,c.kG)(Boolean(T),"The card must contain at least 1 alert");const N=(0,a.pipe)(t,l.chain((e=>e.getAlertMuteCategory(d[0].id)))),O=e(s,{alerts:A,alertModels:E,activeAlertIndex:x.C.getIndexByAlert(w.id,A),activeHighlightIndex:p,positionState:I.s.PositionState.empty,visualState:C.o.VisualState.initial({type:"rendered",clockwise:!0}),meta:new b.n.Impl(m.percentile,m.explanation,m.checking,m.ranges,o.features.has(i.Features.enableMuteQuotedAdvice)&&y.$.isInQuotes(T)),lensId:l.some(f),renderOptions:i.toCardRenderOptions(o,f,r(T)),muteCategory:N,order:T.getHighlightRanges()[0].end,initialAlertId:T.id,removedAlertsIds:new Set,cachedTransform:l.none,userInput:S,synfonySelection:l.none});return(0,a.pipe)(g,l.fold((()=>O),(e=>n(e)(O))))},e.getAHI=function(e,t){if((0,c.kG)(t.ranges.length>0,`Incorrect card meta: rangeIds empty. Card ID ${e.id}, activeAlert: ${e.activeAlert.toString()}`),0===e.activeHighlightIndex||e.meta.ranges.length===t.ranges.length)return e.activeHighlightIndex;{const n=e.meta.ranges[e.activeHighlightIndex];return(0,c.kG)(void 0!==n,"AHI not found in rangeIds"),(0,a.pipe)(l.some(t.ranges.findIndex((e=>e.meta.id===n.meta.id))),l.filter((e=>-1!==e)),l.alt((()=>p.OI(t.ranges,n,s.SV.ordEnd))),l.getOrElse((()=>t.ranges.length-1)))}},e.snapshot=e=>({cardId:e.id,vs:{incomplete:e.visualState.incomplete,tr:e.visualState.transition},as:(0,a.pipe)(Boolean(e.alerts)?e.alerts.map((e=>e.id)):e.alerts),aai:e.activeAlertIndex,ahi:e.activeHighlightIndex})}(A||(A={}))},34383:(e,t,n)=>{n.d(t,{D:()=>i,T:()=>r});var i,r,a=n(17889),o=n(40327),s=n(43675),l=n(45701),c=n(73975),d=n(5114),u=n(40018),p=n(86718);!function(e){e.empty=()=>new Map,e.diff=function(e,t){return s.yi(r.eq)(e,t)}}(i||(i={})),function(e){let t,n,i;e.ordAlert=l.fromCompare(((e,t)=>u.bZ.isTakeaway(e)&&u.bZ.isTakeaway(t)?u.h$.ord.compare(e,t):u.bZ.isTakeaway(e)?-1:u.bZ.isTakeaway(t)?1:u.h$.ord.compare(e,t))),function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.eq=c.MW({title:c.yv,miniTitle:d.getEq(c.yv),miniLabel:d.getEq(c.yv),alertIds:a.Eh(c.yv)})}(n=e.SuggestionsView||(e.SuggestionsView={})),function(e){e.eq=c.MW({title:c.yv,miniTitle:d.getEq(c.yv),miniLabel:d.getEq(c.yv),checked:c.vD,card:p.f.eq})}(i=e.EmptyView||(e.EmptyView={})),e.eq=c.MW({id:c.yv,rank:c.lr,suggestionsView:d.getEq(n.eq),emptyView:i.eq}),e.hasAlerts=function(e){return d.isSome(e.suggestionsView)},e.removeAlerts=function(e,t){return Object.assign(Object.assign({},e),{suggestionsView:(0,o.pipe)(e.suggestionsView,d.chain((e=>(0,o.pipe)(a.nI(e.alertIds.filter((e=>!t.has(e)))),d.map((t=>Object.assign(Object.assign({},e),{alertIds:t})))))))})}}(r||(r={}))},86775:(e,t,n)=>{n.d(t,{G:()=>i});var i,r=n(17889),a=n(57050),o=n(40327),s=n(5114),l=n(71249),c=n(83078),d=n(95195),u=n(92843),p=n(40018),m=n(77610),h=n(16892),f=n(48521),g=n(15215),y=n(70100),v=n(35416),b=n(25975),C=n(95983),x=n(93508),I=n(16118),w=n(77176),S=n(85985),k=n(34383);!function(e){function t(e,t){return`${e}_${t}`}function n(e,t,n){return g.d.isChecklistItemEmpty(t)?y.X.changePositionState(n)(t):e.changePositionState(n)(t)}function i(e,n,i,r){const a=t(n,i.id),o={rank:i.rank,checked:i.emptyView.checked,title:i.emptyView.title,miniTitle:i.emptyView.miniTitle,miniLabel:i.emptyView.miniLabel,miniChecked:s.none};return r?e.createFocusedEmpty(n,a,o,i.emptyView.card):e.createRenderedEmpty(n,a,o,i.emptyView.card)}function E(e,n,i,a,c,d){return(0,o.pipe)(a.suggestionsView,s.chain((u=>(0,o.pipe)(u.alertIds.map(n),l.oA,r.nI,s.map((n=>function(e,n,i,r,a,l,c){const d=t(n,i),u={id:d,title:r.title};return(0,o.pipe)(l,s.map((e=>a.findIndex((t=>t.id===e)))),s.filter((e=>e>-1)),s.fold((()=>c?e.createFocusedWithAlerts(n,d,r,u,a,s.none):e.createRenderedWithAlerts(n,d,r,u,a)),(t=>e.createFocusedWithAlerts(n,d,r,u,a,s.some(t)))))}(e,i,a.id,{rank:a.rank,checked:!1,miniChecked:s.none,title:u.title,miniTitle:u.miniTitle,miniLabel:u.miniLabel},n,c,d)))))))}function A(e,t,n){return e.updateMeta(Object.assign(Object.assign({},t.itemMeta),{miniChecked:s.some(n.emptyView.checked),miniTitle:(0,o.pipe)(n.emptyView.miniTitle,c.vx(s.some(n.emptyView.title))),miniLabel:n.emptyView.miniLabel}))(t)}function T(e,t,n,i,r,l,c){if(r.every((e=>!m.C.hasAlert(e.id)(n)))||m.C.willBeDisposed(n,n.removedAlertsIds))return n;const d=k.T.removeAlerts(i,new Set(r.map((e=>e.id)).concat(Array.from(n.removedAlertsIds)))),u=m.C.willBeDisposed(n,new Set(r.map((e=>e.id)))),h=u&&!k.T.hasAlerts(d),f=(0,o.pipe)(l,s.exists((e=>e.id===n.id)));if(!u||h){const t=(0,o.pipe)(h?A(e,n,i):n,e.removeAlerts(r,(0,o.pipe)(l,s.map((e=>c.itemsOrd.compare(n,e)>0)),s.getOrElse(a.W8))));return!!r.find((e=>e.id===n.activeAlert.id))?e.selectNextAlert(c.itemsOrd)(t):t}return(0,o.pipe)(E(e,(0,a.ls)(t.getRegistered,s.filter(p.bZ.isApplicableAlert)),c.id,i,(0,o.pipe)(l,s.filter((e=>e.id===n.id)),s.map((e=>e.activeAlert.id))),f),s.map((t=>f?t:e.changePositionState(n.positionState)(t))),s.getOrElse((()=>n)))}e.create=function(e,t,n,r,l,c){const d=C.aW.create(Array.from(t.values()).map((t=>(0,o.pipe)(E(e,(0,a.ls)(n.getRegistered,s.filter(p.bZ.isApplicableAlert)),r,t,s.none,!1),s.getOrElse((()=>i(e,r,t,!1)))))),(e=>e.id),g.d.ord.compare);return{id:r,type:v.Nm.lensview,kind:v._L.persistent,meta:l,withPriorityList:!1,cardIndex:s.none,items:d,itemsOrd:g.d.ord,animation:v.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return b.v.lensHash.hashCode(this)},equals(e){return b.v.getEq(c).equals(this,e)}}};const N=(e,n,i)=>r=>a=>{if(0===r.length)return a;const s=v.In.getActiveItem(a),l=n.reduce(((n,l)=>(0,o.pipe)(n.update(t(a.id,l.id),(t=>g.d.isChecklistItemWithAlerts(t)?T(e,i,t,l,r,s,a):t)),d.fS((()=>n)))),a.items);return Object.assign(Object.assign({},a),{items:l,animation:v.wj.force})};function O(e,t,r,l,c,d,u){if(g.d.isChecklistItemWithAlerts(r)&&m.C.willBeDisposed(r,r.removedAlertsIds))return r;const p=(0,o.pipe)(c,s.exists((e=>e.id===r.id)));return(0,o.pipe)(E(e,u,t.id,l,d,p),s.alt((()=>p&&g.d.isChecklistItemWithAlerts(r)?s.none:s.some(i(e,t.id,l,p)))),s.map((t=>n(e,t,p?h.s.PositionState.invalidateHeight(r.positionState):r.positionState))),s.map((t=>{return function(e,t,n){return g.d.isChecklistItemEmpty(t)?y.X.changeVisualState(n)(t):e.changeVisualState(n)(t)}(e,t,(n=r,i=t,g.d.isChecklistItemEmpty(n)&&g.d.isChecklistItemEmpty(i)||g.d.isChecklistItemWithAlerts(n)&&g.d.isChecklistItemWithAlerts(i)||!p?r.visualState:f.o.VisualState.initial({type:"focused",clockwise:!0},!0)));var n,i})),s.getOrElse((()=>g.d.isChecklistItemWithAlerts(r)?e.removeAlerts(r.alerts,(0,o.pipe)(c,s.map((e=>t.itemsOrd.compare(r,e)>0)),s.getOrElse(a.W8)))(A(e,r,l)):r)))}e.getAlertsHandler=function(e,n,i,r){return(s,c)=>u=>{const h=b.v.ApplyDiff.applyWithFilter(c,b.v.ApplyDiff.apply);return(0,o.pipe)(u,h(s,(()=>a.yR),((e,n,i,r)=>a=>s=>{if(0===a.length)return s;const{left:c,right:u}=(0,o.pipe)(a,b.v.filterAlertInLens(s,r),l.uK(p.bZ.isRegistered)),h=N(e,n,i)(c)(s),f=n.reduce(((n,i)=>(0,o.pipe)(n.update(t(s.id,i.id),(t=>g.d.isChecklistItemWithAlerts(t)?e.updateWith(u.filter((e=>m.C.hasAlert(e.id)(t))))(t):t)),d.fS((()=>n)))),h.items);return Object.assign(Object.assign({},h),{items:f,animation:v.wj.force})})(e,Array.from(n.get().values()),i,r),N(e,Array.from(n.get().values()),i)))}},e.getChecklistHandlerSideEffect=(e,n,r,l,c)=>{const m=n.pipe(x.O(k.D.empty()),I.G(),w.U((([e,t])=>({entries:t,latestChangeDiff:k.D.diff(e,t)}))),S.h((e=>!u.v.isEmpty(e.latestChangeDiff))),w.U((n=>c=>{const m=c.currentLens,h=v.In.getActiveItem(m),f=(0,o.pipe)(l(m),s.map((e=>e.activeAlert.id))),y=(0,a.ls)(r.getRegistered,s.filter(p.bZ.isApplicableAlert)),b=(0,o.pipe)(n.latestChangeDiff,u.v.reduce(m.items,((e,n,i)=>e.has(t(m.id,i))?e.remove(t(m.id,i)):e),((n,i,r)=>(0,o.pipe)(n.update(t(m.id,r.id),(t=>g.d.isChecklistItem(t)?O(e,m,t,r,h,f,y):t)),d.fS((()=>n)))),((t,n)=>(0,o.pipe)(E(e,y,m.id,n,f,!1),s.getOrElse((()=>i(e,m.id,n,!1))),(e=>t.add(e))))));return v.nL.Prism.getLens().modify((e=>Object.assign(Object.assign({},e),{items:b,cardIndex:(0,o.pipe)(h,s.chain((e=>b.get(e.id))),s.map((e=>e.index))),animation:v.wj.force})),c)})));return{id:"checklistHandlerSideEffect",when:c,what:v.nL.Effect.Applicator.create(m)}},e.getHasAlertsQuery=function(e,t,n,i){return b.v.WithBundles.getHasAlerts(e,t,n,i)},e.getItemReleaser=(e,r,l,c)=>({removeItemById:d=>u=>{const m=(0,o.pipe)(u.items.get(d),s.map((e=>e.value)),s.chain(s.fromPredicate(g.d.isChecklistItemWithAlerts)));if(s.isNone(m))return c?c.removeItemById(d)(u):u;const y=v.In.getActiveItem(u),b=(0,o.pipe)(y,s.exists((e=>e.id===d))),C=(0,a.ls)(l.getRegistered,s.filter(p.bZ.isApplicableAlert)),x=(0,o.pipe)(m,s.fold((()=>u.items),(l=>(0,o.pipe)(u.items.remove(d),(c=>(0,o.pipe)(s.fromNullable(Array.from(r.get().values()).find((e=>t(u.id,e.id)===l.id))),s.map((t=>c.add((0,a.MZ)((0,o.pipe)(E(e,C,u.id,t,s.none,b),s.map((t=>b?e.changeVisualState(f.o.VisualState.initial({type:"focused",clockwise:!0},!0))(t):t)),s.getOrElse((()=>i(e,u.id,t,!1))),(t=>n(e,t,b?h.s.PositionState.invalidateHeight(l.positionState):l.positionState))))))),s.getOrElse((()=>c)))))))),I=(0,o.pipe)(y,s.exists((e=>e.id===d&&(0,o.pipe)(x.get(d),s.fold(a.W8,(({value:e})=>g.d.isChecklistItemEmpty(e)))))));return Object.assign(Object.assign({},u),{cardIndex:I?s.none:u.cardIndex,animation:b?v.wj.force:v.wj.proceed,items:x})}}),e.getRemoveAlert=(e,n,i)=>({removeAlertFromItem:(r,a)=>l=>{const c=new Set(r.map((e=>e.id)));return(0,o.pipe)(s.fromPredicate(g.d.isChecklistItemWithAlerts)(l),s.filter(m.C.hasAnyOfAlerts(c)),s.chain((e=>s.fromNullable(Array.from(n.get().values()).find((n=>t(a.id,n.id)===e.id))))),s.map((t=>T(e,i,l,t,r,v.In.getActiveItem(a),a))),s.getOrElse((()=>l)))}})}(i||(i={}))},48521:(e,t,n)=>{n.d(t,{o:()=>i});var i,r=n(16892),a=n(40966);!function(e){function t(e){return"visualState"in e}let n;e.Transition=a.u,e.VisualState=a.t,e.eq={equals:(n,i)=>!t(n)||t(i)&&e.VisualState.eq.equals(n.visualState,i.visualState)},e.isAnimatable=t,e.isFocused=e=>{switch(e.visualState.transition.type){case"expanded":case"focused":case"presuccess":case"success":case"feedback_form":return!0;default:return!1}},e.isRemoved=e=>"removed"===e.visualState.transition.type,e.isHidden=e=>"hidden"===e.visualState.transition.type,function(e){e.getPojoUpdates=()=>Object.assign(Object.assign({},r.s.Capabilities.getPojoUpdates()),{setVisualState:e=>t=>Object.assign(Object.assign({},t),{visualState:e})})}(n=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},86718:(e,t,n)=>{n.d(t,{t:()=>i,f:()=>r});var i,r,a=n(22690),o=n(73975),s=n(5114),l=n(45701),c=n(22232),d=n(36156);!function(e){e.eq=o.MW({rank:o.lr,checked:o.vD,title:o.yv,miniTitle:s.getEq(o.yv),miniChecked:s.getEq(o.vD),miniLabel:s.getEq(o.yv)}),e.hash=e=>(0,d.NO)({rank:e.rank,title:e.title,miniTitle:m.show(e.miniTitle),miniChecked:f.show(e.miniChecked),miniLabel:p.show(e.miniLabel),checked:e.checked}),e.ord=l.contramap((e=>e.rank))(l.ordNumber)}(i||(i={})),function(e){let t;!function(e){e.simple="simple",e.textLength="textLength"}(t=e.Kind||(e.Kind={})),e.eqSimple=o.MW({explanation:o.yv,details:s.getEq(o.yv)}),e.eqTextLength=o.MW({explanation:o.yv,details:s.getEq(o.yv),wordCount:o.lr}),e.hashSimple=e=>(0,d.NO)({kind:e.kind,explanation:e.explanation,details:h.show(e.details)}),e.hashTextLength=e=>(0,d.NO)({kind:e.kind,explanation:e.explanation,details:h.show(e.details),wordCount:e.wordCount}),e.isTextLengthCard=function(t){return t.kind===e.Kind.textLength},e.eq=o.f7(((t,n)=>{switch(t.kind){case e.Kind.simple:return n.kind===e.Kind.simple&&e.eqSimple.equals(t,n);case e.Kind.textLength:return n.kind===e.Kind.textLength&&e.eqTextLength.equals(t,n);default:(0,c.vE)(t)}})),e.hash=t=>{switch(t.kind){case e.Kind.simple:return e.hashSimple(t);case e.Kind.textLength:return e.hashTextLength(t);default:(0,c.vE)(t)}}}(r||(r={}));const u=s.getShow(a._3),p=u,m=u,h=u,f=s.getShow(a.R)},70100:(e,t,n)=>{n.d(t,{X:()=>i});var i,r=n(40327),a=n(73975),o=n(5114),s=n(83078),l=n(69345),c=n(40966),d=n(36156),u=n(48521),p=n(86718);!function(e){function t(t,n,i,r,a,o){return{kind:e.kind,id:t,itemMeta:n,cardMeta:i,positionState:r,visualState:a,renderOptions:o,equals(t){return e.eq.equals(this,t)},hashCode(){return e.hash(this)}}}e.kind="ChecklistItemEmpty",e.eq=a.f7(((e,t)=>e.id===t.id&&p.f.eq.equals(e.cardMeta,t.cardMeta)&&p.t.eq.equals(e.itemMeta,t.itemMeta)&&l.Z.eq.equals(e.positionState,t.positionState)&&c.t.eq.equals(e.visualState,t.visualState))),e.hash=e=>(0,d.NO)({id:e.id,checklistItemMeta:p.t.hash(e.itemMeta),card:p.f.hash(e.cardMeta)}),e.create=t,e.updateMeta=e=>n=>t(n.id,e,n.cardMeta,n.positionState,n.visualState,n.renderOptions),e.updateCardMeta=e=>n=>t(n.id,n.itemMeta,e,n.positionState,n.visualState,n.renderOptions),e.changeVisualState=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,e,n.renderOptions),e.changePositionState=e=>n=>t(n.id,n.itemMeta,n.cardMeta,e,n.visualState,n.renderOptions),e.completeTransition=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,c.t.complete(n.visualState,e),n.renderOptions),e.transitionTo=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,c.t.to(n.visualState,e),n.renderOptions),e.select=e=>n=>(0,r.pipe)(e,o.filter((e=>e.id===n.id)),s.vx((0,r.pipe)(n,o.fromPredicate((e=>"focused"===e.visualState.transition.type)))),o.fold((()=>{const i=l.Z.invalidateHeight(n.positionState),a={type:"focused",clockwise:!0},s=(0,r.pipe)(e,o.fold((()=>c.t.initial(a)),(()=>c.t.to(n.visualState,a))));return t(n.id,n.itemMeta,n.cardMeta,i,s,n.renderOptions)}),(()=>n))),e.unselect=e=>n=>(0,r.pipe)(e,o.filter((e=>e.id===n.id)),s.vx((0,r.pipe)(n,o.fromPredicate((e=>"rendered"===e.visualState.transition.type)))),o.fold((()=>{const e=l.Z.invalidateHeight(n.positionState),i=u.o.isHidden(n)?n.visualState:c.t.to(n.visualState,{type:"rendered",clockwise:!0});return t(n.id,n.itemMeta,n.cardMeta,e,i,n.renderOptions)}),(()=>n)))}(i||(i={}))},47306:(e,t,n)=>{n.d(t,{J:()=>i});var i,r=n(40327),a=n(73975),o=n(22232),s=n(5114),l=n(26027),c=n(36156),d=n(86718);!function(e){e.kind="ChecklistItemWithAlerts",e.eq=a.f7(((e,t)=>l.X.eq.equals(e,t)&&d.t.eq.equals(e.itemMeta,t.itemMeta))),e.create=function(t,n,i,a,u,p,m,h,f,g,y,v,b,C,x,I,w,S){const k=a[u];return(0,o.kG)(Boolean(k),"Active alert index should point to an alert"),{kind:e.kind,id:t,itemMeta:n,bundleInfo:i,alerts:a,activeAlertIndex:u,activeHighlightIndex:p,positionState:m,visualState:h,meta:f,lensId:g,renderOptions:y,muteCategory:v,order:b,initialAlertId:C,removedAlertsIds:x,cachedTransform:I,userInput:w,synfonySelection:S,activeAlert:k,transform:(0,r.pipe)(I,s.map((e=>e.labels))),activeAlertRemoved:x.has(k.id),cardDSL:s.none,prevCardDSL:s.none,transitions:[],hashCode(){return(0,c.NO)({alertCard:l.X.hashCode(this),itemMeta:d.t.hash(n)})},equals(t){return e.eq.equals(this,t)}}}}(i||(i={}))},15215:(e,t,n)=>{n.d(t,{d:()=>i});var i,r=n(40327),a=n(45701),o=n(73975),s=n(5114),l=n(86718),c=n(70100),d=n(47306);!function(e){function t(e){return e.kind===c.X.kind}function n(e){return e.kind===d.J.kind}e.ord=a.contramap((e=>e.itemMeta))(l.t.ord),e.eq=o.f7(((e,i)=>t(e)&&t(i)?c.X.eq.equals(e,i):!(!n(e)||!n(i))&&d.J.eq.equals(e,i))),e.isChecklistItemEmpty=t,e.isChecklistItemWithAlerts=n,e.isChecklistItem=function(e){return t(e)||n(e)},e.getAlertsCount=function(e){return(0,r.pipe)(e,s.fromPredicate(n),s.map((e=>e.alerts.length)))}}(i||(i={}))},16892:(e,t,n)=>{n.d(t,{s:()=>i});var i,r=n(73975),a=n(69345);!function(e){let t;e.PositionState=a.Z,e.eqById=r.f7(((e,t)=>e.id===t.id)),e.getEqById=()=>r.f7(((e,t)=>e.id===t.id)),e.positionStateEq={equals:(t,n)=>e.PositionState.eq.equals(t.positionState,n.positionState)},e.verticalPositionEq={equals:(t,n)=>e.PositionState.verticalEq.equals(t.positionState,n.positionState)},function(e){e.getPojoCloneable=()=>({clone:e=>Object.assign({},e)}),e.getPojoUpdates=()=>({setPosition:e=>t=>Object.assign(Object.assign({},t),{positionState:e})})}(t=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},22848:(e,t,n)=>{n.d(t,{e:()=>i});var i,r=n(64015),a=n(57050),o=n(85384),s=n(73915),l=n(73975),c=n(5114),d=n(76513);!function(e){function t(e){return"cardDSL"in e&&"prevCardDSL"in e&&"transitions"in e}e.isSDUIItem=t;const n=s.n(o.z2)(d.n),i=s.n(o.z2)(d.B.ActionSchema);let u;e.eq=l.f7(((e,a)=>t(e)&&t(a)&&c.getEq(n).equals(e.cardDSL,a.cardDSL)&&c.getEq(n).equals(e.prevCardDSL,a.prevCardDSL)&&r.Eh(i).equals(e.transitions,a.transitions))),function(e){e.getPojoUpdates=()=>({setSDUIState:(e,t,n)=>i=>Object.assign(Object.assign({},i),{cardDSL:e,prevCardDSL:t,transitions:n}),setDSL:e=>t=>Object.assign(Object.assign({},t),{cardDSL:e})}),e.getSelect=e=>(n,i)=>r=>(0,a.zG)(n,c.filter(t),c.map((t=>e(r.cardDSL,t.cardDSL,i)(r))),c.getOrElse((()=>r))),e.getCompleteTransition=e=>n=>t(n)?e(n.cardDSL,c.none,[])(n):n}(u=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},4557:(e,t,n)=>{n.d(t,{B:()=>i});var i,r=n(5114),a=n(95195);!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,n,i)=>{const o=((t,n)=>0===t.trim().length?r.some(n.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?r.some(n.nameTooLong):r.none)(t,i),s=((t,n)=>0===t.trim().length?r.some(n.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?r.some(n.textTooLong):r.none)(n,i);return r.isNone(o)&&r.isNone(s)?a.F2(void 0):a.t$({nameError:o,contentError:s})}}(i||(i={}))},93265:(e,t,n)=>{n.d(t,{v:()=>i});var i,r=n(17771),a=n(64015),o=n(57050),s=n(40327),l=n(20817),c=n(71249),d=n(5114),u=n(95195),p=n(83078),m=n(55415),h=n(92843),f=n(73975),g=n(22232),y=n(89943),v=n(40018),b=n(66896),C=n(4390),x=n(36156),I=n(48521),w=n(16892),S=n(35416);!function(e){let t,n,i,k;e.filterAlertInLens=(e,t)=>c.hX((n=>v.bZ.isNotRemoved(n)||d.isSome(e.items.find((e=>t.hasAlert(n.id)(e)))))),e.createWithInitialAlerts=(e,t,n,i,r)=>(a,l,c,u)=>{const p=(0,s.pipe)(u,d.fold((()=>o.yR),(e=>r.selectItemByAlert(e,[])))),m=e.create(a,l),h=c.filter(n.alertVisibleInSidebar(a)),f=t(a);if(S.vj.hasItems(m)){const e=C.p.empty,t=C.p.from(h),n=C.p.diff(e,t);return(0,s.pipe)(m,f(n,i),r.changeItemsVisualState(I.o.VisualState.initial({type:"rendered",clockwise:!0},!1)),p,(e=>Object.assign(Object.assign({},e),{animation:S.wj.skip})))}return m},function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:(0,s.pipe)(S.In.getActiveItem(t),d.chain((t=>(0,s.pipe)(e.get(t.id),d.map((e=>e.index)))))),items:e}),e.hideItem=function(e,t){return I.o.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>(0,s.pipe)(e.getAt(e.size-1),d.map((e=>e.positionState.absTop+e.positionState.height)),d.getOrElse((()=>0)));e.getItemsPositionsUpdateTransformer=t=>({state:n,metadata:i})=>{if(!S.nL.hasCards(n))return u.t$({state:n,metadata:i});const r=S.nL.Prism.getLens();return u.t$({state:r.modify(e.updateItemsPositions(t),n),metadata:i})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!S.nL.hasCards(t))return u.t$({state:t,metadata:n});const i=S.nL.Prism.getLens();return u.t$({state:i.modify((t=>{const n=t.items.map(((n,i,r)=>{const a=p.FX(r)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,r),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:Object.assign(Object.assign({},n.positionState),{visible:!1,isHeightValid:!0});return w.s.PositionState.eq.equals(n.positionState,a)?n:e.changePosition(a)(n)}));return Object.assign(Object.assign({},t),{items:n,isCardsHeightValid:!0})}),t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!S.nL.hasCards(t))return u.t$({state:t,metadata:n});const i=S.nL.Prism.getLens();return u.t$({state:i.modify((t=>{const n=S.In.getActiveItem(t),i=t.items.filter((t=>!e.isScheduledToDispose(t)||(0,s.pipe)(n,d.exists((e=>e.id===t.id))))),r=(0,s.pipe)(t,S.In.getActiveItemIndex(i));return Object.assign(Object.assign({},t),{items:i,cardIndex:r})}),t),metadata:n})};const t=e=>t=>(0,s.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&(0,s.pipe)(t,p.wo((e=>e.id!==n.id))))(e)(S.In.getActiveItem(t))),d.map((({value:t,index:n})=>({index:n,value:(0,s.pipe)(t,d.fromPredicate((t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t))))}))));e.updateItemsPositions=n=>i=>{const r=S.In.getActiveItem(i),a=t(n)(i),o=(0,s.pipe)(a,d.chain(m.ei("value")),d.map((e=>e.positionState.height)));let l=0;const c=(0,s.pipe)(r,p.wo((e=>e.positionState.isHeightValid))),u=(0,s.pipe)(a,d.map(m.ei("index")),d.getOrElse((()=>{return e=i.cardIndex,(0,s.pipe)(e,d.map((e=>0===e?1:0)),d.getOrElse((()=>0)));var e}))),h=i.items.map(((e,t,r)=>{const a=p.FX(r)(i.cardIndex),m=a||r===u,h=n.isScheduledToDispose(e)||(a?e.positionState.isHeightValid:d.isSome(o)),f=n.isScheduledToDispose(e)?n.useReferenceHeightOnRemove(e)?(0,s.pipe)(o,d.getOrElse((()=>e.positionState.height))):0:a?e.positionState.height:(0,s.pipe)(o,d.getOrElse((()=>e.positionState.height))),g={absTop:a||c?l:e.positionState.absTop,height:f,animationInProgress:i.animation(e,r),visible:e.positionState.visible,isHeightValid:h,watched:m,inert:e.positionState.inert};return l+=f,w.s.PositionState.eq.equals(e.positionState,g)?e:n.changePosition(g)(e)})),f=e.calculateCardsHeight(h),g=(0,s.pipe)(r,p.wo((e=>e.positionState.isHeightValid)))&&(0,s.pipe)(h.getAt(u),p.wo((e=>e.positionState.isHeightValid)));return Object.assign(Object.assign({},i),{items:h,cardsHeight:f,isCardsHeightValid:g})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,i)=>r=>(0,s.pipe)(e,h.v.reduce(r,((e,{alert:t})=>i([t])(e)),((e,t,{alert:i})=>n([i])(e)),((e,{alert:n})=>t([n])(e)))),e.applyWithFilter=(e,t)=>(n,i,r,a)=>{const s=(0,o.ls)(c.uK(e),(e=>(0,o.ls)(a(e.left),r(e.right))));return t(n,(t=>i(t.filter(e))),s,a)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=l.Ri.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n))),e.getFeedItems=()=>l.Ri.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n)))}(i=e.Prism||(e.Prism={})),e.getEq=e=>f.f7(((t,n)=>{if(t.kind===S._L.abstract||n.kind===S._L.abstract)return t.id===n.id;{const i=t,r=n;return t.id===n.id&&d.getEq(e).equals(S.In.getActiveItem(i),S.In.getActiveItem(r))&&i.meta.equals(n.meta)&&i.items.equals(r.items)}})),e.lensHash={hashCode:e=>{if(e.kind===S._L.abstract)return(0,x.AC)(e.id);{const n=e;let i=7;return i=31*i+(0,x.AC)(e.id),i=31*i+(t=S.In.getActiveItem(n),(0,s.pipe)(t,d.fold((()=>2433880),(e=>null==e?9735524:e.hashCode()<<2)))),31*i+e.meta.count}var t}},function(e){function t(e,t,n){return i=>(0,s.pipe)(d.of(i),d.filter((e=>!n.isScheduledToDispose(e)&&t(e))),d.chain(n.hasActiveAlert),d.filter((t=>e.isRegistered(t.alert.id))))}e.getAlertReleaser=e=>({release:t=>n=>{const i=n.items.map(e.removeAlertFromItem([t],n)),r=(0,s.pipe)(n.cardIndex,d.chain((t=>(0,s.pipe)(i.findRightFrom(e.isScheduledToDispose,t),d.map((e=>e.index))))),d.isSome)?S.wj.skip:S.wj.force;return Object.assign(Object.assign({},n),{animation:r,items:i})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const i=(0,s.pipe)(n,e,d.map((e=>n.items.add((0,s.pipe)(e,t.unselect(d.none,n.itemsOrd))))),d.getOrElse((()=>n.items)));return Object.assign(Object.assign({},n),{items:i,animation:S.wj.force,cardIndex:d.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==S.Nm.advanced}),e.getSelectableByAlert=(e,t)=>({selectItemByAlert:(n,i)=>r=>{if(!t.willShowChecksFeed(r))return r;const a=e(r),o=r.items.find(t.isSelectableByAlert(n));(0,g.kG)(d.isSome(o),"Can not find card for provided alert. Unknown card or it is already disposed.",(()=>n.alert.toString()));const{value:l,index:c}=p.MH(o),u=(0,s.pipe)(a,d.map((e=>r.items.add((0,s.pipe)(e,t.unselect(d.some(l),r.itemsOrd))))),d.getOrElse((()=>r.items))).add((0,s.pipe)(l,t.selectByAlert(a,n,r.itemsOrd,i)));return Object.assign(Object.assign({},r),{items:u,animation:S.wj.force,cardIndex:d.some(c)})}}),e.getSelectableById=(e,t)=>({selectItemById:(n,i)=>r=>{const a=e(r),o=r.items.get(n),{value:l,index:c}=p.MH(o),u=(0,s.pipe)(a,d.map((e=>r.items.add((0,s.pipe)(e,t.unselect(d.some(l),r.itemsOrd))))),d.getOrElse((()=>r.items))).add((0,s.pipe)(l,t.select(a,r.itemsOrd,i)));return Object.assign(Object.assign({},r),{items:u,animation:S.wj.force,cardIndex:d.some(c)})}}),e.getItemReleaser=()=>({removeItemById:t=>n=>e.setVisibleItems(n.items.remove(t))(n)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:b.R.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?Object.assign(Object.assign({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>i=>{(0,g.kG)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const r=i.id,a=e=>{const i=e.items.map(t.removeAlertFromItem(n,e));return Object.assign(Object.assign({},e),{items:i})};if(b.R.isOutcomeId(r))return a(i);switch(r){case b.R.SpecialId.Priority:case b.R.SpecialId.AllAlerts:case b.R.SpecialId.PredictionTakeaways:case b.R.SpecialId.PredictionEmogenie:case b.R.SpecialId.RealTimeProofit:case b.R.SpecialId.FreePremiumAlerts:return a(i);case b.R.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case b.R.SpecialId.Plagiarism:return(0,g.kG)(n.every(v.bZ.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),a(i);default:return(0,g.vE)(r)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>(0,s.pipe)(S.In.getActiveItem(t),d.exists((t=>e.isScheduledToDispose(t))))||d.isNone(t.items.find((t=>!e.isScheduledToDispose(t))))}},e.getHasSelectableAlert=t,e.getHasAlerts=function(e,n,i,o){const l=e=>t(n,i(e),o),c=e=>e.id===b.R.SpecialId.Premium||e.id===b.R.SpecialId.Plagiarism?e.meta.count:(0,s.pipe)(S.In.getActiveItem(e),d.chain(o.hasActiveAlert),d.map((e=>e.alert)),d.exists(v.bZ.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:c,getActiveAlertsCount:c,getActiveAlert:e=>(0,s.pipe)(S.In.getActiveItem(e),d.chain(o.hasActiveAlert)),findFirstAlert:e=>(0,s.pipe)(e.items.values(),a.f2(l(e))),findNextAlert:t=>((0,g.kG)(d.isSome(S.In.getActiveItem(t))===d.isSome(t.cardIndex),"Lens is in wrong state"),(0,s.pipe)((0,r.g)(d.option)(S.In.getActiveItem(t),t.cardIndex),d.chain((([n,i])=>(0,s.pipe)(e.nextAlert(n),d.alt((()=>e.prevAlert(n))),d.map((e=>({alert:e,highlightIndex:0}))),d.alt((()=>(0,s.pipe)(y.uU(t.items.values(),i,l(t)),d.map((e=>e.value)))))))),p.vx((0,s.pipe)(t.items.values(),a.f2(l(t))))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:(0,s.pipe)(S.In.getActiveItem(t),d.chain((t=>(0,s.pipe)(e.get(t.id),d.map((e=>e.index)))))),items:e})}(k=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},25975:(e,t,n)=>{n.d(t,{v:()=>R});var i,r=n(93265),a=n(66896),o=n(35416);!function(e){let t;e.create=function(e,n){return Boolean(t)||(t={id:a.R.SpecialId.Closed,kind:o._L.abstract,type:o.Nm.closed,meta:a.R.createStaticLens({id:a.R.SpecialId.Closed,title:"Closed"},a.R.Meta.group.empty,e),hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}),t}}(i||(i={}));var s,l=n(57050),c=n(5114),d=n(36156);!function(e){e.create=()=>({id:a.R.SpecialId.DraftAI,type:o.Nm.draftAI,kind:o._L.abstract,meta:a.R.createStaticLens({id:a.R.SpecialId.DraftAI,title:"Draft AI"},a.R.Meta.group.empty,l.jv),transitionSource:c.none,hashCode(){return(0,d.AC)(this.id)},equals(e){return this.id===e.id}}),e.createFromTransitionSource=t=>Object.assign(Object.assign({},e.create()),{transitionSource:c.some(t)})}(s||(s={}));var u,p,m=n(73975),h=n(40327),f=n(22232),g=n(83078),y=n(89943),v=n(95195),b=n(40018),C=n(95983),x=n(17594);!function(e){function t(e){return C.vM("cardId",e)}e.create=function(e,t,n){(0,f.kG)(e.id===a.R.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const i=C.aW.empty((e=>e.id),n.compare),s=c.none;return{id:a.R.SpecialId.Plagiarism,kind:o._L.persistent,type:o.Nm.plagiarism,meta:e,cardIndex:s,items:i,itemsOrd:n,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===a.R.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map((t=>x.$.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(x.$.isPlagiarism)):t))}):t},e.add=e=>n=>i=>{const r=t(n),a=Array.from(r.entries()).reduce(((t,[n,i])=>(0,h.pipe)(t.update(n,(t=>e.addPlagiarismAlerts(t,i))),v.g_((()=>t.add(e.createAdded(n,i))),l.yR))),i.items),s=(0,h.pipe)(o.In.getActiveItem(i),c.map((({id:e})=>g.MH(a.get(e)).index))),d=c.getEq(m.lr).equals(s,i.cardIndex)?o.wj.force:o.wj.skip;return Object.assign(Object.assign({},i),{cardIndex:s,items:a,animation:d})},e.remove=e=>n=>i=>{const r=t(n),a=o.In.getActiveItem(i),s=Array.from(r.entries()).reduce(((t,[n,r])=>(0,h.pipe)(t.update(n,(t=>{const n=(0,h.pipe)(e.remove(t,r,(0,h.pipe)(a,c.map((e=>i.itemsOrd.compare(t,e)>0)),c.getOrElse(l.W8))),(t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(x.$.isPlagiarism))));return(0,h.pipe)(a,c.exists((e=>e.id===n.id)))?e.selectNextAlert(n,i.itemsOrd):n})),v.g_((()=>t),l.yR))),i.items);return Object.assign(Object.assign({},i),{items:s,animation:o.wj.force})},e.update=t=>n=>i=>e.updateWithAlerts(t)(n.filter((0,l.ff)(t.shouldAnimateAlertApply)))(i),e.updateWithAlerts=n=>i=>r=>{const[a,s]=y.uK(i,b.bZ.isRegistered),d=t(a),u=Array.from(d.entries()).reduce(((e,[t,i])=>(0,h.pipe)(e.update(t,(e=>n.changePlagiarismMetaWithAlerts(e,e.alerts.filter(x.$.isPlagiarism)))),v.g_((()=>e.add(n.createAdded(t,i))),l.yR))),e.remove(n)(s)(r).items),p=(0,h.pipe)(o.In.getActiveItem(r),c.map((({id:e})=>(0,h.pipe)(u.get(e),c.map((({index:e})=>e)),c.getOrElse((()=>0))))));return Object.assign(Object.assign({},r),{cardIndex:p,items:u,animation:o.wj.proceed})},e.getAlertsHandler=function(t){return n=>r.v.ApplyDiff.apply(n,e.add(t),e.update(t),e.remove(t))}}(u||(u={})),function(e){e.create=function(e,t,n){const i=C.aW.empty((e=>e.id),n.compare);return{id:a.R.SpecialId.Premium,kind:o._L.active,type:o.Nm.advanced,meta:e,items:i,itemsOrd:n,cardIndex:c.none,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(t).equals(this,e)}}},e.getAlertsHandler=function(t,n){return i=>r.v.ApplyDiff.apply(i,e.add(t),e.update(t,n),e.remove(n))},e.add=e=>t=>n=>{const i=t.map(e.createFromAlert(n.id)),r=n.items.add(i),a=o.In.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:a,items:r,animation:o.wj.proceed})},e.remove=e=>t=>n=>{const i=new Set(t.map((e=>e.id))),r=n.items.filter((0,l.ls)(e.hasActiveAlert,c.map((e=>e.alert)),c.exists((e=>i.has(e.id))))).reduce(((e,t)=>e.remove(t.id)),n.items),a=o.In.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:a,items:r})},e.update=(t,n)=>i=>r=>{const[a,o]=y.uK(i,b.bZ.isRegistered);return(0,l.zG)(r,e.remove(n)(o),e.add(t)(a))}}(p||(p={}));var I,w=n(17771),S=n(71249),k=n(8125),E=n(91549);!function(e){const t=b.h$.ord;function n(e){return e.id}function i(e){const t=e.map((e=>[E.R.getAlertOutcomeBundle(e),e]));return C.vM((([e,t])=>n(e)),t)}e.getCardId=n,e.initCardsHash=function(e,n,r,a,o){(0,f.kG)((0,h.pipe)(r,g.wo((({alertIndex:e})=>void 0!==n[e]))),"Can not find alert for provided alertIndex");const s=i(n),l=(0,h.pipe)(r,c.map((({alertIndex:e})=>((0,f.kG)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e]))));let d=c.none;const u=C.aW.empty(E.R.getId,o.compare),p=Array.from(s.entries()).reduce(((n,[i,r])=>{const o=r.map((([e,t])=>t)),s=r[0][0];return(0,h.pipe)(l,c.map((e=>o.indexOf(e))),c.filter((e=>e>-1)),c.fold((()=>n.add(a.createRendered(e)(i,s,o,t))),(r=>{const l=a.createFocused(e)(i,s,o,r,t);return d=c.some(i),n.add(l)})))}),u);return{cardIndex:(0,h.pipe)(d,c.chain((e=>(0,h.pipe)(p.get(e),c.map((e=>e.index)))))),cards:p}},e.create=function(e,t,n,i){const a=C.aW.empty(E.R.getId,i.compare),s=c.none;return{id:e,type:o.Nm.lensview,kind:o._L.persistent,meta:t,withPriorityList:!1,cardIndex:s,items:a,itemsOrd:i,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}},e.add=(e,n)=>r=>a=>{if(0===r.length)return a;const s=i(r),d=Array.from(s.entries()).reduce(((i,[r,o])=>{const s=o.map((([e,t])=>t)),c=o[0][0];return(0,h.pipe)(i.update(r,(e=>n.updateWithAlerts(s)(e))),v.g_((()=>i.add(e.createAdded(a.id)(r,c,s,t))),l.yR))}),a.items),u=(0,h.pipe)(a,o.In.getActiveItemIndex(d)),p=c.getEq(m.lr).equals(u,a.cardIndex)?o.wj.force:o.wj.skip;return Object.assign(Object.assign({},a),{cardIndex:u,items:d,animation:p})},e.remove=e=>t=>n=>{const r=i(t),a=Array.from(r.entries()).reduce(((t,[i,r])=>(0,h.pipe)(t.update(i,(t=>e.removeAlertFromItem(r.map((([e,t])=>t)),n)(t))),v.g_((()=>t),l.yR))),n.items),s=(0,h.pipe)(n,o.In.getActiveItemIndex(a));return Object.assign(Object.assign({},n),{cardIndex:s,items:a,animation:o.wj.force})},e.update=(t,n,i)=>r=>a=>e.updateWithAlerts(t,i)(r.filter((0,k.ff)(n.shouldAnimateAlertApply)))(a),e.updateWithAlerts=(n,a)=>s=>c=>{if(0===s.length)return c;const{left:d,right:u}=(0,h.pipe)(s,r.v.filterAlertInLens(c,a),S.uK(b.bZ.isRegistered)),p=i(u),m=Array.from(p.entries()).reduce(((e,[i,r])=>{const o=r.map((([e,t])=>t)),s=r[0][0];return(0,h.pipe)(e.update(i,(e=>a.updateWithAlerts(o)(e))),v.g_((()=>e.add(n.createAdded(c.id)(i,s,o,t))),l.yR))}),e.remove(a)(d)(c).items),f=(0,h.pipe)(c,o.In.getActiveItemIndex(m));return Object.assign(Object.assign({},c),{cardIndex:f,items:m,animation:o.wj.proceed})},e.getAlertsHandler=function(t,n,i){return(a,o)=>s=>{const l=r.v.ApplyDiff.applyWithFilter(o,r.v.ApplyDiff.apply);return(0,h.pipe)(s,l(a,e.add(t,i),e.update(t,n,i),e.remove(i)))}},e.getHasAlerts=function(e,t,n,i){const a=r.v.Capabilities.getHasAlerts(e,t,n,i),s=e=>r.v.Capabilities.getHasSelectableAlert(t,n(e),i);return Object.assign(Object.assign({},a),{findNextAlert:t=>(0,h.pipe)((0,w.g)(c.option)(o.In.getActiveItem(t),t.cardIndex),c.chain((([n,i])=>(0,h.pipe)(e.nextAlert(n),c.alt((()=>e.prevAlert(n))),c.alt((()=>(0,h.pipe)(y.Bs(t.items.values(),i+1,s(t)),c.alt((()=>y.Bs(t.items.values(),0,s(t)))),c.chain((e=>(0,h.pipe)(t.items.getAt(e.index),c.map((e=>e.alerts[0]))))))))))),c.map((e=>({alert:e,highlightIndex:0}))))})}}(I||(I={}));var A=n(35214),T=n(45701),N=n(26027),O=n(48521),$=n(16892),F=n(69345),j=n(4890);const D=m.f7(((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&F.Z.eq.equals(e.positionState,t.positionState))),L=e=>(0,d.NO)({itemId:e.id,visibilityState:e.visibilityState,positionState:(0,d.NO)(e.positionState)});var P,B,_,M,R;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,n)=>new t(e,n,j.j.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState);class t{constructor(t,n,i){this.visibilityState=t,this.positionState=n,this.renderOptions=i,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return D.equals(this,e)}hashCode(){return L(this)}}}(P||(P={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,n)=>new t(e,n,j.j.defaultOptions),e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState),e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=(0,k.Kg)(e.isPriorityToggle,P.isPriorityToggleHint);class t{constructor(t,n,i){this.visibilityState=t,this.positionState=n,this.renderOptions=i,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return D.equals(this,e)}hashCode(){return L(this)}}}(B||(B={})),function(e){let t;function n(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=l.W8){return n=>0===n.meta.count&&(0===n.items.filter(t).size||c.isNone(n.items.filter(t).find((t=>!e.isScheduledToDispose(t)))))},function(t){function n(t){return n=>o.nL.hasSuccess(n)&&o.nL.hasItems(n)&&e.isInSuccess(t)(n.currentLens)}t.isInSuccess=n,t.isInGlobalSuccess=e=>t=>(o.nL.is(a.R.SpecialId.AllAlerts)(t)||o.nL.is(a.R.SpecialId.Priority)(t))&&n(e)(t)}(t=e.State||(e.State={})),e.getCardId=n,e.create=function(e,t,n,i){const a=C.aW.empty(N.X.getId,i.compare),s=c.none;return{id:e,type:o.Nm.lensview,kind:o._L.persistent,withPriorityList:!1,meta:t,cardIndex:s,items:a,itemsOrd:i,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}},e.add=(e,t,i)=>a=>s=>{const l=a.map((a=>{const o=t.createAdded(s.id)(n(s.meta,a),a);return e(s,a)?o:r.v.Items.hideItem(o,i)})),d=s.items.add(l),u=o.In.getActiveItemIndex(d)(s),p=c.getEq(m.lr).equals(u,s.cardIndex)?o.wj.force:o.wj.skip;return Object.assign(Object.assign({},s),{cardIndex:u,items:d,animation:p})},e.remove=e=>t=>n=>{const i=new Set(t.map((e=>e.id))),r=n.items.map(e.remove((0,l.ls)(e.hasActiveAlert,c.map((e=>e.alert)),c.fold(l.jv,(e=>i.has(e.id)))),(e=>(0,h.pipe)(o.In.getActiveItem(n),c.map((t=>n.itemsOrd.compare(e,t)>0)),c.getOrElse(l.W8))))),a=(0,h.pipe)(n.cardIndex,c.chain((t=>(0,h.pipe)(r.findRightFrom((t=>e.isScheduledToDispose(t)),t),c.map((e=>e.index))))),c.isSome)?o.wj.skip:o.wj.force,s=(0,h.pipe)(n,o.In.getActiveItemIndex(r));return Object.assign(Object.assign({},n),{cardIndex:s,items:r,animation:a})},e.update=(t,n,i)=>r=>a=>e.updateWithAlerts(n,t,i)(r.filter((0,k.ff)(n.shouldAnimateAlertApply)))(a),e.updateWithAlerts=(e,t,i)=>a=>s=>{if(0===a.length)return s;const c=(0,h.pipe)(a,r.v.filterAlertInLens(s,i),S.UI((e=>[n(s.meta,e),e])),S.u4(s.items,((n,[a,o])=>(0,h.pipe)(n.update(a,i.updateWithAlerts([o])),v.g_((()=>{const l=e.createAdded(s.id)(a,o);return n.add(t(s,o)?l:r.v.Items.hideItem(l,i))}),l.yR))))),d=o.In.getActiveItemIndex(c)(s);return Object.assign(Object.assign({},s),{cardIndex:d,items:c,animation:o.wj.proceed})},e.getAlertHandler=function(t,n,i=l.W8){return(a,o)=>{const s=r.v.ApplyDiff.applyWithFilter(o,r.v.ApplyDiff.apply);return r=>(0,h.pipe)(r,s(a,e.add(i,t,n),e.update(i,t,n),e.remove(n)))}}}(_||(_={})),function(e){function t(e,t){return(0,h.pipe)(o.In.getActiveItem(e),c.chain(t.hasActiveAlert),c.map((e=>!x.$.isPriority(e.alert))),c.getOrElse((()=>!1)))}function n(e){return(0,h.pipe)(e.items.get(B.id),c.map((({value:e})=>B.isPriorityToggle(e)&&B.isExpanded(e))),c.getOrElse((()=>!1)))}function i(e,t,n){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter((0,k.W9)(t,(e=>!n.isScheduledToDispose(e)))).size}let s;function l(e,t){return r=>o.nL.hasSuccess(r)&&_.isInSuccess(t)(r.currentLens)||o.nL.isWithPriorityList(r)&&(_.isInSuccess(t,(0,k.ff)(B.isPriorityItem))(r.currentLens)||i(r.currentLens,e,t)&&!n(r.currentLens))}e.ord=(0,A.fold)(T.getMonoid())([(0,h.pipe)(T.ordBoolean,T.contramap(P.isPriorityToggleHint)),(0,h.pipe)(T.ordBoolean,T.contramap(B.isPriorityToggle)),N.X.ord]),e.create=function(e,t,n,i){const a=C.aW.empty(N.X.getId,i.compare),s=c.none;return{id:e,type:o.Nm.lensview,kind:o._L.persistent,itemsOrd:i,meta:t,cardIndex:s,items:a,animation:o.wj.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:i=>r=>{const a=n(r);if("collapsed"===i&&!a||"expanded"===i&&a)return r;const s=t(r,e),l=u(r.items,!a,!a&&s,e);return Object.assign(Object.assign({},r),{items:l,cardIndex:s&&a?c.none:r.cardIndex,animation:o.wj.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=n,e.onlyNonPriorityAlertsLeft=i,e.nonPriorityAlertsVisible=function(e){return!o.nL.isWithPriorityList(e)||n(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||o.nL.isWithPriorityList(e)&&!n(e.currentLens)?o.FS.priorityAlertsOnly:o.FS.allAlerts}(s=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=l,e.isInGlobalSuccess=function(e,t){return n=>(o.nL.is(a.R.SpecialId.AllAlerts)(n)||o.nL.is(a.R.SpecialId.Priority)(n))&&l(e,t)(n)},e.getSyncVisibleCardsHandler=function(e){return i=>{if(!a.R.isWithSuccessId(i.id))return i;let r=d(i.items);const s=t(i,e);r=u(r,n(i)||s,s,e);const l=o.In.getActiveItemIndex(r)(i);return Object.assign(Object.assign({},i),{cardIndex:l,items:r,animation:o.wj.proceed})}};function d(e){return e.has(B.id)||0===e.size?e:e=(e=e.add(B.create("expanded",$.s.PositionState.empty))).add(P.create("visible",$.s.PositionState.empty))}function u(e,t,n,i){const a=(e=>Object.assign(Object.assign({},e),{transitionTo:t=>n=>O.o.isAnimatable(n)&&n.visualState.transition.type!==t.type?e.transitionTo(t)(n):n}))(i),o=0===e.filter((e=>!i.isScheduledToDispose(e)&&(0,h.pipe)(i.hasActiveAlert(e),c.map((e=>e.alert)),c.exists((0,k.ff)(x.$.isPriority))))).size;return e.map((e=>(0,h.pipe)(i.hasActiveAlert(e),c.fold((()=>B.isPriorityItem(e)?o?B.isPriorityToggle(e)?B.transitionTo(e,"hidden"):P.transitionTo(e,"hidden"):B.isPriorityToggle(e)?t||n?B.transitionTo(e,"expanded"):B.transitionTo(e,"collapsed"):t||n?P.transitionTo(e,"visible"):P.transitionTo(e,"hidden"):e),(n=>t||x.$.isPriority(n.alert)?O.o.isAnimatable(e)&&O.o.isHidden(e)?a.transitionTo({type:"rendered",clockwise:!0})(e):e:r.v.Items.hideItem(e,i))))))}e.isAlertVisible=function(e,t){return"priority"===t.view||n(e)},e.ensureExpandCardIsPresent=d,e.syncVisibleCards=u,e.getHasAlerts=function(e,t,a,s,l){const d=r.v.Capabilities.getHasAlerts(e,t,(e=>n(e)&&i(e,s,l)?a(e):t=>a(e)(t)&&(0,h.pipe)(l.hasActiveAlert(t),c.map((e=>e.alert)),c.exists(x.$.isPriority))),l);return Object.assign(Object.assign({},d),{getVisibleAlertsCount:e=>(0,h.pipe)(o.In.getActiveItem(e),c.chain(l.hasActiveAlert),c.map((e=>e.alert)),c.exists(b.bZ.isCapiDone))&&1===e.items.size?0:n(e)?e.meta.count:e.meta.priorityCount})}}(M||(M={})),function(e){e.Prism=r.v.Prism,e.Items=r.v.Items,e.Capabilities=r.v.Capabilities,e.ApplyDiff=r.v.ApplyDiff,e.filterAlertInLens=r.v.filterAlertInLens,e.lensHash=r.v.lensHash,e.getEq=r.v.getEq,e.Closed=i,e.DraftAI=s,e.Plagiarism=u,e.Premium=p,e.WithBundles=I,e.WithPriority=M,e.WithSuccess=_}(R||(R={}))},85287:(e,t,n)=>{n.d(t,{Dn:()=>o,AP:()=>l,rD:()=>I,IY:()=>E,$4:()=>P,bb:()=>B});var i=n(63969),r=n(40219),a=n(50224);const o="linear",s=i.u.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),l=i.u.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),c=i.u.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),d=i.u.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),u=i.u.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=i.u.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=i.u.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),h=i.u.keyframes({"0%, 100%":{opacity:0}}),f=i.u.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),g=i.u.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),y=i.u.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),v=i.u.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),b=i.u.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),C=i.u.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),x={position:"relative",margin:`${i.u.rem(.5)} ${i.u.rem(2)} ${i.u.rem(.5)} 0`,userSelect:"none"},I={position:"absolute",width:i.u.percent(100),pointerEvents:"none"},w={opacity:0,animation:`${s} ${i.u.seconds(r.v4/4/1e3)} ${o} ${i.u.seconds(r.v4/1e3)} forwards`},S={transformOrigin:"top",animation:`${l} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},k={transformOrigin:"bottom",animation:`${c} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},E={transformOrigin:"top",willChange:"contents"},A={animation:`${d} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},T={animation:`${u} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},N={animation:`${p} ${i.u.seconds(r.v4/1e3)} ${o} reverse forwards`},O={animation:`${p} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},$={animation:`${m} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},F={animation:`${m} ${i.u.seconds(r.v4/1e3)} ${o} reverse forwards`},j={transformOrigin:"top",animation:`${f} ${i.u.seconds(r.v4/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.g.successWrapperSelector} > *`]:{animation:`${g} ${i.u.seconds(r.v4/1e3)} ${o} forwards`}}},D={position:"absolute",width:i.u.percent(100),transformOrigin:"top",animation:`${y} ${i.u.seconds(r.v4/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${a.g.fullCardSelector} > :not(.${a.g.alignButtonHiddenSelector})`]:{animation:`${v} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},[`& .${a.g.fullCardSelector} > .${a.g.alignButtonHiddenSelector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${o} none`},[`& .${a.g.fullCardSelector}`]:{transform:`translateY(${i.u.rem(-1)})`}}},L={transformOrigin:"top",animation:`${b} ${i.u.seconds(r.v4/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.g.fullCardSelector} > :not(.${a.g.alignButtonHiddenSelector})`]:{animation:`${C} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},[`& .${a.g.fullCardSelector} > .${a.g.alignButtonHiddenSelector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${o} none`}}},P=i.u.stylesheet({wrapper:[x],animationWrapper:[{position:"relative"}],shade:[I],focused2renderedMain:[w],focused2renderedShade:[I,S],focused2renderedShadeClockwise:[I,k],rendered2focusedMainBase:[E],rendered2focusedMain:[E,A],rendered2focusedMainClockwise:[E,T],addedMain:[N],rendered2removedShade:[I,O],openedMain:[$],closedMain:[F],focused2successMain:[j],focused2successShade:[D],success2FocusedMain:[L]}),B=new Map([[l,P.focused2renderedShade],[c,P.focused2renderedShadeClockwise],[p,P.rendered2removedShade],[y,P.focused2successShade]])},22800:(e,t,n)=>{n.d(t,{S:()=>S,c:()=>k});var i=n(63969),r=n(40219),a=n(85287),o=n(50224);const s=i.u.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),l=i.u.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),c=i.u.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),d=i.u.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),u=i.u.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),p=i.u.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=i.u.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),h=i.u.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),f=i.u.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),g=i.u.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),y=i.u.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),v={opacity:0,animation:`${s} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},b={transformOrigin:"top",animation:`${a.AP} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${l} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${c} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${d} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},C={transformOrigin:"top",animation:`${u} ${i.u.seconds(r.v4/1500)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${l} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${c} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${d} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},x={animation:`${p} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${m} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${f} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},I={animation:`${g} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${m} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${f} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},w={animation:`${y} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},S=i.u.stylesheet({focused2renderedBundleMain:[v],focused2renderedBundleShade:[a.rD,b],focused2renderedBundleShadeClockwise:[a.rD,C],rendered2focusedBundleMain:[a.IY,x],rendered2focusedBundleMainClockwise:[a.IY,I],rendered2focusedBundleShade:[a.rD,w]}),k=new Map([[a.AP,S.focused2renderedBundleShade],[u,S.focused2renderedBundleShadeClockwise],[y,S.rendered2focusedBundleShade]])},88867:(e,t,n)=>{n.d(t,{b:()=>he});var i=n(27378),r=n(57050),a=n(40327),o=n(5739),s=n(38983),l=n(5114),c=n(54338),d=n(15646),u=n(85287),p=n(22800),m=n(35108);const h=({children:e,mount:t})=>i.createElement(o.F.div,{"data-role":"animation-wrapper",className:u.$4.animationWrapper,mount:t},e),f=e=>(0,a.pipe)(l.fromNullable(e.activeAlert),l.fold((()=>e.id),(e=>e.id)));class g extends i.Component{constructor(){super(...arguments),this._elementState=c.f.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return i.createElement(h,{mount:this.props.mount},i.createElement(o.F.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const g=n||m.SA,{main:y,shade:v}=g(t.visualState),b=s.h.create(void 0===v?l.none:(0,a.pipe)(t.visualState.from,l.map((e=>({state:e,className:v})))));return!Boolean(y)&&l.isNone(b.get())&&requestAnimationFrame((()=>e.next({type:d.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}))),i.createElement(c.f.Context.Provider,{value:this._elementState},i.createElement(h,{mount:this.props.mount},b.view((0,r.ls)(l.map((({state:n,className:r})=>i.createElement(o.F.div,{className:r,key:"shade"+n+f(t),onAnimationEnd:n=>{p.c.get(n.animationName)!==r&&u.bb.get(n.animationName)!==r||(e.next({type:d.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame((()=>b.set(l.none))))}},this._stateToElement(n)))),l.toUndefined)),i.createElement(o.F.div,{className:y,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.eI.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var y=n(12187),v=n(44060),b=n(63969),C=n(24588),x=n(40219),I=n(21474),w=n(3656);class S extends i.Component{constructor(){super(...arguments),this._ref=i.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.lY.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:a,className:s,hideActivateButton:l,hideDot:c}=this.props;return i.createElement(o.F.div,Object.assign({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const i=e();n.next({type:d.lY.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:i},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},(0,y.Sh)(s,B.wrapper,null!=c&&c?null:B.miniCard)),i.createElement(w.XY,Object.assign({},(0,y.Sh)(B.contentWrapper,null!=c&&c?B.contentWrapperWithoutDot:B.contentWrapperWithDot)),r),i.createElement("div",{className:B.iconContainer},a&&i.createElement("div",{className:E},a),null!=l&&l?null:i.createElement("div",{className:T},i.createElement(I.JO.Arrow,{className:B.activeTopIcon}),i.createElement(I.JO.Arrow,{className:B.activeBottomIcon}))))}}const k="baseMiniCounterContainer",E=b.u.joinClasses([k,b.u.style({position:"absolute",height:b.u.percent(100),top:0,right:0,zIndex:x.VN,margin:"auto 0",background:v.Il.CoreNeutral0,opacity:1})]),A="baseMiniActivateBtnSelector",T=b.u.joinClasses([A,b.u.style({position:"absolute",top:0,right:0,height:b.u.percent(100),zIndex:x.VN,display:"flex",flexDirection:"column",margin:"auto 0",background:v.Il.CoreNeutral0,opacity:0,justifyContent:"center"})]),N={position:"relative",display:"flex",overflow:"hidden",borderRadius:b.u.rem(x.fx),background:v.Il.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:v.Il.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:b.u.seconds(.2)},[`&:hover .${A}`]:{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},O={overflow:"hidden",color:C.UE,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:b.u.rem(1.5)},$={margin:`0 ${b.u.rem(3)} 0 ${b.u.rem(2)}`},F={paddingLeft:b.u.rem(.5)},j={position:"absolute",top:0,right:b.u.rem(.5),bottom:0,display:"flex"},D={display:"flex",margin:`${b.u.rem(.1)} 0 ${b.u.rem(-1.25)}`,transform:"rotate(180deg)"},L={$nest:{"&:before":{position:"absolute",width:b.u.px(10),height:b.u.px(10),borderRadius:b.u.percent(50),content:"''",transform:"scale(.5)"}}},P={$nest:{"&:before":{margin:`auto 0 auto ${b.u.rem(.75)}`}}},B=b.u.stylesheet({wrapper:[N],contentWrapper:[O],contentWrapperWithDot:[$],contentWrapperWithoutDot:[F],iconContainer:[j],activeTopIcon:[D],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[L],miniCard:[L,P]});var _=n(52187);class M extends i.Component{constructor(){super(...arguments),this._ref=i.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.lY.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:a,className:s,hideActivateButton:l,hideDot:c}=this.props;return i.createElement(o.F.div,Object.assign({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const i=e();n.next({type:d.lY.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:i},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},(0,y.Sh)(s,K.wrapper,null!=c&&c?null:K.miniCard)),i.createElement(w.XY,Object.assign({},(0,y.Sh)(K.contentWrapper,null!=c&&c?K.contentWrapperWithoutDot:K.contentWrapperWithDot)),r),i.createElement("div",{className:K.iconContainer},a&&i.createElement("div",{className:W},a),null!=l&&l?null:i.createElement("div",{className:H},i.createElement(I.JO.Arrow,{className:K.activeTopIcon}),i.createElement(I.JO.Arrow,{className:K.activeBottomIcon}))))}}const R="baseMiniCounterContainer",W=b.u.joinClasses([R,b.u.style({position:"absolute",height:b.u.percent(100),top:0,right:0,zIndex:x.VN,margin:"auto 0",background:v.Il.CoreNeutral0,opacity:1})]),U="baseMiniActivateBtnSelector",H=b.u.joinClasses([U,b.u.style({position:"absolute",top:0,right:0,height:b.u.percent(100),zIndex:x.VN,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),z={position:"relative",display:"flex",overflow:"hidden",borderRadius:b.u.rem(x.fx),background:v.Il.CoreNeutral0,boxShadow:_.S.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:v.Il.CoreNeutral10,transitionDuration:b.u.seconds(.2)},"&:focus":{background:v.Il.CoreNeutral10,boxShadow:`${_.S.z100}, 0 0 0 2px rgb(99 142 235)`,outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},G={overflow:"hidden",color:C.UE,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:b.u.rem(1.5)},V={margin:`0 ${b.u.rem(3)} 0 ${b.u.rem(2)}`},Y={paddingLeft:b.u.rem(.5)},q={position:"absolute",top:0,right:b.u.rem(.5),bottom:0,display:"flex"},J={display:"flex",margin:`${b.u.rem(.1)} 0 ${b.u.rem(-1.25)}`,transform:"rotate(180deg)"},Z={$nest:{"&:before":{position:"absolute",width:b.u.px(10),height:b.u.px(10),borderRadius:b.u.percent(50),content:"''",transform:"scale(.5)"}}},X={$nest:{"&:before":{margin:`auto 0 auto ${b.u.rem(.75)}`}}},K=b.u.stylesheet({wrapper:[z],contentWrapper:[G],contentWrapperWithDot:[V],contentWrapperWithoutDot:[Y],iconContainer:[q],activeTopIcon:[J],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[Z],miniCard:[Z,X]});var Q,ee=n(8125),te=n(41572),ne=n(7046),ie=n(57091),re=n(50224);!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(Q||(Q={}));const ae=({actions:e,isLastCard:t})=>{const n=i.useContext(te.m.Context).successLens.fixedText.titles,r=s.h.create(Q.stage0),a=()=>e.next({type:d.lY.Type.switchToNext});return i.createElement(o.F.div,{className:me.successWrapper},i.createElement(w.P1,{className:me.successText,onAnimationEnd:()=>{r.set(Q.stage1)}},n[(0,ee.TN)(n.length)]),i.createElement(o.F.span,null,r.view((e=>e>=Q.stage1&&i.createElement("span",{onAnimationEnd:()=>r.set(Q.stage2)},i.createElement(I.JO.CheckmarkAnimated,{className:me.successCheckMark}))))),i.createElement(o.F.span,{className:me.successBtnHolder},t.pipe(ie.a(r,((e,t)=>t<Q.stage2?null:e?i.createElement(ne.zx.Caps,{className:me.doneBtn,name:"done",key:"done-btn",onClick:a},"Done"):i.createElement(ne.zx.Caps,{className:me.successBtn,name:"next",key:"next-card",onClick:a},"Next"))))))},oe=b.u.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),se={fontWeight:"bold",lineHeight:b.u.rem(2),animation:`${oe} ${b.u.seconds(.2)} linear forwards`},le={position:"relative",borderRadius:b.u.rem(x.Jr),background:v.Il.CoreNeutral0,boxShadow:`0 ${b.u.rem(.625)} ${b.u.rem(x.mJ)} 0 rgba(198, 203, 222, .45)`},ce={display:"flex",padding:`${b.u.rem(1.5)} ${b.u.rem(2)}`,alignItems:"center"},de={marginLeft:b.u.rem(1),minWidth:0,minHeight:0,width:b.u.rem(1.325),height:b.u.rem(1.325),animation:`${oe} ${b.u.seconds(.2)} linear forwards`},ue={float:"right",width:b.u.rem(4),textAlign:"center",animation:`${oe} ${b.u.seconds(.2)} linear forwards`},pe={backgroundColor:v.Il.CoreGreen50,color:v.Il.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:C.mb}}},me=Object.assign(Object.assign({},b.u.stylesheet({successText:[se],successCheckMark:[de],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[ue],doneBtn:[ue,pe]})),{fullCard:b.u.joinClasses([re.g.fullCardSelector,b.u.style(le)]),successWrapper:b.u.joinClasses([re.g.successWrapperSelector,b.u.style(le,ce)])});var he;!function(e){e.Mini=S,e.MiniContrast=M,e.Card=g,e.Success=ae}(he||(he={}))},50224:(e,t,n)=>{n.d(t,{g:()=>g,m:()=>y});var i=n(44060),r=n(63969),a=n(24588),o=n(40219);const s={position:"relative",borderRadius:r.u.rem(o.Jr),background:i.Il.CoreNeutral0,boxShadow:`0 ${r.u.rem(.625)} ${r.u.rem(o.mJ)} 0 rgba(198, 203, 222, .45)`},l={$nest:{"&:before":{position:"absolute",width:r.u.px(10),height:r.u.px(10),borderRadius:r.u.percent(50),content:"''",transform:"scale(.5)"}}},c={$nest:{"&:before":{backgroundColor:a.kl}}},d={$nest:{"&:before":{backgroundColor:a.AX}}},u={$nest:{"&:before":{backgroundColor:i.Il.CoreRed50}}},p={$nest:{"&:before":{backgroundColor:i.Il.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:i.Il.CoreGreen50}}},h={$nest:{"&:before":{backgroundColor:i.Il.CorePurple50}}},f={$nest:{"&:before":{backgroundColor:i.Il.CoreNeutral50}}},g={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},y=Object.assign(Object.assign({},r.u.stylesheet({dot:[l],dotAdvanced:[d],dotCritical:[c],dotCorrectness:[u],dotClarity:[p],dotEngagement:[m],dotDelivery:[h],dotVox:[f]})),{fullCard:r.u.joinClasses([g.fullCardSelector,r.u.style(s)])})},35108:(e,t,n)=>{n.d(t,{CE:()=>i,SA:()=>d,a:()=>u});var i,r=n(40327),a=n(5114),o=n(8125),s=n(81531),l=n(85287),c=n(22800);function d({from:e,transition:t,incomplete:n}){if(!n)return{};const i=p("transitionClassMapper");return(0,r.pipe)(e,a.map((e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return i.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};case"focused":return{main:t.clockwise?l.$4.rendered2focusedMainClockwise:l.$4.rendered2focusedMain};case"removed":return{shade:l.$4.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.$4.focused2renderedMain,shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"focused":return{main:l.$4.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.$4.focused2successMain,shade:l.$4.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return i.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};default:return{}}default:return{}}})),a.getOrElse((()=>{switch(t.type){case"added":return{main:l.$4.addedMain};case"focused":return{main:l.$4.openedMain};default:return{}}})))}function u({from:e,transition:t,incomplete:n}){return n?(0,r.pipe)(e,a.map((e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};case"focused":return{main:t.clockwise?c.S.rendered2focusedBundleMainClockwise:c.S.rendered2focusedBundleMain,shade:c.S.rendered2focusedBundleShade};case"removed":return{shade:l.$4.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.S.focused2renderedBundleMain,shade:t.clockwise?c.S.focused2renderedBundleShadeClockwise:c.S.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"focused":return{main:l.$4.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.$4.focused2successMain,shade:l.$4.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};default:return{}}default:return{}}})),a.getOrElse((()=>{switch(t.type){case"added":return{main:l.$4.addedMain};case"focused":return{main:l.$4.openedMain};default:return{}}}))):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:i}=e(t);return{main:a.fromNullable(n),shade:a.fromNullable(i)}}}}(i||(i={}));const p=(0,o.HP)(s.C8.Logging.getLogger)},40111:(e,t,n)=>{n.d(t,{A:()=>i});var i,r=n(27378),a=n(57050),o=n(40327),s=n(5739),l=n(59312),c=n(83078),d=n(5114),u=n(95300),p=n(78146),m=n(98036),h=function(){function e(e){this._keySelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this._keySelector))},e}(),f=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i._keySelector=n,i.attemptedToUnsubscribe=!1,i.count=0,i._currentGroup=d.none,i}return(0,l.ZT)(t,e),t.prototype._next=function(e){var t=this,n=this._keySelector(e);(0,o.pipe)(this._currentGroup,d.fold((function(){return t._createGroup(n,e)}),(function(i){var r=i.key,a=i.group;r!==n?(a.complete(),t._currentGroup=d.none,t._createGroup(n,e)):a.closed||a.next(e)})))},t.prototype._createGroup=function(e,t){var n=new u.X(t);this._currentGroup=d.some({key:e,group:n}),this.destination.next(new p.T(e,n,this))},t.prototype._error=function(e){(0,o.pipe)(this._currentGroup,c.bw((function(t){return t.group.error(e)}))),this._currentGroup=d.none,this.destination.error(e)},t.prototype._complete=function(){(0,o.pipe)(this._currentGroup,c.bw((function(e){return e.group.complete()}))),this._currentGroup=d.none,this.destination.complete()},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(m.L),g=n(19751),y=n(77176),v=n(66310),b=n(28043),C=n(76974),x=n(8125),I=n(44060),w=n(81531),S=n(63969),k=n(40219),E=n(26027),A=n(77610),T=n(29847),N=n(50224),O=n(55636),$=n(6334),F=n(93282),j=n(39271),D=n(12138);!function(e){e.Mini=({card:e,actions:t})=>r.createElement(s.F.Fragment,null,e.pipe(y.U((e=>A.C.isToneAIItem(e)?r.createElement(D.Y.BundleMini,{card:e,actions:t}):A.C.isEthicalAIItem(e)?r.createElement(j.T.Mini,{card:e,actions:t,useBundleContainer:!0}):r.createElement(F.P.Bundle,{card:e,actions:t}))))),e.Full=({card:e,actions:n,renderCard:c})=>{const{isChecking:d,isCheckingGlobal:u,transform:p}=E.X.useCardStates(e),m=e=>(l("CardBundle").error("card type not supported:",e),null),f=e.pipe((e=>e.lift(new h((e=>e.activeAlert.id)))),v.w((e=>e.pipe(b.x(((e,t)=>e.activeAlertIndex===t.activeAlertIndex)),y.U((t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:(0,o.pipe)(e,b.x(((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId)),g.d({bufferSize:1,refCount:!0}))}))))))),x=(e,t)=>{const i=t.alerts.length,a=1===i?ie.bundleInnerContainer:2===i?ie.bundleInnerContainer2Cards:ie.bundleInnerContainerNCards;return r.createElement(s.F.div,{className:a},c?c({card:t,actions:n,isChecking:d,isCheckingGlobal:u,transform:e}):r.createElement($.J,{card:t,actions:n,isChecking:d,transform:e,isCheckingGlobal:u}))};return r.createElement(s.F.Fragment,null,e.pipe(y.U((l=>A.C.isIndependentBundleItem(l)?x(p,l):r.createElement(i,{card:e,actions:n},r.createElement(t,{state:f,stateToClassMapper:(e,t)=>{if(!e)return{prev:(0,T.EJ)(""),next:(0,T.EJ)("")};if(e.activeAlertId===t.activeAlertId)return{prev:(0,T.EJ)(ie.inBundleToUpdatedCardOld),next:(0,T.EJ)(ie.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:(0,T.EJ)(ie.inBundleToUpdatedCardOld),next:(0,T.EJ)(ie.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:(0,T.EJ)(ie.inBundleToNextCardOld),next:(0,T.EJ)(ie.inBundleToNextCardNew)}:{prev:(0,T.EJ)(ie.inBundleToPrevCardOld),next:(0,T.EJ)(ie.inBundleToPrevCardNew)}}},(e=>r.createElement(s.F.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:a.Q1},(0,o.pipe)(e.state.card,y.U((0,a.ls)(A.C.match({super:m,ethicalAI:m,takeaway:t=>x("prev"===e.type?C.of(t.transform):p,t),sentenceLevelBrandTones:e=>x(p,e),synfony:t=>x("prev"===e.type?C.of(t.transform):p,t),shortenIt:t=>x("prev"===e.type?C.of(t.transform):p,t),toneAI:t=>x("prev"===e.type?C.of(t.transform):p,t),sdui:t=>x("prev"===e.type?C.of(t.transform):p,t),suggestedSnippet:t=>x("prev"===e.type?C.of(t.transform):p,t),default:t=>x("prev"===e.type?C.of(t.transform):p,t)}),E.X.foldCard)))))))))))};class t extends T.l5{}const n=({alertCount:e})=>1===e?r.createElement(r.Fragment,null):2===e?r.createElement("div",{className:ie.bundleFakeCard1}):r.createElement(r.Fragment,null,r.createElement("div",{className:ie.bundleFakeCard1}),r.createElement("div",{className:ie.bundleFakeCard2})),i=({children:e,card:t,actions:i})=>r.createElement(s.F.div,{className:ie.bundleCardWrapper},r.createElement(O.PS,{card:t,actions:i}),r.createElement(s.F.div,{className:ie.cardBundleContainer},e,(0,o.pipe)((e=>(0,o.pipe)(e,y.U((e=>d.some(e.alerts.length)))))(t),y.U(d.map((e=>r.createElement(n,{key:e,alertCount:e})))),y.U(d.toNullable)))),l=(0,x.HP)(w.C8.Logging.getLogger)}(i||(i={}));const L=.25,P="0 1px 8px rgba(109, 117, 141, .18)",B=S.u.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),_=S.u.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),M=S.u.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),R=S.u.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),W=S.u.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),U={position:"relative",borderRadius:S.u.rem(k.Jr),background:I.Il.CoreNeutral0,boxShadow:P,zIndex:2},H={marginTop:S.u.rem(.75)},z={marginTop:S.u.rem(1.25)},G={position:"absolute",top:S.u.px(-5),right:S.u.rem(.5),left:S.u.rem(.5),zIndex:-1,display:"block",height:S.u.percent(100),borderRadius:S.u.rem(k.Jr),backgroundColor:I.Il.CoreNeutral1,boxShadow:P,content:"' '"},V={position:"absolute",top:S.u.px(-10),right:S.u.rem(1),left:S.u.rem(1),zIndex:-2,display:"block",height:S.u.rem(2),borderRadius:S.u.rem(k.Jr),backgroundColor:I.Il.CoreNeutral10,boxShadow:P,content:"' '"},Y={borderRadius:S.u.rem(.75),background:I.Il.CoreNeutral20,margin:`${S.u.rem(-.25)} ${S.u.rem(-.25)}`,padding:`${S.u.rem(.25)} ${S.u.rem(.25)}`,$nest:{[`& .${N.g.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${N.g.fullCardSelector}`]:{padding:`${S.u.rem(.75)} ${S.u.rem(.5)} ${S.u.rem(.5)} ${S.u.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${S.u.rem(-.5)})`}}},q={position:"absolute",top:S.u.rem(.8),right:S.u.rem(1),margin:0},J={borderRadius:S.u.rem(k.Jr),background:I.Il.CoreNeutral0,boxShadow:P},Z={display:"block",position:"absolute",top:0,$nest:{[`& .${N.g.bundleInnerContainerSelector}`]:{margin:0}}},X={animation:`${W} ${S.u.seconds(L)} ease-out`},K={animation:`${M} ${S.u.seconds(L)} ease-out`},Q={animation:`${_} ${S.u.seconds(L)} ease-in`},ee={animation:`${R} ${S.u.seconds(L)} ease-in`},te={display:"none",animation:`${B} ${S.u.seconds(L)} ease-in`},ne={animation:`${B} ${S.u.seconds(L)} ease-in`},ie=Object.assign(Object.assign({},S.u.stylesheet({bundleInnerContainer:[U],bundleCardWrapper:[Y],minimalBetaLabel:[q],compactCardContainer:[J],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[Z],inBundleToPrevCardOld:[Z,X],inBundleToPrevCardNew:[K],inBundleToNextCardOld:[Z,Q],inBundleToNextCardNew:[ee],inBundleToUpdatedCardOld:[te],inBundleToUpdatedCardNew:[ne]})),{bundleInnerContainer:S.u.joinClasses([N.g.bundleInnerContainerSelector,S.u.style(U)]),bundleInnerContainer2Cards:S.u.joinClasses([N.g.bundleInnerContainerSelector,S.u.style(U,H)]),bundleInnerContainerNCards:S.u.joinClasses([N.g.bundleInnerContainerSelector,S.u.style(U,z)]),bundleFakeCard1:S.u.joinClasses([N.g.bundleFakeCard1Selector,S.u.style(G)]),bundleFakeCard2:S.u.joinClasses([N.g.bundleFakeCard2Selector,S.u.style(V)])})},28584:(e,t,n)=>{n.d(t,{a0:()=>i,$x:()=>w,Im:()=>S,oL:()=>L});var i,r=n(27378),a=n(57050),o=n(40327),s=n(49524),l=n(12187),c=n(5114),d=n(83078),u=n(41572),p=n(66896),m=n(40018),h=n(17594),f=n(4890),g=n(7046),y=n(29245),v=n(21474),b=n(16951),C=n(3656),x=n(50224),I=n(36642);!function(e){e.none="none",e.persistent="persistent",e.new="new"}(i||(i={}));const w=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:i}}=r.useContext(u.m.Context);return r.createElement("div",Object.assign({},(0,l.Sh)(e,I.h.voxTitle,n?I.h.minimalTitle:void 0)),r.createElement("span",null,t.companyName," ",i))},S=({logoUrl:e,className:t})=>r.createElement("img",Object.assign({alt:"company logo",src:e},(0,l.Sh)(t,I.h.voxLogo))),k=({title:e,layoutDensity:t})=>r.createElement(C.XY,{className:(0,o.pipe)(t,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>I.h.minimalTitle),(()=>I.h.toneTitle)))},r.createElement(y.dy,{emojiClassName:I.h.toneLogo},e));function E(e){return p.R.outcomeTypeMatch({correctness:x.m.dotCorrectness,clarity:x.m.dotClarity,premium:x.m.dotAdvanced,engagement:x.m.dotEngagement,delivery:x.m.dotDelivery,vox:x.m.dotVox})(e.lensType)}function A(e){return p.R.outcomeTypeMatch({correctness:r.createElement(v.JO.Correctness,{className:I.h.cardLogo}),clarity:r.createElement(v.JO.ClarityOutcome,{className:I.h.cardLogo}),premium:r.createElement(v.JO.Star,{className:I.h.cardLogo}),engagement:r.createElement(v.JO.EngagementOutcome,{className:I.h.cardLogo}),delivery:r.createElement(v.JO.DeliveryOutcome,{className:I.h.cardLogo}),vox:null})(e.lensType)}const T=({companyLogoUrl:e})=>{const t=r.useContext(u.m.Context).card.sentenceLevelBrandTones;return r.createElement(C.x4,{className:I.h.sentenceLevelBrandTonesLabel},Boolean(e)?r.createElement("img",{alt:"company logo",src:e,className:I.h.toneLogo}):null,r.createElement("span",{className:I.h.sentenceLevelBrandTonesOffBrand},t.offBrandCardTitle)," ",t.detected)};function N(e,t,n,i,u,p){const{extraProperties:g}=e;return h.$.isTakeaway(e)?function(e,t,n){return{style:"",description:r.createElement("div",{className:(0,o.pipe)(t,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>I.h.minimalTitle),(()=>{})))},d.FX(m.TO.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?r.createElement(v.JO.ValidationOk,Object.assign({width:16},(0,l.Sh)(I.h.cardLogo,I.h.takeawayIcon))):r.createElement(v.JO.Megaphone,Object.assign({width:16},(0,l.Sh)(I.h.cardLogo,I.h.takeawayIcon))),t===f.j.Density.minimal?n:e.lensName)}}(e,n,p):h.$.isSentenceLevelBrandTones(e)?function(e){const t=(0,o.pipe)(e.extraProperties.sentenceLevelBrandTones,c.chain((e=>e.companyLogoUrl)),c.fold(a.gn,s.y));return{style:"",description:r.createElement(T,{companyLogoUrl:t})}}(e):h.$.isShortenIt(e)?O(e,n,u,p):h.$.isToneAI(e)?function(e){return{style:E(e),description:r.createElement(C.XY,{className:I.h.minimalTitle},e.title)}}(e):h.$.isEthicalAI(e)?function(e){return{style:"",description:r.createElement("div",null,void 0!==e.emojiID?r.createElement(y.In,{id:e.emojiID,className:I.h.toneLogo}):r.createElement(v.JO.EthicalAI.Heart,Object.assign({},(0,l.Sh)(I.h.cardLogo))),r.createElement(C.x4,{className:I.h.ethicalAILabel},e.miniCardTitle))}}(e):h.$.isSuggestedSnippet(e)?function(e){return{style:E(e),description:r.createElement(C.XY,{className:I.h.minimalTitle},e.title)}}(e):c.isSome(g.tone)?function(e,t){return{style:E(e),description:r.createElement(k,{title:e.title,layoutDensity:t})}}(e,n):t?c.isSome(g.vox)?function(e,t){return{style:x.m.dotVox,description:r.createElement(r.Fragment,null,(0,o.pipe)(e.logoUrl,c.fold((()=>null),(e=>r.createElement(S,{logoUrl:e,className:I.h.cardLogo})))),r.createElement(w,{vox:e,isMinimalCard:t===f.j.Density.minimal}))}}(g.vox.value,n):h.$.isFree(e)?O(e,n,u,p):function(e,t,n,i){return{style:(0,o.pipe)(i,f.j.CardVisualMode.match({onRegular:()=>E(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,(0,o.pipe)(i,f.j.CardVisualMode.match({onRegular:()=>null,onContrast:()=>A(e)})),r.createElement("div",Object.assign({},(0,l.Sh)(I.h.dualItemLabel,(0,o.pipe)(n,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>I.h.minimalTitle),(()=>{}))))),r.createElement("span",{className:I.h.dualItemLabel},e.lensName,r.createElement(j,{highlightStyle:t}))))}}(e,i,n,u):null}function O(e,t,n,i){return(0,o.pipe)(t,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>function(e,t,n){return{style:(0,o.pipe)(t,f.j.CardVisualMode.match({onRegular:()=>E(e),onContrast:()=>""})),description:Boolean(n)?n:r.createElement(r.Fragment,null,(0,o.pipe)(t,f.j.CardVisualMode.match({onRegular:()=>null,onContrast:()=>A(e)})),r.createElement(C.XY,{className:I.h.minimalTitle},e.miniCardTitle))}}(e,n,i)),(()=>function(e,t){return{style:(0,o.pipe)(t,f.j.CardVisualMode.match({onRegular:()=>E(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,(0,o.pipe)(t,f.j.CardVisualMode.match({onRegular:()=>null,onContrast:()=>A(e)})),e.lensName)}}(e,n))))}const $=({label:e})=>r.createElement("span",{className:I.h.fluencyLabel},e,r.createElement(g.RZ,{iconWidth:10,buttonClass:I.h.fluencyInfo,iconClass:I.h.fluencyInfo,title:r.useContext(u.m.Context).card.fluency.tooltip})),F=({style:e,description:t})=>r.createElement("span",Object.assign({},(0,l.Sh)(I.h.lens,I.h.dot,e)),t),j=({highlightStyle:e})=>{const t=r.useContext(u.m.Context);if(e===i.none)return null;const n=e===i.new?r.createElement("div",{className:I.h.newPremiumLabel},t.premiumAlertLabel.new,r.createElement(v.JO.Paid,{className:I.h.newPremiumLabelIcon,width:12})):r.createElement(v.JO.Paid,{className:I.h.premiumPersistentTooltipIcon,width:10});return r.createElement(b.u,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},D=({style:e,description:t,extraStyle:n})=>r.createElement("span",Object.assign({},(0,l.Sh)(n,I.h.lensMinimal,I.h.lens,I.h.dot,e)),t),L=e=>(0,o.pipe)(N(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),c.fromNullable,c.map((t=>r.createElement("div",{className:e.className},(0,o.pipe)(e.activeAlert.extraProperties.fluencyMessage,c.fold((()=>(0,o.pipe)(e.layoutDensity,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>r.createElement(D,Object.assign({},t))),(()=>r.createElement(F,Object.assign({},t)))))),(n=>(0,o.pipe)(e.layoutDensity,f.j.Density.match(r.createElement(r.Fragment,null,r.createElement(F,Object.assign({},t)),r.createElement($,{label:n})),r.createElement(F,Object.assign({},t)),r.createElement(D,{style:t.style,extraStyle:I.h.minimalTitle,description:e.activeAlert.miniCardTitle}))))))))),c.fold((()=>r.createElement("div",{"data-purpose":"label-placeholder"})),(t=>r.createElement(P,null,t,e.badge)))),P=({children:e})=>r.createElement("div",{className:I.h.labelContainer},e)},74754:(e,t,n)=>{n.d(t,{y:()=>a});var i=n(28706);const r=["b","i","br","ul","li"];var a;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return i.yG(e,n)}}(a||(a={}))},52187:(e,t,n)=>{n.d(t,{S:()=>i});const i={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"}},66346:(e,t,n)=>{n.d(t,{Vh:()=>p,G3:()=>m,hC:()=>h});var i=n(27378),r=n(84966),a=n(41572),o=n(26027),s=n(15646),l=n(7046),c=n(21474),d=n(28706),u=n(36642);const p=({card:{activeAlert:e,id:t,visualState:n},actions:p,mode:m,className:f,disabled:g})=>{const y=i.useContext(a.m.Context);return i.createElement(l.zx.Tertiary,{key:"toggle-more",name:h(n,y),title:"mini"===m?h(n,y):"",className:f,disabled:g,onClick:d.hz((()=>{const i=o.X.isCardOpen(n);p.next({type:s.eI.Kind.startTransitionTo,id:t,transition:{type:i?"focused":"expanded",clockwise:!0}}),i||p.next({type:s.lY.Type.alertFeedback,alertId:e.id,feedbackType:r.PZ.EXPANDED})}))},o.X.isCardOpen(n)?i.createElement(c.JO.Arrow,{key:"more",className:u.h.lessIcon}):i.createElement(c.JO.QuestionMark,{key:"expand"}),"default"===m&&h(n,y))},m=({visualState:e,children:t,className:n})=>i.createElement("div",{className:(o.X.isCardOpen(e)?u.h.more:u.h.moreHidden)+" "+n},t);function h(e,t){const n=t.card;return o.X.isCardOpen(e)?n.less:n.more}},36642:(e,t,n)=>{n.d(t,{h:()=>k});var i=n(44060),r=n(63969),a=n(40219);const o={$nest:{"&:before":{position:"absolute",width:r.u.px(10),height:r.u.px(10),borderRadius:r.u.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},l={color:i.Il.CoreNeutral50,textTransform:"uppercase",letterSpacing:i.xv.SubheadingLetterSpacing,fontSize:r.u.rem(i.xv.SubheadingSize),lineHeight:r.u.rem(i.xv.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.u.rem(.25)}}},c={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.u.px(2),left:r.u.rem(-1.1),margin:"auto 0"}}},d={$nest:{"&:before":{top:0,bottom:0,left:r.u.rem(-1.1),margin:`${r.u.rem(.25)} 0 auto 0`}}},u={margin:`0 ${r.u.rem(.4)} 0 ${r.u.rem(.2)}`,width:r.u.rem(.85),height:r.u.rem(.85),objectFit:"contain"},p={position:"absolute",top:0,bottom:0,left:r.u.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.u.rem(.3)} ${r.u.rem(.25)}`,cursor:"pointer",borderRadius:r.u.percent(100),marginLeft:r.u.rem(.5),$nest:{"&:hover":{background:i.Il.CoreNeutral10}}},h={display:"flex",alignItems:"center",padding:`0 ${r.u.rem(.25)}`,borderRadius:r.u.rem(a.fx),cursor:"pointer",background:i.Il.CoreYellow20,color:i.Il.CoreYellow80,marginLeft:r.u.rem(.5),$nest:{"&:hover":{background:i.Il.CoreYellow10}}},f={minWidth:"initial",minHeight:"initial",fill:i.Il.CoreYellow80,marginLeft:r.u.rem(.3)},g={display:"flex",alignItems:"flex-start",top:r.u.rem(.125),minWidth:"initial",minHeight:"initial",background:i.Il.CoreNeutral0},y={color:i.Il.CoreNeutral90,textTransform:"none",letterSpacing:i.xv.SmallLetterSpacing,fontWeight:i.xv.SmallWeight,fontSize:r.u.rem(i.xv.SmallSize),lineHeight:r.u.rem(i.xv.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},v={color:i.Il.CoreNeutral50,textTransform:"none"},b={width:r.u.rem(1),height:r.u.rem(1)},C={display:"inline-flex",padding:`0 ${r.u.rem(.25)}`,borderRadius:r.u.rem(a.fx),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},x={display:"inline-flex",marginLeft:r.u.rem(.1),minWidth:0,minHeight:0},I={color:i.Il.CoreNeutral80,textTransform:"none"},w={width:r.u.rem(1),height:r.u.rem(1),marginRight:r.u.rem(.375)},S={color:i.Il.CoreRed60},k=r.u.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[l],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[l,c],lensMinimal:[d],voxLogo:[u],cardLogo:[p],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[h],newPremiumLabelIcon:[f],takeawayIcon:[g],minimalTitle:[y],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[v],toneLogo:[p,b],fluencyLabel:[l,C],fluencyInfo:[x],dot:[o],ethicalAILabel:[{textTransform:"none"}],sentenceLevelBrandTonesLabel:[I],sentenceLevelBrandTonesLabelImage:[w],sentenceLevelBrandTonesOffBrand:[S]})},1883:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(27378),r=n(5739),a=n(12187),o=n(63969),s=n(35108),l=n(50224);const c=e=>{const{shade:t}=(0,s.SA)(e.visualState);i.useEffect((()=>{Boolean(t)||e.onFocus()}),[]);const n=e.theme||{};return i.createElement(r.F.div,{className:n.container},e.header,i.createElement(r.F.div,{className:n.innerContainer},i.createElement(r.F.div,Object.assign({},(0,a.Sh)(b.wrapper,n.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),i.createElement(r.F.div,Object.assign({},(0,a.Sh)(b.grid,n.content)),i.createElement(r.F.div,Object.assign({},(0,a.Sh)(b.mainContent,n.contentBody)),e.body),Boolean(e.footer)?i.createElement("div",{className:b.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?i.createElement("div",{className:b.actions},e.subActions,i.createElement("div",{className:b.spacerOne}),e.navigation,i.createElement("div",{className:b.spacerFloat}),e.mainActions):null)),e.extra))},d="& > * + *",u=.75,p={position:"relative"},m={padding:`${o.u.rem(1)} ${o.u.rem(.5)} ${o.u.rem(u)} ${o.u.rem(1)}`},h={padding:`0 ${o.u.rem(.5)} 0 ${o.u.rem(1)}`,$nest:{[d]:{marginTop:o.u.rem(u)}}},f={padding:`0 ${o.u.rem(.5)} 0 ${o.u.rem(1)}`,$nest:{[d]:{marginTop:o.u.rem(u)}}},g={display:"flex",marginLeft:o.u.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},y={width:o.u.rem(1),flexShrink:1},v={$nest:{[d]:{marginTop:o.u.rem(u)}}},b=Object.assign(Object.assign({},o.u.stylesheet({mainContent:[h],footerContent:[f],actions:[g],spacerOne:[y],spacerFloat:[{flex:1}],grid:[v]})),{fullCard:o.u.joinClasses([l.g.fullCardSelector,o.u.style(p)]),wrapper:o.u.joinClasses([l.g.fullCardSelector,o.u.style(p,m)])})},55636:(e,t,n)=>{n.d(t,{PS:()=>Ke,mQ:()=>Ze,o:()=>qe,jt:()=>Je,Kg:()=>Oe,dk:()=>Ee,U4:()=>Ne,lJ:()=>Be,hl:()=>Ge,__:()=>ze,M9:()=>Qe,ko:()=>Ae,hT:()=>Re,q4:()=>_e,Dx:()=>We,jg:()=>Ue,Ot:()=>He,Nm:()=>Pe,VM:()=>ct,eb:()=>dt,k_:()=>Vt,LM:()=>ut,m_:()=>Ve,Bn:()=>Yt,Gq:()=>pt,IH:()=>mt,ce:()=>lt});var i=n(27378),r=n(57050),a=n(40327),o=n(12187),s=n(5739),l=n(38983),c=n(84966),d=n(8125),u=n(83078),p=n(18208),m=n(5114),h=n(44060),f=n(81531),g=n(63969),y=n(24588),v=n(40219),b=n(71284),C=n(41572),x=n(40018),I=n(17594),w=n(26027),S=n(91549),k=n(15646),E=n(77610),A=n(4890),T=n(51006),N=n(8313),O=n(62310),$=n(7046),F=n(24811),j=n(95286),D=n(21474),L=n(50790),P=n(63847),B=n(42329),_=n(16951),M=n(97528),R=n(3656),W=n(85255),U=n(60797),H=n(26653),z=n(28706),G=n(66310),V=n(49708),Y=n(2834),q=n(95093),J=n(24209),Z=n(40151),X=n(17343),K=n(77176),Q=n(32952),ee=n(2844),te=n(85985),ne=n(55935),ie=n(50224),re=n(28584),ae=n(74754),oe=n(66346),se=n(1883),le=n(26662),ce=n(14532);const de=({examples:e,layoutDensity:t})=>i.createElement(R.ZT,{nodeType:"table",styleType:R.ZT.Type.Base,className:xe.wrapper},e.map(((e,n)=>i.createElement("tbody",{key:n,className:xe.group},e.map((({text:e,title:n,color:r,hasItalic:o},s)=>i.createElement("tr",{key:s,className:(0,a.pipe)(t,A.j.Density.matchL((()=>xe.item),(()=>xe.itemCompact),(()=>xe.itemMinimal)))},(0,a.pipe)(n,m.map((e=>i.createElement("td",{className:ce.J.colorMatch(r)(xe)},(e=>e.split("/").reduce(((e,t,n)=>(0!==n&&e.push(i.createElement("br",{key:n})),e.push(t),e)),[]))(e)))),m.toNullable),i.createElement("td",Object.assign({colSpan:m.isNone(n)?2:void 0,className:o?xe.content:xe.contentItalic},z.yG(e)))))))))),ue={$nest:{"&:not(:last-child):after":{display:"block",height:g.u.rem(1.75),content:"''"}}},pe={$nest:{"&:not(:last-child)":{borderBottom:`${g.u.rem(.5)} solid transparent`}}},me={display:"flex",flexDirection:"column",lineHeight:g.u.rem(1.3125)},he={padding:0,verticalAlign:"top",lineHeight:g.u.rem(1.25)},fe={paddingRight:g.u.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},ge={color:h.Il.CoreNeutral50,fontFeatureSettings:`${v.g_}, ${v.xL}`},ye={color:h.Il.CoreRed50},ve={color:h.Il.CoreGreen60},be={color:h.Il.CoreNeutral90},Ce={color:h.Il.CoreNeutral90},xe=g.u.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[ue],item:[pe],itemCompact:[pe,{display:"flex",flexDirection:"column"}],itemMinimal:[pe,me],baseBlock:[he],title:[he,fe],content:[he,ge],contentItalic:[he,ge,{fontStyle:"italic"}],red:[he,fe,ye],green:[he,fe,ve],yellow:[he,fe,be],fallback:[he,fe,Ce]});var Ie=n(14444),we=n(19025);const Se=(0,d.HP)(f.C8.Logging.getLogger);var ke;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>(0,a.pipe)(m.fromNullable(t.match(e.actionRegex)),m.chain((e=>{switch(e[1]){case"set-goals":return m.some(k.lY.Type.openSetGoals);case"ideas-gallery":return m.some(k.lY.Type.openIdeasGallery);default:return m.none}})))}(ke||(ke={}));const Ee=({description:e,actions:t,layoutDensity:n,className:r})=>{const s=i.useContext(C.m.Context),l=i.useContext(M.G.Context),{ref:c,onMount:d}=W.P.useElWatcher();W.P.useSubscriptionTo(c.pipe(U.oA,G.w((e=>Array.from(e.getElementsByTagName("a")).reduce(((e,n)=>{const i=V.R(n,"click").pipe(Y.b((e=>e.preventDefault())));return(0,a.pipe)(m.fromNullable(n.getAttribute("href")),m.chain(ke.parse),m.fold((()=>(Se("Description").error("Invalid action",n),e.pipe(q.T(i)))),(r=>J.T(e,r in s.card.actionDescription&&r!==k.lY.Type.openIdeasGallery?l.getTooltipObservable(n,s.card.actionDescription[r],"auto",m.none):Z.E,i.pipe(X.h({type:r}),Y.b(t))))))}),Z.E)))));const u=(0,a.pipe)(n,A.j.Density.matchOrDefault(A.j.Density.minimal)((()=>Jt.minimalDescription),(()=>Jt.description)));return i.createElement(R.XY,Object.assign({mount:d},(0,o.Sh)(u,r),ae.y.renderToHtml(e,ke.actionRegex)))},Ae=({card:e,isChecking:t})=>x.bZ.isRated(e.activeAlert)?i.createElement(F.B,{value:w.X.isCardPresuccess(e.visualState)?H.g.MAX:e.meta.percentile,initValue:w.X.isCardPresuccess(e.visualState)?e.meta.percentile:H.g.MIN,isLoading:t}):null,Te=({card:e})=>{const t=(0,F.N)(w.X.isCardPresuccess(e.visualState)?H.g.MAX:e.meta.percentile,w.X.isCardPresuccess(e.visualState)?e.meta.percentile:H.g.MIN);return i.createElement(s.F.Fragment,null,t.pipe(K.U(H.g.prism.reverseGet),K.U((e=>i.createElement(P.P,{percentage:e,colorType:P.P.ColorType.neoBlue,iconSize:P.P.IconSize.extraSmall,theme:{radialProgressBar:Jt.circleProgress,radialProgressText:Jt.circleText}})))))},Ne=({card:e,feedbackActions:t,onClick:n,disabled:r})=>{const o=i.useContext(C.m.Context);return i.createElement($.zx.Ghost,{name:"ignore",title:o.dismiss,ariaLabel:o.dismiss,onClick:z.hz((()=>{t.next({type:k.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:w.X.isEligibleForDismissSurvey(e),drilldownSuggestionIds:E.C.isSynfonyItem(e)?(0,a.pipe)(e.synfonySelection,m.getOrElse((()=>[]))):void 0}),n&&n()})),disabled:r},i.createElement(D.JO.Ignore,null))},Oe=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:r,alwaysShowWrongAndOffensiveButtons:o})=>i.createElement(i.Fragment,null,i.createElement(Ne,{card:e,feedbackActions:t,onClick:r,disabled:n}),i.createElement(De,{activeAlert:e.activeAlert,onMute:(0,a.pipe)(e.muteCategory,m.map((n=>z.hz((()=>t.next({type:k.lY.Type.muteAlertCategory,categoryId:n.id,id:e.id,viewType:e.activeAlert.type})))))),onWrong:z.hz(z.hz((()=>t.next({type:k.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.PZ.WRONG_SUGGESTION})))),onOffensive:z.hz(z.hz((()=>t.next({type:k.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.PZ.OFFENSIVE_CONTENT})))),onVisibilityChange:e=>t.next({type:k.lY.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:n,alwaysShowWrongAndOffensiveButtons:o})),$e=({onClick:e})=>{const t=i.useContext(C.m.Context);return i.createElement($.zx.Flat,{name:"mute",onClick:e},i.createElement(D.JO.Mute,null),t.card.mute)},Fe=({onClick:e})=>{const t=i.useContext(C.m.Context);return i.createElement($.zx.Flat,{name:"incorrect",onClick:e},i.createElement(D.JO.Report,null),t.card.wrong)},je=({activeAlert:e,onClick:t})=>{const n=i.useContext(C.m.Context);return(0,a.pipe)(e.extraProperties.vox,u.dH((()=>null),i.createElement($.zx.Flat,{name:"offensive",onClick:t},i.createElement(D.JO.Report,null),n.card.offensive)))},De=({activeAlert:e,onMute:t,onWrong:n,onOffensive:o,onVisibilityChange:s,disabled:l,alwaysShowWrongAndOffensiveButtons:c=!1})=>{const d=m.isSome(e.getTransform()),p=m.isSome(t),h=i.createElement(i.Fragment,null,p&&i.createElement(j.L.Delimiter,null),i.createElement(Fe,{onClick:n}),i.createElement(je,{activeAlert:e,onClick:o}));return p||d||c?i.createElement(j.L,{label:i.createElement($.zx.Ghost,{name:"moreActions",disabled:l},i.createElement(D.T1.MoreVertical,null)),align:"right",theme:{dropdownContainer:Jt.dropdownContainer},name:"moreActions",onVisibilityChange:s},(0,a.pipe)(t,m.map((e=>i.createElement($e,{onClick:e}))),u.QP),(0,a.pipe)(d,m.fromPredicate(r.yR),m.map((()=>h)),u.vx((0,a.pipe)(c,m.fromPredicate(r.yR),m.map((()=>h)))),u.QP)):null},Le=({card:e,onClick:t,mode:n="default"})=>{const r=i.useContext(C.m.Context),a=i.useContext(b.a.Context),o=i.useCallback((e=>{a.has(b.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()}),[]),s=e.renderOptions.features.has(A.j.Features.showAnonymousUserFooters)?{disabled:!0,title:r.card.disabledForAnonymous}:{title:"mini"===n?r.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?i.createElement($.zx.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),i.createElement(D.JO.Dict,null),r.card.addToDict):null},Pe=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:r,onClick:a,disabled:s,className:l,spinnerClassName:c,messageClassName:u})=>i.createElement($.zx.Primary,Object.assign({key:"update-all",name:"update-all",title:e},(0,o.Sh)(t.pipe(K.U((0,d.RN)(le.V.updateAllBtnLoading,le.V.updateAllBtn))),l),{disabled:t.view((e=>e||!0===s)),children:t.pipe(K.U((0,d.RN)(i.createElement(i.Fragment,{key:"update-all-checking"},i.createElement("span",{className:u},p.kC(n)),i.createElement(B.$,{size:18,strokeWidth:2,wrapperClassName:(0,o.Sh)(le.V.updateBtnSpinner,c).className,variation:"white"})),i.createElement(i.Fragment,{key:"update-all-checked"},p.kC(r))))),onClick:z.hz(a)})),Be=({card:e})=>(0,a.pipe)(Ye(e.activeAlert,e.renderOptions.layoutDensity),m.map((t=>i.createElement(oe.G3,{key:"card-actions-details",visualState:e.visualState,className:Jt.more},t))),m.toNullable),_e=({card:e,actions:t})=>Ve(e.activeAlert,e.renderOptions.layoutDensity)?i.createElement(oe.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e}):E.C.isDefaultItem(e)?i.createElement(Le,{key:"card-actions-button",card:e,mode:"default",onClick:z.hz((()=>t.next({type:k.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.PZ.ADD_TO_DICTIONARY})))}):null,Me=e=>i.createElement(N.TG,{alignment:"bottom",eventType:"onclick",stepId:T.X.StepId.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",dotPosition:{kind:"findFirstButton",position:N.E2.rightTop},themes:{containerWrapperClassName:Jt.onboardingNotification}},e.children),Re=({onClick:e,rl:t,layoutDensity:n,a11yContrast:r})=>i.createElement(Me,null,i.createElement(Ie.zO,{replacementsLabels:t,onClick:e,layoutDensity:n,a11yContrast:r})),We=({text:e})=>i.createElement(R.P1,Object.assign({className:Jt.title},ae.y.renderToHtml(e))),Ue=({text:e})=>i.createElement(R.P1,Object.assign({className:Jt.titleMinimal},ae.y.renderToHtml(e))),He=({alert:e})=>i.createElement(R.H4,Object.assign({className:Jt.title},ae.y.renderToHtml(e.title))),ze=({alert:e,options:t,children:n,className:r,badge:a})=>{const l=i.useContext(C.m.Context);return i.createElement(s.F.Fragment,null,t.cardVisualMode.pipe(K.U((s=>i.createElement(re.oL,Object.assign({activeAlert:e,cardVisualMode:s,showCardLabel:t.features.has(A.j.Features.showLabel),premiumAlertLabelHighlight:t.features.has(A.j.Features.showNewPremiumCardLabels)?re.a0.new:t.features.has(A.j.Features.showPersistentPremiumCardLabels)?re.a0.persistent:re.a0.none,layoutDensity:t.layoutDensity},(0,o.Sh)(Jt.label,r),{badge:e.extraProperties.isBeta?i.createElement(O.C.Regular,{a11yContrast:t.features.has(A.j.Features.a11yContrast)},l.beta):a}),n)))))},Ge=({text:e,layoutDensity:t})=>i.createElement("div",{className:Jt.highlightedTextBox},i.createElement(R.XY,{className:(0,a.pipe)(t,A.j.Density.matchOrDefault(A.j.Density.minimal)((()=>Jt.minimalHighlightedTextInnerBox),(()=>Jt.highlightedTextInnerBox)))},e));function Ve(e,t){return!e.extraProperties.hasAddToDictionary&&(!I.$.isSentenceLevelBrandTones(e)&&(!(!m.isSome(e.examples)&&!m.isSome(e.details))||!(t!==A.j.Density.minimal||!m.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation)))}const Ye=(e,t)=>{if(!Ve(e,t))return u.cS();const n=(0,a.pipe)(t,A.j.Density.matchOrDefault(A.j.Density.minimal)((()=>Jt.minimalDescription),(()=>Jt.description)));return m.some(i.createElement(i.Fragment,null,(0,a.pipe)(t,A.j.Density.matchOrDefault(A.j.Density.minimal)((()=>m.isNone(e.details)?i.createElement(R.XY,Object.assign({className:n},ae.y.renderToHtml(e.explanation,ke.actionRegex))):null),(()=>null))),(0,a.pipe)(e.details,m.map((e=>i.createElement(R.XY,Object.assign({className:n},ae.y.renderToHtml(e))))),m.toNullable),(0,a.pipe)(e.examples,m.map((e=>i.createElement(de,{layoutDensity:t,examples:e}))),m.toNullable)))},qe=({isChecking:e})=>i.createElement(s.F.Fragment,null,e.pipe(K.U((e=>i.createElement(B.$,{className:e?Jt.spinner:Jt.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2}))))),Je=e=>{const[t,n]=i.useState(!0);return t?i.createElement(et,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},Ze=({card:e,actions:t})=>{if(E.C.isSentenceLevelBrandTonesItem(e)||E.C.isEthicalAIItem(e)||E.C.isSuggestedSnippetItem(e))return null;if((0,a.pipe)(e.activeAlert.extraProperties.freePremium,u.FX("unlocked")))return i.createElement(rt,null);if(!I.$.isFree(e.activeAlert)&&e.renderOptions.features.has(A.j.Features.showPremiumOnboarding))return i.createElement(at,null);if(!I.$.isFree(e.activeAlert)&&e.renderOptions.features.has(A.j.Features.showPremiumTrialFooters))return i.createElement(it,{actions:t});if(e.renderOptions.features.has(A.j.Features.showAnonymousUserFooters))return i.createElement(nt,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||l.h.create(!1);return i.createElement(s.F.Fragment,null,n.view((n=>!I.$.isFree(e.activeAlert)&&Boolean(n)?i.createElement(at,null):(0,a.pipe)(e.renderOptions.layoutDensity,A.j.Density.matchOrDefault(A.j.Density.cozy)((()=>i.createElement(tt,{card:e,actions:t})),(()=>(0,a.pipe)(e.activeAlert.extraProperties.fluencyMessage,m.fold((()=>i.createElement(tt,{card:e,actions:t})),(e=>i.createElement(ot,{fluencyLabel:e}))))))))))};function Xe(e,t,n){n.next({type:k.lY.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const Ke=({card:e,actions:t})=>{const n=i.useContext(C.m.Context).card.matchesNavigation;return i.createElement(s.F.Fragment,null,(0,a.pipe)(e,K.U((e=>i.createElement("div",{key:e.activeAlert.id,className:Jt.bundleNavWrapper},i.createElement(R.XY,{className:Jt.bundleTitle},S.R.bundleTitle(e)),i.createElement("div",{className:Jt.bundleNavMatchesRow},i.createElement($.zx.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:Jt.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>Xe("left",e,t)},i.createElement(D.JO.Arrow,{className:Jt.bundleNavLeftButtonIcon})),i.createElement(R.ck,{className:Jt.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),i.createElement($.zx.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:Jt.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>Xe("right",e,t)},i.createElement(D.JO.Arrow,{className:Jt.bundleNavRightButtonIcon}))))))))},Qe=({card:e,actions:t,isChecking:n})=>i.createElement(i.Fragment,null,(0,a.pipe)(e.renderOptions.layoutDensity,A.j.Density.matchOrDefault(A.j.Density.minimal)((()=>x.bZ.isRated(e.activeAlert)?i.createElement(i.Fragment,null,i.createElement(Te,{card:e}),i.createElement(Ue,{text:e.activeAlert.miniCardTitle})):i.createElement(ze,{alert:e.activeAlert,options:e.renderOptions},i.createElement(Ue,{text:e.activeAlert.miniCardTitle}))),(()=>i.createElement(i.Fragment,null,i.createElement(ze,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(We,{text:e.activeAlert.title}),i.createElement(Ae,{card:e,isChecking:n}))))),i.createElement(Ee,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),et=e=>{const t=i.useContext(C.m.Context),{title:n,content:r}=t.card.onboarding[e.type];return i.useLayoutEffect((()=>()=>e.actions.next({type:k.lY.Type.onboardingClose,value:e.type}))),i.createElement(L.DI.AdHoc,{key:"new-notification",title:i.createElement(i.Fragment,null,n,i.createElement(O.C.Regular,{className:Jt.newLabel},t.new)),className:Jt.newCheckNotification,onClose:e.onClose},r)},tt=({actions:e,card:t})=>{const n=i.useContext(C.m.Context);return W.P.useEffectOnDidMount((()=>{t.meta.showMuteQuotedAdvice&&e.next({type:k.lY.Type.muteQuotedAdviceShow})})),t.meta.showMuteQuotedAdvice?i.createElement(st.Base,{className:At},i.createElement("span",null,n.card.muteCitedText(i.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:k.lY.Type.openPreferences})},n.documentSettings.editorSettings))),i.createElement($.zx,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:k.lY.Type.dismissMuteQuotedAdvice})},i.createElement(D.JO.Close,null))):null},nt=({actions:e,card:t})=>{const n=i.useContext(C.m.Context),r=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return i.createElement(st.Base,{className:Jt.anonymousUserNotice},r((()=>{e.next({type:k.lY.Type.toSignIn})})))},it=({actions:e})=>i.createElement(st.Small,{className:Nt},i.createElement(D.JO.PaidLink,{className:Jt.iconWrapper,width:12}),i.useContext(C.m.Context).premiumFreeTrial((()=>{e.next({type:k.lY.Type.premiumTrialFooterCtaClick})}))),rt=()=>{const{beforeIcon:e,afterIcon:t}=i.useContext(C.m.Context).freePremiumAlertFooter;return i.createElement(st.Small,{className:Ft},e,i.createElement(D.JO.PaidLink,{width:12}),t)},at=()=>{const{premiumOnboardingFooter:e}=i.useContext(C.m.Context);return i.createElement(st.Small,{className:$t},i.createElement(D.JO.PaidLink,{width:12}),e)},ot=({fluencyLabel:e})=>{const t=i.useContext(C.m.Context).card.fluency;return i.createElement(R.x4,{className:Jt.fluencyNotice},e,i.createElement(_.u,{title:t.tooltip},i.createElement(D.JO.Info,{width:10,className:Jt.fluencyInfo})))};var st;!function(e){function t(e){return({children:t,className:n})=>i.createElement(e,Object.assign({},(0,o.Sh)(Jt.cardFooter,n)),t)}e.Small=t(R.x4),e.Base=t(R.XY)}(st||(st={}));function lt(e){const{transformHidden:t,isMouseInside:n,transformHiddenObservable:i}=W.P.useMemoOnDidMount((()=>{const t=l.h.create(!1),n=new Q.xQ,i=J.T(ee.aj([n,e]).pipe(K.U((([e,t])=>e&&t)),te.h((e=>!0===e)),Y.b((()=>t.set(!0)))),e.pipe(ne.T(1),te.h((e=>!e)),Y.b((()=>t.set(!1)))));return{transformHidden:t,isMouseInside:n,transformHiddenObservable:i}}));return W.P.useSubscriptionTo(i),{transformHidden:t,isMouseInside:n}}const ct=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardTheme:a,cardBody:o,cardFooter:s,mainActions:l,subActions:c,cardExtra:u})=>{const{transformHidden:p,isMouseInside:m}=lt(n);return i.createElement(se.Z,{visualState:e.visualState,onFocus:()=>t.next({type:k.lY.Type.alertCardShow,cardType:k.lY.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:k.lY.Type.hover,kind:"hover",id:e.id}),m.next(!0)},onMouseOut:()=>{t.next({type:k.lY.Type.hover,kind:"unhover",id:e.id}),m.next(!1)},theme:Object.assign(Object.assign({content:r.pipe(K.U((0,d.RN)(Jt.loadingWrapperInvisible,Jt.loadingWrapper)))},(0,we.Gh)(e.renderOptions)),a),extra:i.createElement(i.Fragment,null,i.createElement(qe,{isChecking:r}),null==u?void 0:u()),body:o(p),mainActions:null==l?void 0:l(),footer:null==s?void 0:s(p),subActions:null==c?void 0:c()})},dt=({card:e,actions:t,isChecking:n,body:r,footer:a,alwaysShowWrongAndOffensiveButtons:o})=>i.createElement(se.Z,{visualState:e.visualState,onFocus:()=>t.next({type:k.lY.Type.alertCardShow,cardType:k.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(0,we.Gh)(e.renderOptions),body:null!=r?r:i.createElement(Qe,{card:e,actions:t,isChecking:n}),mainActions:i.createElement(Oe,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=a?a:i.createElement(Be,{card:e}),subActions:i.createElement(_e,{card:e,actions:t}),extra:i.createElement(Ze,{card:e,actions:t})}),ut={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",textDecoration:"none",$nest:{"&:link, &:visited":{color:h.Il.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${v.g_}, ${v.xL}`},"& ul":{margin:`${g.u.rem(.75)} 0 0`,padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:g.u.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:g.u.rem(.5)}}},pt={lineHeight:g.u.rem(1.3125),$nest:{"& a":{display:"initial"}}},mt={$nest:{"& i":{color:h.Il.CoreNeutral50},"& > * + *":{marginTop:g.u.rem(.75)}}},ht={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:y.kl}}},ft={marginTop:g.u.important(0),lineHeight:g.u.rem(1.125)},gt={fontSize:g.u.rem(h.xv.SubheadingSize),lineHeight:g.u.rem(h.xv.SubheadingLineHeight)},yt={width:g.u.rem(2),height:g.u.rem(2)},vt={position:"absolute",top:`calc(50% - ${g.u.rem(1)})`,left:`calc(50% - ${g.u.rem(1)})`,width:g.u.rem(2),height:g.u.rem(2),transition:"opacity .2s"},bt={marginLeft:g.u.rem(.5),backgroundColor:h.Il.CoreGreen50,color:h.Il.CoreNeutral0,fontWeight:600},Ct={position:"absolute",marginTop:g.u.rem(-8.5),marginLeft:g.u.rem(-2),$nest:{"&:after":{position:"absolute",bottom:g.u.rem(-.525),left:g.u.rem(.7),borderTop:`${g.u.rem(.625)} solid ${h.Il.BackgroundNotification}`,borderRight:`${g.u.rem(.5)} solid transparent`,borderLeft:`${g.u.rem(.5)} solid transparent`,content:"' '"}}},xt={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},It={position:"absolute",top:g.u.rem(.75),left:g.u.rem(.4)},wt={color:h.Il.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:h.Il.CoreBlue50,$nest:{"&:link, &:visited":{color:h.Il.CoreBlue50},"&:hover":{borderBottom:`1px solid ${h.Il.CoreBlue40}`,color:h.Il.CoreBlue40}}}}},St={display:"flex",borderRadius:`${v.LB} ${v.LB} ${g.u.rem(v.Jr)} ${g.u.rem(v.Jr)}`,color:h.Il.CoreNeutral50,padding:`${g.u.rem(.5)} ${g.u.rem(.75)} ${g.u.rem(.5)} ${g.u.rem(1)}`,fontSize:g.u.rem(.6875),lineHeight:g.u.rem(1.125)},kt={padding:`0 ${g.u.rem(.6)}`,minWidth:g.u.rem(.625),minHeight:g.u.rem(.625)},Et="muteQuotedAdvice",At=g.u.joinClasses([Et,g.u.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:h.Il.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:h.Il.CoreBlue50},"&:hover":{color:h.Il.CoreBlue40}}},"& i:hover":{strokeWidth:g.u.px(2)}}})]),Tt="premiumFreeTrial",Nt=g.u.joinClasses([Tt,g.u.style({$nest:{"& svg":{fill:h.Il.CoreYellow80},"& a":{fontWeight:800,color:h.Il.CoreYellow70,$nest:{"&:link, &:visited":{color:h.Il.CoreYellow80},"&:hover":{borderBottom:`1px solid ${h.Il.CoreYellow60}`,color:h.Il.CoreYellow60}}}}})]),Ot="premiumAlertFooter",$t=g.u.joinClasses([Ot,g.u.style({justifyContent:"center"})]),Ft=g.u.joinClasses([Ot,g.u.style({justifyContent:"start",padding:g.u.important(`${g.u.rem(.5)} ${g.u.rem(1)}`)})]),jt={display:"block",boxSizing:"border-box",padding:`${g.u.rem(1)} ${g.u.rem(1)} ${g.u.rem(1)} ${g.u.rem(1.5)}`,width:g.u.percent(100),borderRadius:`${v.LB} ${v.LB} ${g.u.rem(v.Jr)} ${g.u.rem(v.Jr)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${g.u.rem(1)} ${g.u.rem(1)} ${g.u.rem(1)} ${g.u.rem(2)}`,background:h.Il.CoreNeutral10,color:h.Il.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${g.u.rem(1)} ${g.u.rem(1)} ${g.u.rem(1)} ${g.u.rem(2)}`,position:"relative",background:h.Il.CoreYellow20,color:h.Il.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:g.u.rem(.5),background:h.Il.CoreYellow20,color:h.Il.CoreYellow80,$nest:{"& svg":{margin:`0 ${g.u.rem(.25)}`,fill:h.Il.CoreYellow80}}}}},Dt={position:"absolute",top:g.u.rem(.8),left:g.u.rem(.5),minWidth:g.u.rem(1),minHeight:g.u.rem(1)},Lt={fontWeight:"bold",fontSize:g.u.rem(.875),lineHeight:g.u.rem(1.125),flex:2},Pt={padding:`${g.u.rem(.625)} 0 ${g.u.rem(.1875)} ${g.u.rem(.5)}`,marginBottom:g.u.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},Bt={fontSize:g.u.rem(.75),lineHeight:g.u.rem(1.125),color:h.Il.CoreNeutral90},_t={display:"flex",justifyContent:"flex-end",alignItems:"center",height:g.u.rem(1.5),$nest:{"& > * + *":{marginLeft:g.u.rem(.25)},"& > *":{borderRadius:g.u.rem(v.fx)}}},Mt={height:g.u.rem(2),minHeight:g.u.rem(2),width:g.u.rem(2),fill:h.Il.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:h.Il.CoreBlue50},"&[data-disabled='true']":{fill:h.Il.CoreNeutral30}}},Rt={borderRadius:g.u.rem(.75),background:h.Il.CoreNeutral20,margin:`${g.u.rem(-.25)} ${g.u.rem(-.25)}`,padding:`${g.u.rem(.25)} ${g.u.rem(.25)}`,$nest:{[`& .${ie.g.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${ie.g.fullCardSelector}`]:{padding:`${g.u.rem(.75)} ${g.u.rem(.5)} ${g.u.rem(.5)} ${g.u.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${g.u.rem(-.5)})`}}},Wt={paddingTop:g.u.rem(.25),paddingBottom:g.u.rem(.5),paddingLeft:g.u.rem(.5),paddingRight:g.u.rem(.5),fontWeight:"bold",fontSize:g.u.rem(.875),lineHeight:g.u.rem(1.125)};function Ut(e,t){return{display:["block","-webkit-box"],maxHeight:g.u.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const Ht=Object.assign(Object.assign({},Ut(1.5,3)),{lineHeight:g.u.rem(1.5)}),zt=Object.assign(Object.assign({},Ut(1.3125,3)),{lineHeight:g.u.rem(1.3125)}),Gt={padding:g.u.rem(.5),borderRadius:g.u.rem(v.fx),background:h.Il.CoreNeutral10,color:h.Il.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${v.g_}, ${v.xL}`},Vt=.25,Yt={opacity:0,pointerEvents:"none"},qt={transition:`opacity ${g.u.seconds(Vt)}`},Jt=g.u.stylesheet({loadingWrapper:[qt],loadingWrapperInvisible:[qt,Yt],description:[ut],minimalDescription:[ut,pt],more:[mt],onboardingNotification:[{display:"block"}],title:[ht],titleMinimal:[ht,ft],label:[gt],dropdownContainer:[yt],spinner:[vt],spinnerInvisible:[vt,{opacity:0,pointerEvents:"none"}],newLabel:[bt],newCheckNotification:[Ct],baseNotice:[xt],iconWrapper:[It],anonymousUserNotice:[xt,wt],fluencyNotice:[xt,St],fluencyInfo:[kt],cardFooter:[jt],circleProgress:[Dt],circleText:[{display:"none"}],bundleTitle:[Lt],bundleNavWrapper:[Pt],bundleNavCount:[Bt],bundleNavMatchesRow:[_t],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[Mt],bundleNavLeftButtonIcon:[Mt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[Mt,{transform:"rotate(270deg)"}],cardWrapper:[Rt],cardWrapperTitle:[Wt],highlightedTextBox:[Gt],highlightedTextInnerBox:[Ht],minimalHighlightedTextInnerBox:[zt]})},6334:(e,t,n)=>{n.d(t,{J:()=>Mt});var i,r=n(27378),a=n(57050),o=n(40327),s=n(38983),l=n(5739),c=n(8125),d=n(5114),u=n(44060),p=n(81531),m=n(63969),h=n(41572),f=n(26027),g=n(15646),y=n(77610),v=n(4890),b=n(29847),C=n(62310),x=n(77797),I=n(3656),w=n(28706),S=n(85255),k=n(55935),E=n(2834),A=n(57091),T=n(77176),N=n(93508),O=n(39271),$=n(18208),F=n(73975),j=n(40219),D=n(40018),L=n(7046),P=n(29245),B=n(21474),_=n(1883),M=n(55636),R=n(19025);!function(e){e.Full=({card:e,actions:i})=>r.createElement(_.Z,{footer:null,visualState:e.visualState,onFocus:()=>i.next({type:g.lY.Type.alertCardShow,cardType:g.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(0,R.Gh)(e.renderOptions),body:r.createElement(n,{card:e}),mainActions:r.createElement(M.U4,{card:e,feedbackActions:i}),subActions:null,extra:r.createElement(t,{card:e,actions:i})});const t=({card:e,actions:t})=>{const n=r.useContext(h.m.Context).card.sentenceLevelBrandTones;return r.createElement(I.x4,{className:q.sentenceLevelBrandTonesFooter},n.helpfulFeedbackQuestion(e.activeAlert.emotion),r.createElement("div",{className:q.sentenceLevelBrandTonesFooterHelpfulFeedback},r.createElement(L.zx.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-yes`,title:n.helpfulFeedbackYes,active:d.getEq(F.w4).equals(e.activeAlert.feedback,d.some(D.id.accurate)),disabled:d.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:g.lY.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:D.id.accurate})}},r.createElement(B.JO.VoteYes,null)),r.createElement(L.zx.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-no`,title:n.helpfulFeedbackNo,active:d.getEq(F.w4).equals(e.activeAlert.feedback,d.some(D.id.inaccurate)),disabled:d.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:g.lY.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:D.id.inaccurate}),t.next({type:g.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.X.isEligibleForDismissSurvey(e)})}},r.createElement(B.JO.VoteNo,null))))},n=({card:e})=>{const t=r.useContext(h.m.Context),n=d.fromNullable(e.activeAlert.highlightTexts[0]);return r.createElement("div",null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement("div",null,r.createElement("div",{className:q.sentenceLevelBrandTonesHeaderWrapper},r.createElement("div",{className:q.sentenceLevelBrandTonesHeader},r.createElement(P.dy,{className:q.sentenceLevelBrandTonesHeaderEmoji},e.activeAlert.emoji),$.kC(e.activeAlert.emotion)),r.createElement(C.C.Regular,{className:q.offBrandBadge},t.card.sentenceLevelBrandTones.offBrandBadge)),r.createElement(I.XY,{className:q.sentenceLevelBrandTonesDescription},e.activeAlert.description),(0,o.pipe)(n,d.fold(a.gn,(t=>r.createElement(M.hl,{text:t,layoutDensity:e.renderOptions.layoutDensity}))))))}}(i||(i={}));const W={display:"flex",alignItems:"center",justifyContent:"space-between",background:u.Il.CoreNeutral10,borderRadius:`${j.LB} ${j.LB} ${m.u.rem(j.Jr)} ${m.u.rem(j.Jr)}`,padding:`${m.u.rem(.3)} ${m.u.rem(1)}`,color:u.Il.CoreNeutral50,fontSize:m.u.rem(.64)},U={display:"flex",alignItems:"center",$nest:{'& div[role="button"]:first-child':{marginRight:m.u.rem(.125)}}},H={display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:m.u.rem(1),marginBottom:m.u.rem(.625)},z={fontWeight:"bold",fontSize:m.u.rem(.875),lineHeight:m.u.rem(1)},G={marginRight:m.u.rem(.5),lineHeight:m.u.rem(1)},V={background:u.Il.CoreRed1,color:u.Il.CoreRed60,fontWeight:"bold",fontSize:m.u.rem(.6),lineHeight:m.u.rem(1)},Y={marginBottom:m.u.rem(1)},q=m.u.stylesheet({offBrandBadge:[V],sentenceLevelBrandTonesHeaderWrapper:[H],sentenceLevelBrandTonesHeader:[z],sentenceLevelBrandTonesHeaderEmoji:[G],sentenceLevelBrandTonesFooter:[W],sentenceLevelBrandTonesFooterHelpfulFeedback:[U],sentenceLevelBrandTonesDescription:[Y]});var J=n(55415),Z=n(8725),X=n(22232),K=n(98637),Q=n(12187),ee=n(34685);const te=({theme:e={}})=>r.createElement(l.F.div,Object.assign({},(0,Q.Sh)(ie.container,e.container)),r.createElement(l.F.div,Object.assign({},(0,Q.Sh)(ie.swoosh,e.animation)))),ne=m.u.keyframes({to:{backgroundPosition:"0 100%"}}),ie=m.u.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:m.u.rem(2),height:m.u.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:ne,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:m.u.seconds(2),animationIterationCount:"infinite",background:`transparent url('${ee.yr}swoosh.png') 0 0 no-repeat`,backgroundSize:m.u.percent(100)}]});var re=n(66346),ae=n(76974);const oe=({card:e,actions:t,disabled:n})=>(0,M.m_)(e.activeAlert,e.renderOptions.layoutDensity)?r.createElement(re.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,se=Z.UI.Grid.make((({slots:e,state:t,notify:n})=>r.createElement(l.F.Fragment,null,t.pipe(T.U((t=>r.createElement(M.VM,{card:t,actions:{next:e=>n(e)(),error:a.Q1,complete:a.Q1},isChecking:ae.of(!1),isCheckingGlobal:ae.of(!1),cardBody:(0,a.a9)(r.createElement(l.F.Fragment,null,e.body)),cardTheme:{contentBody:le.contentBody}}))))))),le=m.u.stylesheet({contentBody:[{paddingLeft:0}]}),ce=Z.UI.Knot.make(se,{body:Z.UI.Node.make((()=>{const e=r.useContext(h.m.Context);return r.createElement("div",{className:pe.container},r.createElement(te,{theme:{container:pe.animation}}),r.createElement(I.XY,{className:pe.label},e.card.shortenIt.loadingLabel))}))}),de={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.u.rem(.25)},ue={paddingLeft:m.u.rem(.5)},pe=m.u.stylesheet({container:[de],animation:[{transform:"scale(.7)"}],label:[ue]}),me=(e,t)=>Z.Z.composeKnot({body:(0,a.a9)(ae.of(null)),root:Z.Z.fromSideEffect((e=>{t.next(e)}),e)}),he=Z.UI.Knot.make(se,{body:Z.UI.Node.make((()=>{const e=r.useContext(h.m.Context);return r.createElement("div",{className:ye.container},r.createElement(B.JO.ValidationOk,null),r.createElement(I.XY,{className:ye.label},e.card.shortenIt.notFoundLabel))}))}),fe={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.u.rem(.25)},ge={paddingLeft:m.u.rem(.5)},ye=m.u.stylesheet({container:[fe],label:[ge]}),ve=(e,t)=>Z.Z.composeKnot({body:(0,a.a9)(ae.of(null)),root:Z.Z.fromSideEffect((e=>{t.next(e)}),e)});var be=n(59312),Ce=n(19962),xe=n(98403),Ie=n(60797),we=n(85089),Se=n(28043),ke=n(66310),Ee=n(83078),Ae=n(71249),Te=n(94048),Ne=n(43965);const Oe=Z.UI.Node.make((({state:e})=>r.createElement(l.F.Fragment,null,e.pipe(T.U((({collapsed:e,text:t})=>e?r.createElement("span",{className:Ke.shortenItCollapsedDelete},r.createElement(B.JO.EllipsisSmall,{width:13,className:Ke.shortenItCollapsedIcon})):r.createElement("span",{className:Ke.shortenItDelete},t))))))),$e=/^\W/,Fe=Z.UI.Node.make((({state:e})=>r.createElement(l.F.span,{className:e.pipe(T.U((e=>$e.test(e.text)?Ke.shortenItInsertPunctuation:Ke.shortenItInsert)))},e.pipe(T.U((e=>e.text)))))),je=Z.UI.Node.make((({state:e})=>r.createElement(l.F.span,null,e.pipe(T.U((e=>e.text)))))),De=Z.UI.Union.make("kind",{insert:Fe,delete:Oe,text:je}),Le=Z.UI.Grid.make((({slots:e,state:t,notify:n})=>{const i=r.useContext(h.m.Context).card.shortenIt.collapsedButtonTooltip;return r.createElement(l.F.Fragment,null,t.pipe(T.U((({isReviewableGroup:t,isInReview:o,group:s})=>(0,a.zG)(s,d.filter((()=>t)),d.fold((()=>e.parts),(t=>o?r.createElement("span",{ref:e=>{e&&(0,a.zG)(d.fromNullable(e.offsetParent),d.map((e=>e.getBoundingClientRect())),Ee.bw((i=>{const r=e.getBoundingClientRect();n({kind:"editGroupExpanded",group:t,offsetRect:{width:r.width,height:r.height,top:r.top-i.top,left:r.left-i.left},offsetParentSize:{width:i.width,height:i.height}})()})))},className:Ke.shortenItEditGroupExpanded},e.parts):r.createElement(L.zx,{name:"shorten-it-review-change",className:Ke.shortenItEditGroupButton,animationMode:Ne.m.FromClickPoint,title:i,onClick:n({kind:"reviewEdit",group:t})},e.parts))))))))})),Pe=Z.UI.Knot.make(Le,{parts:Z.UI.List.make(Ae.IX,De)}),Be=Z.UI.List.make(Ae.IX,Pe),_e=Z.UI.Grid.make((({slots:e,state:t})=>r.createElement(I.XY,{className:t.pipe(T.U((e=>(0,a.zG)(e,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>Ke.minimalShortenItBackground),(()=>Ke.shortenItBackground))))))},e.labels))),Me=Z.UI.Knot.make(_e,{labels:Be}),Re="cards-replacements_labels-",We={shortenItBackground:`${Re}shortenItBackground`,minimalShortenItBackground:`${Re}minimalShortenItBackground`,shortenItDelete:`${Re}shortenItDelete`,shortenItInsert:`${Re}shortenItInsert`,shortenItInsertPunctuation:`${Re}shortenItInsertPunctuation`,shortenItEditGroupButton:`${Re}shortenItEditGroupButton`,shortenItEditGroupExpanded:`${Re}shortenItEditGroupExpanded`,shortenItCollapsedDelete:`${Re}shortenItCollapsedDelete`,shortenItCollapsedDeleteButton:`${Re}shortenItCollapsedDeleteButton`,shortenItCollapsedIcon:`${Re}shortenItCollapsedIcon`},Ue={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${m.u.rem(1)} 0`,color:u.Il.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${j.g_}, ${j.xL}`},He={color:u.Il.CoreRed50,textDecoration:"line-through",fontWeight:400},ze={color:u.Il.CoreBlue50,fontWeight:600},Ge={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${m.u.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:m.u.rem(j.fx)},Ve=Object.assign(Object.assign({},Ge),{backgroundColor:u.Il.CoreNeutral1,borderColor:u.Il.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:u.Il.CoreBlue10,borderColor:u.Il.CoreBlue10}}}),Ye=Object.assign(Object.assign({},Ge),{backgroundColor:u.Il.CoreBlue10,borderColor:u.Il.CoreBlue10,position:"relative"}),qe={display:"inline-block",width:m.u.rem(1),lineHeight:m.u.rem(.625),height:m.u.rem(.625),margin:`0 ${m.u.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:m.u.rem(j.mA)},Je=Object.assign({},qe),Ze=Object.assign(Object.assign({},qe),{backgroundColor:u.Il.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:u.Il.CoreBlue10}}}),Xe={minWidth:"unset",minHeight:"unset",paddingBottom:m.u.rem(.125),fill:u.Il.CoreBlue50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:u.Il.CoreNeutral50}}},Ke={shortenItBackground:m.u.joinClasses([We.shortenItBackground,m.u.style(Ue),Te.E.style(Ue)]),minimalShortenItBackground:m.u.joinClasses([We.minimalShortenItBackground,m.u.style(Ue,{lineHeight:m.u.rem(1.3125)}),Te.E.style(Ue,{lineHeight:m.u.rem(1.3125)})]),shortenItDelete:m.u.joinClasses([We.shortenItDelete,m.u.style(He),Te.E.style(He)]),shortenItInsert:m.u.joinClasses([We.shortenItInsert,m.u.style(ze),Te.E.style(ze)]),shortenItInsertPunctuation:m.u.joinClasses([We.shortenItInsertPunctuation,m.u.style(ze),Te.E.style(ze)]),shortenItEditGroupButton:m.u.joinClasses([We.shortenItEditGroupButton,m.u.style(Ve),Te.E.style(Ve)]),shortenItEditGroupExpanded:m.u.joinClasses([We.shortenItEditGroupExpanded,m.u.style(Ye),Te.E.style(Ye)]),shortenItCollapsedDelete:m.u.joinClasses([We.shortenItCollapsedDelete,m.u.style(Je),Te.E.style(Je)]),shortenItCollapsedDeleteButton:m.u.joinClasses([We.shortenItCollapsedDeleteButton,m.u.style(Ze),Te.E.style(Ze)]),shortenItCollapsedIcon:m.u.joinClasses([We.shortenItCollapsedIcon,m.u.style(Xe),Te.E.style(Xe)])};m.u.cssRule(`.${We.shortenItDelete} + .${We.shortenItInsert}`,{marginLeft:m.u.rem(.25)});const Qe=Z.UI.Grid.make((({state:e,view:t,notify:n,slots:i})=>{const o=r.useContext(h.m.Context),d=Object.assign(Object.assign({},xe.UF()),{next:e=>n(e)()}),u=S.P.useMemoOnDidMount((()=>s.h.create(!1)));return S.P.useSubscriptionTo(t("transformHidden").pipe(E.b(xe.wW(u)))),r.createElement(l.F.Fragment,null,e.pipe(T.U((({item:e})=>r.createElement(_.Z,{visualState:e.visualState,onFocus:n({type:g.lY.Type.alertCardShow,cardType:g.lY.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:n({type:g.lY.Type.hover,kind:"unhover",id:e.id}),onMouseOver:n({type:g.lY.Type.hover,kind:"hover",id:e.id}),theme:Object.assign({content:t("isCheckingGlobal").pipe(T.U((0,c.RN)(ct.loadingWrapperInvisible,ct.loadingWrapper)))},(0,R.Gh)(e.renderOptions)),mainActions:r.createElement(M.Kg,{card:e,feedbackActions:d}),subActions:r.createElement(oe,{card:e,actions:d}),body:r.createElement(r.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.C.Regular,null,o.beta)}),(0,a.zG)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:a.Q1,complete:a.Q1},layoutDensity:e.renderOptions.layoutDensity})))),r.createElement(l.F.div,{className:t("transformHidden").pipe(T.U((0,c.RN)(ct.transformHidden,void 0)))},i.transform)),footer:r.createElement(r.Fragment,null,r.createElement(M.lJ,{card:e}),r.createElement(l.F.div,{className:ct.footerBtns},r.createElement(M.Nm,{className:ct.applyButton,spinnerClassName:ct.applyButtonSpinner,messageClassName:ct.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:o.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:u,onClick:w.hz(n({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e),cardType:g.lY.getCardType(e)}))}))),extra:r.createElement(M.o,{isChecking:t("isCheckingGlobal")})})))))})),et=Z.UI.Grid.make((({slots:e,state:t,notify:n})=>{const i=r.useContext(h.m.Context).card.shortenIt,{ref:o,onMount:s}=S.P.useElWatcher(),c=Ie.oA(t).pipe(T.U((e=>e.group)),Se.x(),ke.w((e=>o.pipe(Ie.cp((t=>we.YC(t).pipe(T.U((()=>({width:t.clientWidth,height:t.clientHeight}))),N.O({width:t.clientWidth,height:t.clientHeight}),Se.x(Ce.xu.eq.equals),E.b((t=>n(Object.assign(Object.assign({kind:"editPopupSize"},t),{group:e}))())))))))));return S.P.useSubscriptionTo(c),r.createElement(l.F.div,{className:ct.editPopupContainer},e.replacementLabels,t.pipe(T.U(d.fold(a.gn,(e=>{var{group:t}=e,a=(0,be._T)(e,["group"]);return r.createElement(l.F.div,{className:ct.editPopup,style:"withPosition"===a.kind?{transform:`translate(${a.left}px, ${a.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===a.kind?{visibility:"hidden",opacity:0}:(0,X.vE)(a),mount:s},r.createElement(L.zx.Primary,{name:"shorten-it-keep-change",onClick:n({kind:"keepEdit",group:t})},i.editPopupKeepButtonLabel),r.createElement(L.zx.Tertiary,{name:"shorten-it-dismiss-change",onClick:n({kind:"dismissEdit",group:t})},i.editPopupDismissButtonLabel))})))))})),tt=Z.UI.Knot.make(et,{replacementLabels:Me}),nt=Z.UI.Knot.make(Qe,{transform:tt}),it={padding:`0 ${m.u.rem(1)}`},rt={display:"flex",flexDirection:"row",padding:m.u.rem(.25),position:"absolute",backgroundColor:u.Il.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:m.u.rem(j.fx),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},at={$nest:{"&[data-disabled='true']":{backgroundColor:u.Il.CoreNeutral10,color:u.Il.CoreNeutral40}}},ot={$nest:{"& circle":{stroke:u.Il.CoreNeutral40}}},st={paddingRight:m.u.rem(.25)},lt={transition:`opacity ${m.u.seconds(M.k_)}`},ct=m.u.stylesheet({loadingWrapper:[lt],loadingWrapperInvisible:[lt,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[it],editPopupContainer:[{position:"relative"}],editPopup:[rt],applyButton:[at],applyButtonSpinner:[ot],applyButtonMessage:[st],transformHidden:[{pointerEvents:"none",opacity:.5}]});var dt=n(19751),ut=n(24209),pt=n(83401),mt=n(41398),ht=n(35214);const ft=(e,t,n)=>Z.Z.composeKnot({root:Z.Z.fromSideEffect(a.Q1,e.pipe(T.U((e=>e.renderOptions.layoutDensity)))),labels:i=>ut.T(i.pipe(mt.M(e),E.b((([e,i])=>{const r=e.action.action;switch(r.kind){case"reviewEdit":t.set(d.some({groupId:r.group,expandedEdit:d.none,popupSize:d.none,popupPosition:d.none})),n.next({type:g.lY.Type.shortenItReviewEdit,alertId:i.activeAlert.id,itemId:i.id,group:r.group});break;case"editGroupExpanded":t.set((0,a.zG)(t.get(),d.filter((e=>e.groupId===r.group)),d.fold((()=>d.some({groupId:r.group,popupSize:d.none,popupPosition:d.none,expandedEdit:d.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})})),(e=>d.some(Object.assign(Object.assign({},e),{expandedEdit:d.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})}))))));break;default:(0,X.vE)(r)}})),ke.w((()=>pt.C))),dt.Yt({item:e,editsInReview:t}).pipe(T.U((({item:e,editsInReview:t})=>(0,a.zG)(e.transform,d.filter(K.b$.isShortenIt),d.map(J.ei("labels")),d.map((t=>(0,a.zG)(t,Ae.DZ((t=>(0,a.zG)(t.group,d.fold(a.jv,(t=>e.activeAlert.dismissedTransformGroups.has(t))))?t.type===K.GP.Delete?d.some(Object.assign(Object.assign({},t),{type:K.GP.Text})):t.type===K.GP.Insert?d.none:d.some(t):d.some(t)))))),d.fold((()=>[]),(0,a.ls)(Ae.u4([],((e,n)=>{const i=n.type===K.GP.Delete?{kind:n.type,text:n.text,collapsed:(0,a.zG)(n.group,d.fold((()=>{var e;return null!==(e=n.shouldBeCollapsed)&&void 0!==e&&e}),(e=>!(0,a.zG)(t,d.exists((t=>t.groupId===e)))))),group:n.group}:n.type===K.GP.Insert||n.type===K.GP.Text?{kind:n.type,text:n.text,group:n.group}:(0,X.vE)(n);return e.length>0&&d.getEq(F.yv).equals(e[e.length-1].group,n.group)&&d.isSome(n.group)?e.slice(0,-1).concat({group:n.group,parts:e[e.length-1].parts.concat(i)}):e.concat({group:n.group,parts:[i]})})),Ae.UI((e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==K.GP.Text,isInReview:(0,a.zG)(e.group,d.fold(a.jv,(e=>(0,a.zG)(t,d.exists((t=>t.groupId===e)))))),group:(0,a.zG)(e.parts.map((e=>e.group)),(0,ht.fold)(d.getFirstMonoid()))},parts:e.parts}))))))))))}),gt=(e,t,n,i,r,a)=>Z.Z.composeKnot({root:i=>ut.T(i.pipe(E.b((e=>{e.type===g.lY.Type.hover&&a.next("hover"===e.kind),n.next(e)})),ke.w((()=>pt.C))),dt.Yt({item:e,isCheckingGlobal:t,transformHidden:r})),transform:Z.Z.composeKnot({root:yt(e,i,n),replacementLabels:ft(e,i,n)})});const yt=(e,t,n)=>i=>ut.T(i.pipe(mt.M(e),E.b((([e,i])=>{"editPopupSize"===e.kind?t.set((0,a.zG)(t.get(),d.filter((t=>t.groupId===e.group)),d.fold((()=>d.some({groupId:e.group,expandedEdit:d.none,popupPosition:d.none,popupSize:d.some({width:e.width,height:e.height})})),(t=>d.some(Object.assign(Object.assign({},t),{popupSize:d.some({width:e.width,height:e.height})})))))):function(e,t,n,i){switch(n.set((0,a.zG)(n.get(),d.filter((e=>e.groupId!==t.group)))),t.kind){case"dismissEdit":i.next({type:g.lY.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&i.next({type:g.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.X.isEligibleForDismissSurvey(e)});break;case"keepEdit":i.next({type:g.lY.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:(0,X.vE)(t.kind)}}(i,e,t,n)})),ke.w((()=>pt.C))),t.view(d.chain((e=>(0,a.zG)(e.expandedEdit,d.map((t=>(0,a.zG)(e.popupSize,d.fold((()=>({kind:"withoutPosition",group:e.groupId})),(n=>Object.assign({kind:"withPosition",group:e.groupId},function(e,t,n=-10){const i=t.offsetRect.top+t.offsetRect.height,r=t.offsetRect.left+n;if(r+e.width>t.offsetParentSize.width)return{top:i,left:t.offsetParentSize.width-e.width};return{top:i,left:r}}(n,t))))))))))));const vt={loading:ce,summary:nt,notFound:he},bt=Z.UI.Union.make("kind",vt),Ct=e=>e.pipe(T.U((e=>{const t=e.activeAlert.summaryState,n=d.fold(a.jv,K.b$.isShortenIt)(e.transform);switch(t){case D.vQ.SummaryState.notFound:return{kind:"notFound"};case D.vQ.SummaryState.notRequested:return{kind:"loading"};case D.vQ.SummaryState.requestSent:return n?{kind:"summary"}:{kind:"loading"};case D.vQ.SummaryState.invalidated:case D.vQ.SummaryState.received:return{kind:"summary"};default:(0,X.vE)(t)}})));var xt,It=n(2844);!function(e){e.Full=e=>{const t=S.P.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:i}=function(e,t,n){const i=S.P.useAtomOf({isWaiting:e.activeAlert.summaryState===D.vQ.SummaryState.requestSent||e.activeAlert.summaryState===D.vQ.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return S.P.useMemoOnDidMount((()=>({isChecking:It.aj([t,i]).pipe(T.U((([e,t])=>e||t.isWaiting&&t.cardIsOpen)),Se.x()),isCheckingGlobal:It.aj([n,i]).pipe(T.U((([e,t])=>e||t.isWaiting&&!t.cardIsOpen)),Se.x())})))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:o,isMouseInside:l}=(0,M.ce)(n),c=S.P.useMemoOnDidMount((()=>s.h.create(d.none))),u=S.P.useMemoOnDidMount((()=>t.pipe(T.U((0,a.ls)(J.ei("transform"),d.filter(K.b$.isShortenIt))),dt.$f(d.getEq(K.b$.ShortenIt.eq)),T.U((()=>d.none)),E.b(xe.wW(c)))));return S.P.useSubscriptionTo(u),r.createElement(r.Fragment,null,Z.UI.mount(bt,((e,t,n,i,r,a)=>Z.Z.composeUnion({loading:me(e,n),notFound:ve(e,n),summary:gt(e,t,n,i,r,a)},(()=>Ct(e))))(t,i,e.actions,c,o,l)))}}(xt||(xt={}));var wt=n(97428);const St=({card:e,actions:t})=>{const n=r.useContext(h.m.Context),i=d.isNone(e.activeAlert.takeawayFeedback)?n.card.takeaway.defaultTitle:e.activeAlert.title,s=d.fromNullable(e.activeAlert.highlightTexts[0]),l=(0,o.pipe)(e.activeAlert,d.fromPredicate((e=>!e.takeawayIsLikelyToBeRead&&Ee.FX(D.TO.correctlyDetected)(e.takeawayFeedback))),d.map((()=>e.meta.explanation)));return r.createElement(r.Fragment,null,(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions},r.createElement(M.jg,{text:f.X.miniTitle(e,n)}))),(()=>r.createElement(r.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(M.Dx,{text:i}))))),(0,o.pipe)(s,d.fold(a.gn,(t=>r.createElement(M.hl,{text:t,layoutDensity:e.renderOptions.layoutDensity})))),(0,o.pipe)(l,d.fold(a.gn,(n=>r.createElement(M.dk,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity})))))},kt=({card:e,feedbackActions:t})=>r.createElement(r.Fragment,null,r.createElement(L.zx.Ghost,{name:"takeaway-like",onClick:w.hz((()=>{var n;return t.next({type:g.lY.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(n=e.activeAlert.highlightTexts[0])&&void 0!==n?n:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})}))},r.createElement(B.JO.YesCircle,null)," Yes"),r.createElement(L.zx.Ghost,{name:"takeaway-dislike",onClick:w.hz((()=>t.next({type:g.lY.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id})))},r.createElement(B.JO.NoCircle,null)," No")),Et=({card:e,feedbackActions:t})=>{const n=r.useContext(h.m.Context);return r.createElement(r.Fragment,null,r.createElement(L.zx.Ghost,{name:"resolve",title:n.resolve,onClick:w.hz((()=>t.next({type:g.lY.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})))},r.createElement(B.JO.YesCircle,null)),r.createElement(L.zx.Ghost,{name:"ignore",title:n.dismiss,ariaLabel:n.dismiss,onClick:w.hz((()=>t.next({type:g.lY.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})))},r.createElement(B.JO.Ignore,null)))};function At(e){return!d.isNone(e.takeawayFeedback)&&!(!d.isSome(e.examples)&&!d.isSome(e.details))}var Tt;!function(e){e.Full=({card:e,actions:t})=>{return r.createElement(_.Z,{visualState:e.visualState,onFocus:()=>t.next({type:g.lY.Type.alertCardShow,cardType:g.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(n=e.renderOptions,Object.assign(Object.assign({},(0,R.f8)(n.layoutDensity)),{wrapper:(0,o.pipe)(n.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>Ot.minimalCardWrapper),(()=>{})))})),body:r.createElement(St,{card:e,actions:t}),mainActions:d.isNone(e.activeAlert.takeawayFeedback)?r.createElement(kt,{card:e,feedbackActions:t}):r.createElement(Et,{card:e,feedbackActions:t}),footer:At(e.activeAlert)?r.createElement(M.lJ,{card:e}):null,subActions:At(e.activeAlert)?r.createElement(re.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});var n}}(Tt||(Tt={}));const Nt={padding:`${m.u.rem(.75)} ${m.u.rem(.5)} ${m.u.rem(.5)} ${m.u.rem(1)}`},Ot=m.u.stylesheet({minimalCardWrapper:[Nt]});var $t=n(12138),Ft=n(14444);const jt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i})=>{const o=r.useContext(h.m.Context);return r.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:(0,a.a9)(r.createElement(M.M9,{card:e,actions:t,isChecking:n})),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(M.lJ,{card:e}),r.createElement("div",{className:Gt.fullSentenceCardFooterBtns},r.createElement(M.Nm,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:w.hz((()=>{t.next({type:g.lY.Type.alertApply,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:g.lY.getCardType(e)})}))})))})},Dt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:c})=>{const u=r.useContext(h.m.Context),m=s.h.create(!0);return S.P.useSubscriptionTo((0,o.pipe)(m,k.T(1),E.b((e=>t.next({type:g.lY.Type.fullSentenceHighlightChangesToggle,showChanges:e}))))),r.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:(0,a.a9)(r.createElement(l.F.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Rt,{isNew:e.renderOptions.isNew,actions:t}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),r.createElement(b.T9,{classes:{rendered:Gt.replacement,removing:Gt.replacementHidden},timeout:250,content:m.pipe(A.a(c,((t,n)=>(0,o.pipe)(n,d.fold((()=>(p.C8.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null)),(n=>r.createElement(Ft.n4,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast)})))))))}),r.createElement(M.ko,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(M.lJ,{card:e}),r.createElement(l.F.div,{className:Gt.fullSentenceCardFooterBtns},r.createElement(M.Nm,{title:c.pipe(T.U(d.fold((()=>""),(e=>u.card.todoAction(e.tooltipText))))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:w.hz((()=>{t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e),cardType:g.lY.getCardType(e)})}))}),r.createElement(x.Ys,{className:Gt.fullSentenceCardCheckbox,checked:m,name:"set-goals"},u.card.showChangesToggle)))})},Lt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:s})=>{const u=r.useContext(h.m.Context),m=(0,o.pipe)(e.userInput,d.getOrElse((0,a.a9)("")));return r.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:i=>r.createElement(r.Fragment,{key:"content"},r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Rt,{isNew:e.renderOptions.isNew,actions:t}),r.createElement(l.F.div,{className:i.pipe(T.U((0,c.RN)(Gt.transformContainerInvisible,Gt.transformContainer)))},r.createElement(b.T9,{classes:{rendered:Gt.replacement,removing:Gt.replacementHidden},timeout:250,content:s.pipe(T.U(d.fold((()=>(p.C8.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>r.createElement(Ft.$s,{key:"label",gapValue:m,replacements:n,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast),onFocus:()=>t.next({type:g.lY.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:g.lY.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:w.hz((()=>t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e),cardType:g.lY.getCardType(e)})))})))))})),r.createElement(I.Xk,{className:i.pipe(T.U((0,c.RN)(Gt.transformHint,Gt.transformHintInvisible)))},u.card.updatingSuggestion),r.createElement(M.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.a9)(r.createElement(M.lJ,{card:e}))})},Pt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:s})=>{const u=r.useContext(h.m.Context);return r.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:i=>r.createElement(r.Fragment,null,r.createElement(l.F.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.C.Regular,{a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast)},u.beta)})),r.createElement(l.F.div,{className:i.pipe(T.U((0,c.RN)(Gt.transformContainerInvisible,Gt.transformContainer)))},r.createElement(b.T9,{classes:{rendered:Gt.replacement,removing:Gt.replacementHidden},timeout:250,content:s.pipe(T.U(d.fold((()=>(p.C8.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>{const i=(0,o.pipe)(e.synfonySelection,d.getOrElse((()=>[])));return r.createElement(Ft.Px,{replacements:n,onClick:n=>w.hz((()=>{t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:g.lY.getCardType(e),id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e),drilldownSuggestionIds:i})})),onDive:(n,r)=>t.next({type:g.GM.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:r,drilldownSuggestionIds:i}),onBack:()=>t.next({type:g.GM.Kind.back,cardId:e.id}),selection:i,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast)})}))))})),r.createElement(I.Xk,{className:i.pipe(T.U((0,c.RN)(Gt.transformHint,Gt.transformHintInvisible)))},u.card.updatingSuggestion),r.createElement(M.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.a9)(r.createElement(M.lJ,{card:e}))})},Bt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:s})=>{const u=r.useContext(h.m.Context);return r.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:i=>r.createElement(r.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(l.F.div,{className:i.pipe(T.U((0,c.RN)(Gt.transformContainerInvisible,Gt.transformContainer)))},r.createElement(b.T9,{classes:{rendered:Gt.replacement,removing:Gt.replacementHidden},timeout:250,content:s.pipe(T.U(d.fold((()=>(p.C8.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>r.createElement(M.hT,{rl:n,onClick:n=>w.hz((()=>{t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e),cardType:g.lY.getCardType(e)})})),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast)})))))})),r.createElement(I.Xk,{className:i.pipe(T.U((0,c.RN)(Gt.transformHint,Gt.transformHintInvisible)))},u.card.updatingSuggestion),r.createElement(M.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.a9)(r.createElement(M.lJ,{card:e}))})},_t=e=>{var t,n,i;return r.createElement(M.VM,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:(0,a.a9)(r.createElement(M.mQ,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:(0,a.a9)(r.createElement(M.Kg,{card:e.card,feedbackActions:e.actions})),subActions:null!==(i=e.subActions)&&void 0!==i?i:(0,a.a9)(r.createElement(M.q4,{card:e.card,actions:e.actions}))}))},Mt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o})=>y.C.isSentenceLevelBrandTonesItem(e)?r.createElement(i.Full,{card:e,actions:t}):y.C.isTakeawayItem(e)?r.createElement(Tt.Full,{card:e,actions:t}):y.C.isShortenItItem(e)?r.createElement(xt.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):y.C.isToneAIItem(e)?r.createElement($t.Y.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):y.C.isEthicalAIItem(e)?r.createElement(O.T.Full,{card:e,actions:t,isChecking:n}):y.C.isSuggestedSnippetItem(e)?r.createElement(wt.w.Full,{card:e,actions:t,isChecking:n}):f.X.hasTransform(e)?f.X.hasFullSentenceTransform(e)?r.createElement(Dt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):f.X.hasOneGapTransform(e)?r.createElement(Lt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):f.X.hasSynfonyTransform(e)?r.createElement(Pt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):r.createElement(Bt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):f.X.isSimple(e)?r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):r.createElement(M.eb,{card:e,actions:t,isChecking:n}),Rt=e=>r.createElement(l.F.Fragment,null,e.isNew.pipe(T.U(d.fold(a.gn,(t=>r.createElement(M.jt,{type:t,actions:e.actions,key:"new-notification"})))),N.O(null))),Wt={transition:`opacity ${m.u.seconds(M.k_)}`,transitionDelay:m.u.seconds(M.k_)},Ut={position:"absolute",top:m.u.rem(2),color:u.Il.CoreNeutral40,lineHeight:m.u.rem(2),transition:`opacity ${m.u.seconds(M.k_)}`,transitionDelay:m.u.seconds(M.k_)},Ht={transition:`opacity ${m.u.seconds(M.k_)}`},zt={fontSize:m.u.rem(u.xv.BodySize),lineHeight:m.u.rem(2.0625)},Gt=Object.assign({},m.u.stylesheet({invisible:[M.Bn],transformContainer:[Wt],transformContainerInvisible:[Wt,M.Bn,{transitionDelay:"initial"}],transformHint:[Ut],transformHintInvisible:[Ut,M.Bn,{transitionDelay:"initial"}],replacement:[Ht],replacementHidden:[Ht,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[zt]}))},93282:(e,t,n)=>{n.d(t,{P:()=>L});var i=n(27378),r=n(40327),a=n(12187),o=n(5739),s=n(77176),l=n(5114),c=n(41572),d=n(66896),u=n(91549),p=n(4890),m=n(62310),h=n(3656),f=n(88867),g=n(50224),y=n(32941),v=n(38983),b=n(83078),C=n(17594),x=n(26027),I=n(77610),w=n(29245),S=n(21474),k=n(28584);function E(e,t){return d.R.outcomeTypeMatch({correctness:i.createElement(S.JO.Correctness,{className:t}),clarity:i.createElement(S.JO.ClarityOutcome,{className:t}),premium:i.createElement(S.JO.Star,{className:t}),engagement:i.createElement(S.JO.EngagementOutcome,{className:t}),delivery:i.createElement(S.JO.DeliveryOutcome,{className:t}),vox:null})(e)}const A=(e,t)=>{if(C.$.hasTone(e.activeAlert))return(e=>{const t=e.match(w.Vg);if(t&&t[0]){const n=l.fromNullable((0,w.fc)(t[0]));return l.some({action:e.replace(w.Vg,""),emojiId:n})}return l.none})(t);if(I.C.isToneAIItem(e)){const n=l.fromNullable(e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID);return l.some({action:t,emojiId:n})}return l.none},T=({text:e,className:t})=>i.createElement("div",{className:t},e),N=(e,t,n)=>{const o=x.X.miniTitle(e,t),s=(0,r.pipe)(e.activeAlert.extraProperties.vox,l.map((e=>(({vox:e,theme:t={}})=>({icon:(0,r.pipe)(e.logoUrl,l.map((e=>i.createElement(k.Im,Object.assign({},(0,a.Sh)(t.logo),{logoUrl:e}))))),action:i.createElement(k.$x,Object.assign({vox:e},(0,a.Sh)(t.label),{isMinimalCard:!1}))}))({vox:e,theme:{logo:n.voxLogo,label:n.voxLabel}})))),c=(0,r.pipe)(A(e,o),l.map((({action:e,emojiId:t})=>({icon:(0,r.pipe)(t,l.map((e=>i.createElement(w.In,{id:e,className:(0,a.Sh)(n.emojiLogo).className})))),action:i.createElement(T,{text:e,className:n.wrapper})}))));return(0,r.pipe)(s,b.vx(c),l.getOrElse((()=>({icon:I.C.isTakeawayItem(e)?l.some(i.createElement(S.JO.Megaphone,{width:16,className:n.takeawayLogo})):l.none,action:i.createElement(T,{text:o,className:n.wrapper})}))))},O=(e,t,n)=>{const{action:i,icon:a}=N(e,t,n);return{actionComponent:i,iconComponent:(0,r.pipe)(a,l.fold((()=>e.renderOptions.cardVisualMode.view(p.j.CardVisualMode.match({onRegular:()=>l.none,onContrast:()=>l.fromNullable(E(e.activeAlert.lensType,n.lensLogo))}))),(e=>v.h.create(l.some(e)))))}},$=e=>e?f.b.MiniContrast:f.b.Mini,F=e=>[d.R.outcomeTypeMatch({correctness:g.m.dotCorrectness,clarity:g.m.dotClarity,premium:g.m.dotAdvanced,engagement:g.m.dotEngagement,delivery:g.m.dotDelivery,vox:g.m.dotVox})(e.lensType),y.FW.cta],j=()=>{const e=i.useContext(c.m.Context);return i.createElement(m.C.Regular,{className:y.FW.newLabel},e.new)},D=e=>e.hasOwnProperty("features")&&e.features.has(p.j.Features.a11yContrast);var L;!function(e){e.Bundle=({card:e,actions:t})=>{const[n]=F(e.activeAlert),s=(0,r.pipe)(e.renderOptions,D,$);return i.createElement(s,Object.assign({},(0,a.Sh)(y.l$.wrapper,y.l$.bundleContainer,y.l$.dot,n),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:i.createElement(h.CL,{className:y.l$.alertsCounter},e.alerts.length)}),i.createElement(o.F.div,{className:y.l$.miniContainer},i.createElement("div",{className:y.l$.highlightedText},u.R.bundleTitle(e))))},e.Standard=({card:e,actions:t})=>{const n=i.useContext(c.m.Context),[d,u]=F(e.activeAlert),p=(0,r.pipe)(e.renderOptions,D,$),{actionComponent:m,iconComponent:h}=O(e,n,{wrapper:(0,a.Sh)(u,y.FW.ctaText).className,voxLogo:(0,a.Sh)(y.FW.cardLogo,y.l$.cardLogo).className,voxLabel:y.FW.cta,emojiLogo:(0,a.Sh)(y.FW.cardLogo,y.l$.cardLogo).className,lensLogo:(0,a.Sh)(y.FW.cardLogo,y.l$.cardLogo,y.FW.lensIcon).className,takeawayLogo:y.nu.takeawayIconStandard});return i.createElement(p,Object.assign({},(0,a.Sh)(y.l$.wrapper,h.view((e=>l.isSome(e)?y.l$.invisibleDot:y.l$.dot)),d),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert}),i.createElement(o.F.div,{className:y.l$.miniContainer},(0,r.pipe)(h.view(l.toNullable)),i.createElement("div",{className:y.l$.highlightedText},e.activeAlert.highlightTexts[0]),i.createElement("div",{className:y.l$.middleDot},"·"),m,(0,r.pipe)(e.renderOptions.isNew,s.U((e=>l.isSome(e)?i.createElement(j,{key:"new-label"}):null)))))},e.TwoLined=({card:e,actions:t})=>{const n=i.useContext(c.m.Context),[s,d]=F(e.activeAlert),u=(0,r.pipe)(e.renderOptions,D,$),{actionComponent:p,iconComponent:m}=O(e,n,{wrapper:(0,a.Sh)(d,y.FW.ctaText,y.nu.ctaText,y.nu.subTitle).className,voxLogo:(0,a.Sh)(y.FW.cardLogo,y.nu.cardLogo).className,voxLabel:(0,a.Sh)(y.FW.cta,y.nu.subTitle).className,emojiLogo:(0,a.Sh)(y.FW.cardLogo,y.nu.cardLogo).className,lensLogo:(0,a.Sh)(y.FW.cardLogo,y.nu.lensIcon,y.FW.lensIcon).className,takeawayLogo:y.nu.takeawayIconMini});return i.createElement(u,Object.assign({},(0,a.Sh)(y.nu.wrapper,m.view((e=>l.isSome(e)?y.nu.invisibleDot:y.nu.dot)),s),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert}),i.createElement(o.F.div,{className:y.nu.miniContainer},p,(0,r.pipe)(m.view(l.toNullable)),i.createElement("div",{className:y.Es},e.activeAlert.highlightTexts[0])))}}(L||(L={}))},32941:(e,t,n)=>{n.d(t,{Es:()=>d,nu:()=>y,l$:()=>E,FW:()=>F});var i=n(44060),r=n(63969),a=n(24588),o=n(40219);const s="0 1px 8px rgba(109, 117, 141, .18)",l={$nest:{"&:before":{top:r.u.rem(.85),left:0}}},c="miniTwoLinedHighlightedText",d=r.u.joinClasses([c,r.u.style({overflow:"hidden",marginTop:r.u.rem(-.25),color:i.Il.CoreNeutral90,textOverflow:"ellipsis"})]),u={height:r.u.rem(3.25),borderRadius:r.u.rem(o.Jr),boxShadow:s,$nest:{"&:hover":{boxShadow:s},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},p={top:r.u.rem(.7)},m={top:r.u.rem(.1)},h={fontWeight:r.u.important(400),fontSize:r.u.rem(.75)},f={position:"absolute",left:r.u.rem(.5),minWidth:"initial",minHeight:"initial",background:i.Il.CoreNeutral0},g=Object.assign(Object.assign({},f),{top:r.u.rem(.6)}),y=r.u.stylesheet({dot:[l],invisibleDot:[l,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[u],miniContainer:[{flexDirection:"column"}],cardLogo:[p],lensIcon:[m],subTitle:[h],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[g],takeawayIconStandard:[f]}),v={height:r.u.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},b={$nest:{"&:before":{top:r.u.px(1),bottom:0,left:0}}},C={$nest:{"&:before":{top:r.u.px(1),bottom:0,left:0,visibility:"hidden"}}},x={height:r.u.important(r.u.rem(2.5)),borderRadius:r.u.rem(o.Jr)},I={color:i.Il.CoreNeutral50,display:"flex",width:r.u.rem(2),height:r.u.percent(100),justifyContent:"center",alignItems:"center"},w={overflow:"hidden",color:i.Il.CoreNeutral90,textOverflow:"ellipsis"},S={display:"inline-block",padding:`0 ${r.u.rem(.5)}`},k={top:0,bottom:0,left:r.u.rem(.5),margin:"auto"},E=r.u.stylesheet({wrapper:[v],dot:[b],invisibleDot:[b,C],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[x],alertsCounter:[I],highlightedText:[w],middleDot:[S],cardLogo:[k]}),A={color:i.Il.CoreNeutral50,fontWeight:300},T={position:"absolute",left:r.u.rem(.5),width:r.u.rem(1),height:r.u.rem(1),background:a.Zn},N={left:r.u.rem(0)},O={marginLeft:r.u.rem(.5)},$={marginLeft:r.u.rem(-.5)},F=r.u.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[A],cardLogo:[T],lensIcon:[$],outcomesCardLogo:[T,N],newLabel:[O]})},19025:(e,t,n)=>{n.d(t,{f8:()=>d,Gh:()=>u});var i=n(40327),r=n(44060),a=n(63969),o=n(40219),s=n(4890),l=n(50224),c=n(52187);const d=e=>({container:(0,i.pipe)(e,s.j.Density.matchOrDefault(s.j.Density.cozy)((()=>g.cozyCardContainer),(()=>g.compactCardContainer)))}),u=e=>{return Object.assign(Object.assign({},e.hasOwnProperty("features")&&e.features.has(s.j.Features.a11yContrast)?(t=e.layoutDensity,{container:(0,i.pipe)(t,s.j.Density.matchOrDefault(s.j.Density.cozy)((()=>g.cozyCardContainerContrast),(()=>g.compactCardContainer)))}):d(e.layoutDensity)),{wrapper:(0,i.pipe)(e.layoutDensity,s.j.Density.matchOrDefault(s.j.Density.minimal)((()=>g.minimalCardWrapper),(()=>{})))});var t},p={padding:`${a.u.rem(.75)} ${a.u.rem(.5)} ${a.u.rem(.5)} ${a.u.rem(1)}`},m={margin:`${a.u.rem(1)} 0 ${a.u.rem(1.5)}`,borderRadius:a.u.rem(o.Jr),background:r.Il.CoreNeutral0,boxShadow:`0 ${a.u.rem(.625)} ${a.u.rem(o.mJ)} 0 rgba(198, 203, 222, .45)`},h={margin:`${a.u.rem(1)} 0 ${a.u.rem(1.5)}`,borderRadius:a.u.rem(o.Jr),background:r.Il.CoreNeutral0,boxShadow:c.S.z300},f={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:a.u.rem(o.Jr),background:r.Il.CoreNeutral0},g=Object.assign(Object.assign({},a.u.stylesheet({minimalCardWrapper:[p],compactCardContainer:[f]})),{cozyCardContainer:a.u.joinClasses([l.g.cozyCardContainerSelector,a.u.style(m)]),cozyCardContainerContrast:a.u.joinClasses([l.g.cozyCardContainerSelector,a.u.style(h)])})},39271:(e,t,n)=>{n.d(t,{T:()=>v});var i=n(27378),r=n(12187),a=n(5739),o=n(38983),s=n(2834),l=n(18208),c=n(44060),d=n(63969),u=n(40219),p=n(41572),m=n(15646),h=n(7046),f=n(29245),g=n(21474);function y({href:e,children:t,className:n}){return i.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:n,href:e},t)}var v,b=n(85255),C=n(88867),x=n(55636);!function(e){e.Mini=({card:e,actions:t,twoLined:n,useBundleContainer:o})=>i.createElement(C.b.Mini,Object.assign({},(0,r.Sh)(!0===n?A.twoLinedWrapper:A.standardWrapper,!0===o?A.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),i.createElement(a.F.div,{className:A.content},void 0!==e.activeAlert.emojiID?i.createElement(f.In,{id:e.activeAlert.emojiID,className:A.icon}):i.createElement(g.JO.EthicalAI.Heart,{className:A.icon}),i.createElement("div",{className:A.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:n})=>{const r=i.useContext(p.m.Context),a=o.h.create(!1);return b.P.useSubscriptionTo(n.pipe(s.b((e=>a.set(e))))),i.createElement(x.eb,{card:e,actions:t,isChecking:n,body:i.createElement(i.Fragment,null,i.createElement(x.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(x.Dx,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?i.createElement("div",null,e.activeAlert.bannerColors.map((e=>i.createElement("div",{className:F.bannerStripe,style:{backgroundColor:e}})))):null,i.createElement(x.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:i.createElement(i.Fragment,null,i.createElement(x.lJ,{card:e}),i.createElement(h.zx.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",title:r.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:m.lY.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:m.lY.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:F.externalLinkButton},i.createElement(y,{href:e.activeAlert.externalLink},i.createElement("div",{className:F.externalLinkButtonContent},l.kC(e.activeAlert.todoAction),i.createElement(g.JO.EthicalAI.ExternalLink,{className:F.externalLinkButtonContentIcon}))))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(v||(v={}));const I={height:d.u.rem(3.25),borderRadius:d.u.rem(u.Jr),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},w={height:d.u.rem(3)},S={height:d.u.important(d.u.rem(2.5)),borderRadius:d.u.rem(u.Jr)},k={width:d.u.rem(1),height:d.u.rem(1),marginRight:d.u.rem(.5)},E={overflow:"hidden",color:c.Il.CoreNeutral90,textOverflow:"ellipsis"},A=d.u.stylesheet({twoLinedWrapper:[I],standardWrapper:[w],bundleContainer:[S],content:[{display:"flex",alignItems:"center"}],icon:[k],highlightedText:[E]}),T={width:d.u.percent(100),$nest:{a:{color:c.Il.CoreNeutral0,textDecoration:"none"}}},N={width:d.u.percent(100),position:"relative",textAlign:"center"},O={position:"absolute",top:d.u.rem(.25),right:d.u.rem(.25)},$={width:d.u.percent(100),height:d.u.rem(.5)},F=d.u.stylesheet({externalLinkButton:[T],externalLinkButtonContent:[N],externalLinkButtonContentIcon:[O],bannerStripe:[$]})},18031:(e,t,n)=>{n.d(t,{A:()=>Ce});var i,r=n(27378),a=n(57050),o=n(40327),s=n(5739),l=n(26027),c=n(77610),d=n(4890),u=n(28043),p=n(77176),m=n(88867),h=n(38983),f=n(8125),g=n(5114),y=n(81531),v=n(41572),b=n(15646),C=n(7046),x=n(21474),I=n(12187),w=n(44060),S=n(63969),k=n(24588);!function(e){e.Item=({className:e,children:t,onChange:n,checked:i,tabIndex:a,id:o})=>r.createElement(s.F.label,Object.assign({},(0,I.Sh)(N.radio,e)),i.view((e=>r.createElement(r.Fragment,{key:`radio-${o}`},r.createElement("input",{onChange:n,tabIndex:Boolean(a)?a:-1,type:"radio",checked:e,className:N.radioInputHidden}),r.createElement("span",{className:A})))),t),e.Group=({items:t,selectedItemIndex:n,itemWrapperClassName:i,onChange:a})=>r.createElement(s.F.Fragment,null,t.map(((t,o)=>r.createElement(e.Item,{id:o,key:o,onChange:()=>{n.set(o),a&&a(o)},checked:n.view((e=>o===e)),className:i},t))))}(i||(i={}));const E="radioInput",A=S.u.joinClasses([E,S.u.style({display:"inline-block",boxSizing:"border-box",minWidth:S.u.rem(1),width:S.u.rem(1),height:S.u.rem(1),border:`${S.u.rem(.125)} solid ${k.FW}`,borderRadius:S.u.percent(50),backgroundColor:w.Il.CoreNeutral0,content:"' '"})]),T={outline:"none",appearance:"none","-webkit-appearance":"none",$nest:{"&:checked + .radioInput":{border:`${S.u.rem(.25)} solid ${w.Il.CoreBlue50}`}}},N=S.u.stylesheet({radioInputHidden:[T],radio:[{display:"inline-flex",cursor:"pointer",alignItems:"center"}]});var O=n(3656),$=n(28706),F=n(1883);const j=S.u.style({margin:`${S.u.rem(1)} 0`}),D=S.u.style({marginLeft:S.u.rem(.5),lineHeight:S.u.rem(1.3125),fontSize:S.u.rem(.875),color:w.Il.CoreNeutral90}),L=S.u.style({display:"flex",flexDirection:"column",$nest:{"& > *:not(:last-child)":{marginBottom:S.u.rem(1)}}}),P=S.u.style({marginLeft:S.u.rem(1)}),B={color:w.Il.CoreRed60,fontSize:S.u.rem(.75),lineHeight:S.u.rem(1.125)},_=S.u.style(B),M=S.u.style(B,{visibility:"hidden"}),R=S.u.style({padding:0}),W=S.u.style({paddingTop:S.u.rem(.5),display:"flex"}),U=S.u.style({marginLeft:"auto"}),H=S.u.style({paddingTop:S.u.rem(.25)}),z=S.u.style({display:"flex",flexDirection:"row",columnGap:S.u.rem(.5),alignItems:"center"}),G=S.u.style({flex:3,textAlign:"center"}),V=S.u.style({color:w.Il.CoreNeutral50});var Y=n(19025);const q=({card:e,actions:t})=>(0,o.pipe)(e.visualState.transition,g.fromPredicate((e=>"feedback_form"===e.type)),g.fold((()=>(y.C8.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null)),(n=>"survey"===n.formType?r.createElement(J,{card:e,data:n,actions:t}):r.createElement(Z,{card:e,data:n,actions:t})))),J=({card:e,data:t,actions:n})=>{const a=r.useContext(v.m.Context).card.feedbackForm,o=h.h.create(void 0),l=h.h.create(!1),c=i=>n.next(Object.assign({alertId:e.activeAlert.id,reason:i},t.submitActionType===b.lY.Type.alertApplyFormSubmit?{type:b.lY.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:b.lY.Type.alertIgnoreFormSubmit}));return r.createElement(F.Z,{onFocus:()=>n.next({type:b.lY.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:(0,Y.Gh)(e.renderOptions),visualState:e.visualState,body:r.createElement(r.Fragment,null,r.createElement(O.H4,{className:j},t.survey.question||a.dismissReason),r.createElement("div",{className:L},r.createElement(i.Group,{selectedItemIndex:o,items:t.survey.options.map((e=>r.createElement("div",{className:D},e.text))),onChange:()=>l.set(!1)}))),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null,r.createElement(s.F.div,{"aria-hidden":l,className:l.view((0,f.RN)(_,M))},a.error),r.createElement("div",null,r.createElement(C.zx.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=o.get();return void 0===e?l.set(!0):$.hz((()=>c(t.survey.options[e].key)))()}},a.submit),r.createElement(C.zx.Ghost,{className:P,name:"skipCardFeedbackForm",onClick:$.hz((()=>c("skipped")))},a.skip))),subActions:r.createElement(r.Fragment,null)})},Z=({card:e,data:t,actions:n})=>{const i=r.useContext(v.m.Context).card.gbPrompt,a=()=>n.next({type:b.lY.Type.gbPromptDismiss,alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt});return r.createElement(F.Z,{onFocus:()=>n.next({type:b.lY.Type.gbPromptShow,alertId:e.activeAlert.id}),theme:Object.assign(Object.assign({},(0,Y.Gh)(e.renderOptions)),{wrapper:R}),visualState:e.visualState,header:r.createElement("div",{className:W},r.createElement(x.JO.Draggable,null),r.createElement(O.H4,{className:H},t.gbPrompt.title),r.createElement(C.zx,{name:"dismissGbPromptFeedbackForm",className:U,onClick:$.hz(a)},r.createElement(x.JO.Close,null))),body:t.gbPrompt.description,mainActions:r.createElement(r.Fragment,null),footer:r.createElement("div",{className:z},r.createElement(C.zx.Primary,{name:"submitGbPromptFeedbackForm",className:G,onClick:$.hz((()=>n.next({type:b.lY.Type.gbPromptApply,alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt})))},r.createElement(x.JO.StyleGuideRule,null),i.addRule),r.createElement(C.zx.Flat,{name:"dismissGbPromptFeedbackForm",className:V,onClick:$.hz(a)},i.dismiss)),subActions:r.createElement(r.Fragment,null)})};var X=n(6334),K=n(93282),Q=n(85255),ee=n(55636);const te=S.u.style({marginRight:S.u.rem(-.5),marginTop:S.u.rem(.5)}),ne=S.u.style({padding:`0 ${S.u.rem(1.625)} !important`,marginRight:S.u.rem(.125)}),ie=S.u.style({marginRight:0}),re=({card:e,actions:t,showLabel:n=!0})=>{const i=r.useRef(h.h.create(!1));Q.P.useEffectOnWillUnmount((()=>{i.current.get()||(0,o.pipe)(e.muteCategory,g.map((n=>t.next({type:b.lY.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id}))))}));const a=r.useContext(v.m.Context).card.mutedAlertCard;return r.createElement(F.Z,{onFocus:()=>t.next({type:b.lY.Type.mutedAlertSuccessShow}),theme:(0,Y.Gh)(e.renderOptions),visualState:e.visualState,body:r.createElement(r.Fragment,null,n?r.createElement(ee.__,{alert:e.activeAlert,options:e.renderOptions}):null,r.createElement(O.XY,null,a.description((0,o.pipe)(e.muteCategory,g.fold((()=>""),(e=>e.description)))))),mainActions:r.createElement(r.Fragment,null),footer:r.createElement("div",{className:te},r.createElement(C.zx.Primary,{name:"gotIt",className:ne,onClick:()=>$.hz((()=>t.next({type:b.lY.Type.switchToNext})))()},a.successButtonLabel),r.createElement(C.zx.Ghost,{name:"turnBackOn",onClick:$.hz((()=>{i.current.set(!0),(0,o.pipe)(e.muteCategory,g.map((n=>t.next({type:b.lY.Type.undoMuteAlertCategory,categoryId:n.id,viewType:e.activeAlert.type,id:e.id}))))}))},a.undoButtonLabel,r.createElement(x.JO.Undo,{color:w.Il.CoreBlue50,className:ie}))),subActions:r.createElement(C.zx.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:b.lY.Type.mutedAlertSuggestionManagementClick})},a.settingsLabel,r.createElement(x.JO.OuterLink,null))})};var ae=n(39271),oe=n(82754),se=n(97428),le=n(66346),ce=n(2834);const de=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:i,replaceOneMatch:a=!0,disableOnEnd:o=!0,style:s})=>{const l=r.useContext(v.m.Context).card.matchesNavigation;return 0===i?null:1===i&&a?r.createElement("div",Object.assign({},(0,I.Sh)(me.matchesRow,!!Boolean(s.matchesRow)&&s.matchesRow)),r.createElement(O.ck,Object.assign({},(0,I.Sh)(me.matchesCount,!!Boolean(s.matchesCount)&&s.matchesCount)),l.numberOfMatches(i))):r.createElement("div",Object.assign({},(0,I.Sh)(me.matchesRow,!!Boolean(s.matchesRow)&&s.matchesRow)),r.createElement(C.zx.Ghost,{disabled:o&&0===n,name:"left",title:l.prev,onClick:e},r.createElement(x.JO.Arrow,Object.assign({},(0,I.Sh)(me.leftButtonIcon,!!Boolean(s.leftButtonIcon)&&s.leftButtonIcon)))),r.createElement(O.ck,Object.assign({},(0,I.Sh)(me.matchesCount,!!Boolean(s.matchesCount)&&s.matchesCount)),l.currentMatchPosition(n+1,i)),r.createElement(C.zx.Ghost,{disabled:o&&n===i-1,name:"right",title:l.next,onClick:t},r.createElement(x.JO.Arrow,Object.assign({},(0,I.Sh)(me.rightButtonIcon,!!Boolean(s.rightButtonIcon)&&s.rightButtonIcon)))))},ue={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:S.u.rem(.25)}}},pe={textTransform:"uppercase",letterSpacing:S.u.px(.8),lineHeight:S.u.rem(2)},me=S.u.stylesheet({matchesRow:[ue],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[pe]});function he(e,t,n){const{activeAlert:i,activeHighlightIndex:r}=t,a=i.getHighlightRanges(),o=(r+("left"===e?a.length-1:1))%a.length;n.next({type:b.lY.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const fe=({card:e,actions:t,selectedLabelIndex:n,isChecking:i})=>{const a=r.useContext(v.m.Context),o=h.h.create(!1);return Q.P.useSubscriptionTo(i.pipe(ce.b((e=>o.set(e))))),r.createElement(ee.Nm,{applyMessage:e.activeAlert.todoAction,checkingMessage:a.card.checking,title:a.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:b.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:l.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:l.X.isEligibleForGbPrompt(e),cardType:b.lY.getCardType(e)})}})},ge=({card:e,actions:t})=>r.createElement(de,{onLeftClick:()=>he("left",e,t),onRightClick:()=>he("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var ye=n(26662);const ve=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const a=r.useContext(v.m.Context);return r.createElement("div",{className:ye.V.optionsContainer},e.labels.map(((e,o)=>r.createElement(r.Fragment,{key:`option-${o}`},r.createElement(i.Item,{className:ye.V.optionLabel,onChange:()=>{t.set(o),n.next({type:b.lY.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view((e=>e===o))},r.createElement(O.XY,{className:ye.V.optionRadio},e.label)),r.createElement(O.x4,{className:ye.V.optionExample},e.replacementTexts.join("; ")),r.createElement(O.x4,{className:ye.V.optionSecondaryAttribute},a.card.matchesNavigation.numberOfMatches(e.matches))))))},be=({card:e,actions:t,isChecking:n,isCheckingGlobal:i})=>{const a=h.h.create(0);return r.createElement(F.Z,{visualState:e.visualState,onFocus:()=>t.next({type:b.lY.Type.alertCardShow,cardType:b.lY.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:ye.V.superWrapper,content:i.pipe(p.U((0,f.RN)(ye.V.loadingWrapperInvisible,ye.V.loadingWrapper)))},(0,Y.f8)(e.renderOptions.layoutDensity)),extra:r.createElement(ee.o,{isChecking:i}),body:r.createElement(r.Fragment,null,r.createElement(ee.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(ee.Ot,{alert:e.activeAlert}),r.createElement(ee.ko,{card:e,isChecking:n}),r.createElement(ee.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),r.createElement(ve,{activeAlert:e.activeAlert,selectedLabelIndex:a,actions:t})),mainActions:r.createElement(ee.Kg,{card:e,feedbackActions:t}),footer:r.createElement(r.Fragment,null,r.createElement(ee.lJ,{card:e}),r.createElement(fe,{selectedLabelIndex:a,card:e,actions:t,isChecking:n})),navigation:r.createElement(ge,{card:e,actions:t}),subActions:r.createElement(le.Vh,{actions:t,card:e,mode:"mini"})})};var Ce;!function(e){e.Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:i,transform:o}=l.X.useCardStates(e),c=e=>r.createElement(X.J,{card:e,actions:t,isChecking:n,transform:o,isCheckingGlobal:i});return r.createElement(s.F.Fragment,null,e.pipe(u.x(((e,t)=>e.hashCode()===t.hashCode())),p.U((0,a.ls)(l.X.match({super:e=>r.createElement(be,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}),takeaway:c,sentenceLevelBrandTones:c,synfony:c,shortenIt:c,toneAI:c,ethicalAI:c,sdui:e=>r.createElement("div",{className:(0,Y.f8)(e.renderOptions.layoutDensity).container},r.createElement(oe.b,{card:e,actions:t})),suggestedSnippet:c,default:c}),l.X.foldCard))))},e.Mini=({card:t,actions:n})=>r.createElement(s.F.Fragment,null,t.pipe(p.U((t=>d.j.Density.matchL((()=>r.createElement(e.MiniSingleLined,{card:t,actions:n})),(()=>r.createElement(e.MiniTwoLined,{card:t,actions:n})),(()=>r.createElement(e.MiniTwoLined,{card:t,actions:n})))(t.renderOptions.layoutDensity))))),e.MiniSingleLined=({card:e,actions:t})=>{function n(e){return r.createElement(K.P.Standard,{card:e,actions:t})}return(0,o.pipe)(e,l.X.match({super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return r.createElement(ae.T.Mini,{card:e,actions:t})},sdui:n,suggestedSnippet:n,default:n}),l.X.foldCard)},e.MiniTwoLined=({card:e,actions:t})=>{function n(e){return r.createElement(K.P.TwoLined,{card:e,actions:t})}return(0,o.pipe)(e,l.X.match({super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return r.createElement(ae.T.Mini,{card:e,actions:t,twoLined:!0})},sdui:n,suggestedSnippet:n,default:n}),l.X.foldCard)},e.Success=({cardData:e,actions:t,isLastCard:n})=>{function i(){return r.createElement(m.b.Success,{actions:t,isLastCard:n})}return(0,o.pipe)(e,c.C.match({takeaway:i,default:i,sentenceLevelBrandTones:i,synfony:i,super:i,shortenIt:i,toneAI:i,ethicalAI:i,sdui:i,suggestedSnippet:function(e){return r.createElement(se.w.Success,{card:e,actions:t})}}),l.X.foldCard)},e.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return r.createElement(q,{card:e,actions:t})}return(0,o.pipe)(e,c.C.match({takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,sdui:n,suggestedSnippet:n}),l.X.foldCard)},e.MutedAlert=({cardData:e,actions:t})=>{function n(e){return r.createElement(re,{card:e,actions:t})}return(0,o.pipe)(e,c.C.match({takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,sdui:n,suggestedSnippet:n}),l.X.foldCard)}}(Ce||(Ce={}))},82754:(e,t,n)=>{n.d(t,{b:()=>p,X:()=>m});var i=n(27378),r=n(5739),a=n(28043),o=n(77176),s=n(8125),l=n(8725),c=n(10918),d=n(7826),u=n(15646);const p=({card:e,actions:t})=>i.createElement(c.P,{key:e.id,content:e.cardDSL.value,prevContent:e.prevCardDSL,transitions:[...e.transitions],designSystem:d.k,notify:n=>t.next({type:u.lY.Type.sduiCardAction,cardId:e.id,actions:n}),onAnimationEnd:()=>t.next({type:u.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onMount:s.Q1}),m=e=>l.UI.Node.make((({view:t})=>{const n=t("view");return i.createElement(r.F.Fragment,null,n.pipe(a.x(((e,t)=>e.equals(t))),o.U((t=>i.createElement(p,{card:t,actions:e})))))}))},97428:(e,t,n)=>{n.d(t,{w:()=>i});var i,r=n(27378),a=n(57050),o=n(38983),s=n(5114),l=n(95195),c=n(44060),d=n(63969),u=n(40219),p=n(41572),m=n(15646),h=n(4557),f=n(7046),g=n(21474),y=n(42102),v=n(3656),b=n(28706),C=n(85255),x=n(66346),I=n(1883),w=n(55636),S=n(19025);!function(e){e.Full=({card:e,actions:n,isChecking:i})=>{const c=r.useContext(p.m.Context),[d,u]=r.useState(""),[f,g]=r.useState(e.activeAlert.snippetText),[C,I]=r.useState(""),[S,k]=r.useState(""),E=(0,a.zG)(e.activeAlert.snippetsTrigger,s.fold((()=>"\\"),a.yR));return r.createElement(w.eb,{card:e,actions:n,isChecking:i,body:r.createElement("div",null,r.createElement(w.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(v.XY,{className:D.subheader},c.card.suggestedSnippet.subheader),r.createElement("div",{className:D.inputContainer},r.createElement(y.B2,{name:"snippet-name",placeholder:c.card.suggestedSnippet.namePlaceholder,value:d,onChange:e=>u(e.target.value),className:D.snippetName}),C.length>0&&r.createElement(v.x4,{className:D.inputError},C)),r.createElement("div",{className:D.inputContainer},r.createElement(y.E_,{blockExtension:!0,name:"snippet-content",placeholder:c.card.suggestedSnippet.textPlaceholder,value:f,onChange:e=>g(e.target.value),className:D.snippetText}),S.length>0&&r.createElement(v.x4,{className:D.inputError},S)),r.createElement(v.x4,{className:D.explanation},c.card.suggestedSnippet.explanation(r.createElement(t,{trigger:E}))),r.createElement(w.Nm,{title:c.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:o.h.create(!1),onClick:b.hz((()=>{(0,a.zG)(h.B.validate(d,f,c.card.suggestedSnippet.validationMessages),l.g_((({nameError:e,contentError:t})=>{(0,a.zG)(e,s.fold((()=>I("")),I)),(0,a.zG)(t,s.fold((()=>k("")),k))}),(()=>{n.next({type:m.lY.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:d,snippetText:f}),I(""),k("")})))}))})),footer:r.createElement(x.G3,{key:"card-actions-details",visualState:e.visualState,className:D.more},r.createElement(v.XY,null,c.card.suggestedSnippet.details(r.createElement(r.Fragment,null,E))))})};const t=({trigger:e})=>r.createElement("span",{className:D.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const n=r.useContext(p.m.Context);return C.P.useEffectOnWillUnmount((()=>{t.next({type:m.lY.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})})),r.createElement(I.Z,{onFocus:()=>t.next({type:m.lY.Type.mutedAlertSuccessShow}),theme:(0,S.Gh)(e.renderOptions),visualState:e.visualState,body:r.createElement("div",{className:D.successHeader},r.createElement(g.JO.ValidationOk,{className:D.successIcon}),r.createElement(v.x4,null,n.card.suggestedSnippet.successStateTitle)),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null),subActions:r.createElement("div",{className:D.successAction},r.createElement(f.zx.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:m.lY.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},n.card.suggestedSnippet.libraryLinkCaption,r.createElement(g.JO.OuterLink,null)),r.createElement(f.zx.Ghost,{name:"done",onClick:()=>b.hz((()=>t.next({type:m.lY.Type.switchToNext})))()},n.done))})}}(i||(i={}));const k={paddingTop:d.u.rem(.75),paddingBottom:d.u.rem(.5),letterSpacing:c.xv.SubheadingLetterSpacing,fontSize:d.u.rem(c.xv.SubheadingSize),lineHeight:d.u.rem(c.xv.SubheadingLineHeight),color:c.xv.SubheadingColor,textTransform:"uppercase"},E={fontFamily:"inherit",boxSizing:"border-box",padding:`${d.u.rem(.5)}`,fontSize:d.u.rem(.875)},A=Object.assign(Object.assign({},E),{height:d.u.rem(2.5)}),T=Object.assign(Object.assign({},E),{height:d.u.rem(8)}),N={marginBottom:d.u.rem(.5)},O={color:c.Il.CoreRed50},$={display:"block",color:c.Il.CoreNeutral50,marginBottom:d.u.rem(.75)},F={position:"absolute",left:d.u.rem(.5),width:d.u.rem(1),height:d.u.rem(1),minWidth:d.u.rem(1),minHeight:d.u.rem(1)},j={display:"inline-block",width:d.u.rem(1),height:d.u.rem(1),backgroundColor:c.Il.CoreBlue1,borderRadius:d.u.rem(u.fx),textAlign:"center"},D=d.u.stylesheet({subheader:[k],snippetName:[A],snippetText:[T],explanation:[$],successIcon:[F],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[N],inputError:[O],more:[w.IH],snippetsTrigger:[j]})},26662:(e,t,n)=>{n.d(t,{V:()=>v});var i=n(44060),r=n(63969),a=n(40219);const o=(e,t,n,a,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:r.u.rem(2),borderRadius:o,backgroundColor:i.Il.CoreNeutral0,boxShadow:a,content:"' '"},Boolean(s)&&"bottom"!==s?{top:n}:{bottom:n}),s=`0 ${r.u.rem(.25)} ${r.u.rem(1.625)} 0 rgba(198, 203, 222, .25)`,l={marginRight:r.u.rem(1),flexShrink:0,maxWidth:r.u.percent(100)},c={padding:`0 ${r.u.rem(1)}`},d={padding:`0 ${r.u.rem(1.9)} 0 ${r.u.rem(1)}`},u={position:"absolute",top:r.u.rem(.27),right:r.u.rem(.5)},p={display:"grid",width:r.u.percent(100),gridGap:r.u.rem(.5),gridTemplateColumns:"fit-content(60%) auto min-content"},m={minWidth:r.u.rem(7)},h={marginLeft:r.u.rem(.5)},f={color:i.Il.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:r.u.rem(1.5)},g={$nest:{"&:before":o(r.u.rem(.5),-10,r.u.rem(-.5),s,r.u.rem(a.Jr)),"&:after":o(r.u.rem(1),-20,r.u.rem(-1),s,r.u.rem(a.Jr))}},y={transition:"opacity .2s"},v=r.u.prefixedStylesheet("super",{updateAllBtnCommon:[l],updateAllBtn:[l,c],updateAllBtnLoading:[l,d],updateBtnSpinner:[u],optionsContainer:[p],optionLabel:[m],optionRadio:[h],optionSecondaryAttribute:[f],optionExample:[f,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic"}],superWrapper:[g],loadingWrapper:[y],loadingWrapperInvisible:[y,{opacity:0,pointerEvents:"none"}]})},12138:(e,t,n)=>{n.d(t,{Y:()=>be});var i=n(27378),r=n(57050),a=n(40327),o=n(12187),s=n(5739),l=n(77176),c=n(76974),d=n(5114),u=n(44060),p=n(63969),m=n(41572),h=n(98637),f=n(26027),g=n(91549),y=n(15646),v=n(4890),b=n(29847),C=n(62310),x=n(29245),I=n(3656),w=n(85255),S=n(28706),k=n(88867),E=n(55636),A=n(32941),T=n(14444),N=n(60797),O=n(98403),$=n(32952),F=n(24209),j=n(17343),D=n(93508),L=n(41398),P=n(85985),B=n(28043),_=n(2834),M=n(2844);const R=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new $.xQ,r=new $.xQ,c=new $.xQ,u=new $.xQ,m=new $.xQ,h=new $.xQ,{ref:f,onMount:g}=w.P.useElWatcher(),y=F.T(m.pipe(j.h(!0)),c.pipe(j.h(!1)),u.pipe(j.h(!1))).pipe(D.O(!1)),v=F.T(m,r).pipe(L.M(y),P.h((([e,t])=>t)),l.U((([e,t])=>e)),L.M(f),l.U((([e,t])=>(0,a.pipe)(t,d.map((e=>e.getBoundingClientRect())),d.bindTo("sliderClientRect"),d.apS("containerMouseEventVal",d.some(e))))),N.oA,l.U((({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,i=t.x+t.width;let r=0;return r=e.clientX<=n?0:e.clientX>=i?100:(e.clientX-n)/(i-n)*100,r}))),b=F.T(v.pipe(B.x()),y.pipe(B.x(),P.h((e=>!e)),L.M(v),l.U((([e,t])=>t)),l.U((e=>e>=50?100:0))),n.pipe(P.h((e=>"ArrowRight"===e.key||"ArrowLeft"===e.key)),_.b((e=>{e.preventDefault(),e.stopPropagation()})),l.U((e=>e.key)),P.h((e=>"ArrowRight"===e||"ArrowLeft"===e)),l.U((e=>"ArrowRight"===e?100:0))),h.pipe(l.U((e=>1===e?100:0)))).pipe(D.O(100)),C=b.pipe(B.x(),l.U((e=>e>=50?1:0))),I=M.aj([C,O.Dx(e)]).pipe(l.U((([e,t])=>t[e])));return w.P.useSubscriptionTo(C.pipe(B.x(),_.b(t))),i.createElement(s.F.div,{className:ve.outerContainer,onKeyDown:e=>n.next(e)},i.createElement(s.F.div,{className:ve.label},I.pipe(l.U((e=>e.name)))),i.createElement(s.F.div,{className:ve.container,onMouseMove:e=>r.next(e),onMouseUp:e=>c.next(e),onMouseLeave:e=>u.next(e)},i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ve.slider,y.pipe(l.U((e=>e?ve.sliderDragging:null)))),{mount:g}),i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ve.sliderInner,y.pipe(l.U((e=>e?ve.sliderInnerDragging:null)))),{style:{width:b.pipe(l.U(p.u.percent))}}),i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ve.knob,y.pipe(l.U((e=>e?ve.knobDragging:null)))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),m.next(e)},tabIndex:0}),I.pipe(l.U((e=>i.createElement(x.In,{id:e.emojiID,className:ve.knobEmoji})))))),M.aj([C,y]).pipe(l.U((([e,t])=>i.createElement(i.Fragment,null,i.createElement("div",Object.assign({},(0,o.Sh)(ve.sliderDivisionPoint,ve.sliderDivisionPointLeft))),0===e||t?null:i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ve.sliderDivisionPointHoverArea,ve.sliderDivisionPointHoverAreaLeft),{onClick:()=>h.next(0)})),i.createElement("div",Object.assign({},(0,o.Sh)(ve.sliderDivisionPoint,ve.sliderDivisionPointRight))),1===e||t?null:i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ve.sliderDivisionPointHoverArea,ve.sliderDivisionPointHoverAreaRight),{onClick:()=>h.next(1)})))))))))},W="toneSliderOuterContainer",U="toneSliderLabel",H="toneSliderContainer",z="toneSlider",G="toneSliderDragging",V="toneSliderSliderDivisionPoint",Y="toneSliderDivisionPointLeft",q="toneSliderDivisionPointRight",J="toneSliderDivisionPointHoverArea",Z="toneSliderDivisionPointHoverAreaLeft",X="toneSliderDivisionPointHoverAreaRight",K="toneSliderInner",Q="toneSliderInnerDragging",ee="toneSliderKnob",te="toneSliderKnobDragging",ne="toneSliderKnobEmoji",ie={display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:p.u.rem(.875)},re={fontWeight:700,fontSize:p.u.rem(.875),lineHeight:p.u.rem(1)},ae={width:p.u.rem(5.375),height:p.u.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},oe={position:"relative",width:p.u.percent(100),backgroundColor:u.Il.CoreNeutral40,height:p.u.rem(.125),borderRadius:p.u.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:p.u.rem(.5)},[`&:hover .${V}`]:{visibility:"visible"}}},se={height:p.u.rem(.5),$nest:{[`& .${V}`]:{visibility:"visible"}}},le={position:"absolute",width:p.u.rem(.25),height:p.u.rem(.25),backgroundColor:u.Il.CoreNeutral0,top:p.u.rem(.125),bottom:p.u.rem(.125),borderRadius:p.u.percent(100),visibility:"hidden"},ce={left:p.u.rem(.125)},de={right:p.u.rem(.125)},ue={background:u.Il.CoreNeutral90,opacity:0,width:p.u.rem(1.5),height:p.u.rem(1.5),position:"absolute",borderRadius:p.u.percent(100),cursor:"pointer",top:p.u.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},pe={left:p.u.rem(-.5)},me={right:p.u.rem(-.5)},he={position:"relative",display:"flex",alignItems:"center",backgroundColor:u.Il.CorePurple40,height:p.u.percent(100),borderRadius:p.u.rem(.375),transition:"all 0.15s ease-in-out"},fe={position:"absolute",right:p.u.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:p.u.rem(1.75),height:p.u.rem(1.75),backgroundColor:u.Il.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:p.u.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:p.u.rem(2),height:p.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},ge={width:p.u.rem(2),height:p.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},ye={width:p.u.rem(.9375),height:p.u.rem(.9375),pointerEvents:"none"},ve={outerContainer:p.u.joinClasses([W,p.u.style(ie)]),label:p.u.joinClasses([U,p.u.style(re)]),container:p.u.joinClasses([H,p.u.style(ae)]),slider:p.u.joinClasses([z,p.u.style(oe)]),sliderDragging:p.u.joinClasses([G,p.u.style(se)]),sliderDivisionPoint:p.u.joinClasses([V,p.u.style(le)]),sliderDivisionPointLeft:p.u.joinClasses([Y,p.u.style(ce)]),sliderDivisionPointRight:p.u.joinClasses([q,p.u.style(de)]),sliderDivisionPointHoverArea:p.u.joinClasses([J,p.u.style(ue)]),sliderDivisionPointHoverAreaLeft:p.u.joinClasses([Z,p.u.style(pe)]),sliderDivisionPointHoverAreaRight:p.u.joinClasses([X,p.u.style(me)]),sliderInner:p.u.joinClasses([K,p.u.style(he)]),sliderInnerDragging:p.u.joinClasses([Q,p.u.style({transition:"none"})]),knob:p.u.joinClasses([ee,p.u.style(fe)]),knobDragging:p.u.joinClasses([te,p.u.style(ge)]),knobEmoji:p.u.joinClasses([ne,p.u.style(ye)])};var be;!function(e){e.BundleMini=({card:e,actions:t})=>i.createElement(k.b.Mini,Object.assign({},(0,o.Sh)(A.l$.wrapper,A.l$.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:i.createElement(I.CL,{className:A.l$.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),i.createElement(s.F.div,{className:xe.content},i.createElement(x.In,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:xe.emoji}),i.createElement("div",{className:A.l$.highlightedText},g.R.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:o})=>{const u=i.useContext(m.m.Context),p=w.P.useAtomOf(e.activeAlert.toneAlternatives),g=i.useCallback((n=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:y.lY.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})}),[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return(0,a.pipe)(e.transform,d.filter(h.b$.isToneAI),d.fold((()=>null),(a=>i.createElement(E.VM,{card:e,actions:t,isChecking:n,isCheckingGlobal:o,cardBody:n=>i.createElement(i.Fragment,null,i.createElement(E.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(C.C.Regular,{a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast)},u.beta)}),i.createElement(s.F.Fragment,null,p.pipe(l.U((e=>i.createElement(R,{toneAlternatives:e,onSelectToneAlternative:g}))))),0===e.activeAlert.selectedToneAlternativeIdx?i.createElement("div",{className:Se.replacementContainer},e.activeAlert.highlightTexts[0]):i.createElement(b.T9,{classes:{rendered:Se.replacement,removing:Se.replacementHidden},timeout:250,content:c.of(i.createElement(T.RF,{label:a.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:Se.replacementContainer,a11yContrast:e.renderOptions.features.has(v.j.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?i.createElement(E.Nm,{title:u.card.todoAction(a.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:S.hz((()=>t.next({type:y.lY.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:y.lY.getCardType(e),eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.X.isEligibleForGbPrompt(e)})))}):null),mainActions:(0,r.a9)(i.createElement(E.Kg,{card:e,feedbackActions:t})),subActions:(0,r.a9)(i.createElement(E.q4,{card:e,actions:t})),cardFooter:(0,r.a9)(i.createElement(E.lJ,{card:e}))}))))}}(be||(be={}));const Ce={width:p.u.rem(1),height:p.u.rem(1),marginRight:p.u.rem(.5)},xe=p.u.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[Ce]}),Ie={transition:`opacity ${p.u.seconds(E.k_)}`},we={width:p.u.percent(100),background:u.Il.CoreNeutral10,borderRadius:p.u.px(4),fontSize:p.u.rem(.875),lineHeight:p.u.rem(1.5),fontFeatureSettings:"'ss03' on",padding:p.u.px(8),marginTop:p.u.px(12),boxSizing:"border-box"},Se=p.u.stylesheet({replacement:[Ie],replacementHidden:[Ie,{opacity:0}],replacementContainer:[we]})},8725:(e,t,n)=>{n.d(t,{Z:()=>a,UI:()=>Jn});var i={};n.r(i),n.d(i,{audit:()=>D.U,auditTime:()=>L.e,buffer:()=>P.f,bufferCount:()=>_,bufferTime:()=>U.e,bufferToggle:()=>V,bufferWhen:()=>J.R,catchError:()=>Z.K,combineAll:()=>X,combineLatest:()=>K.a,concat:()=>ee,concatAll:()=>te.u,concatMap:()=>ne.b,concatMapTo:()=>ie,count:()=>re,debounce:()=>se.D,debounceTime:()=>k.b,defaultIfEmpty:()=>le.d,delay:()=>A.g,delayWhen:()=>ce.j,dematerialize:()=>de.D,distinct:()=>pe,distinctUntilChanged:()=>fe.x,distinctUntilKeyChanged:()=>ge,elementAt:()=>Ce,endWith:()=>xe.l,every:()=>Ie,exhaust:()=>ke,exhaustMap:()=>Te.z,expand:()=>Ne,filter:()=>C.h,finalize:()=>Fe.x,find:()=>je,findIndex:()=>Pe,first:()=>T.P,flatMap:()=>Qe.VS,groupBy:()=>Be.v,ignoreElements:()=>_e,isEmpty:()=>We,last:()=>Ye,map:()=>x.U,mapTo:()=>S.h,materialize:()=>qe.i,max:()=>Ze,merge:()=>Xe.T,mergeAll:()=>Ke.J,mergeMap:()=>Qe.zg,mergeMapTo:()=>et,mergeScan:()=>tt,min:()=>rt,multicast:()=>at.O,observeOn:()=>ot.QV,onErrorResumeNext:()=>lt,pairwise:()=>ut.G,partition:()=>mt,pluck:()=>I.j,publish:()=>ht,publishBehavior:()=>gt,publishLast:()=>vt,publishReplay:()=>O._,race:()=>Ct,reduce:()=>Je.u,refCount:()=>$.x,repeat:()=>xt.r,repeatWhen:()=>It,retry:()=>kt,retryWhen:()=>Tt.a,sample:()=>Nt.U,sampleTime:()=>$t,scan:()=>w.R,sequenceEqual:()=>Lt,share:()=>Mt.B,shareReplay:()=>Rt.d,single:()=>Wt,skip:()=>zt.T,skipLast:()=>Gt,skipUntil:()=>qt.u,skipWhile:()=>Jt.n,startWith:()=>E.O,subscribeOn:()=>Zt.R,switchAll:()=>Xt.B,switchMap:()=>b.w,switchMapTo:()=>Kt.c,take:()=>be.q,takeLast:()=>Ge.h,takeUntil:()=>Qt.R,takeWhile:()=>en.o,tap:()=>v.b,throttle:()=>tn.P,throttleTime:()=>nn.p,throwIfEmpty:()=>ve.T,timeInterval:()=>an,timeout:()=>sn.V,timeoutWith:()=>ln.L,timestamp:()=>cn,toArray:()=>pn,window:()=>mn,windowCount:()=>gn,windowTime:()=>xn,windowToggle:()=>Tn,windowWhen:()=>$n,withLatestFrom:()=>Dn.M,zip:()=>Hn,zipAll:()=>zn});var r,a,o=n(59312),s=n(5114),l=n(19429),c=n(45614),d=n(93756),u=n(57050),p=n(24209),m=n(83401),h=n(2844),f=n(40151),g=n(76974),y=n(44586),v=n(2834),b=n(66310),C=n(85985),x=n(77176),I=n(24713),w=n(67434),S=n(17343),k=n(78674),E=n(93508),A=n(13444),T=n(50628),N=n(40327),O=n(48403),$=n(95343);!function(e){e.split=function(e){var t=(0,N.pipe)(e,O._(1),$.x());return{animation:(0,N.pipe)(t,C.h((function(e){return"root"===e.action.key})),x.U((function(e){return{key:e.key,action:e.action.action}}))),action:(0,N.pipe)(t,C.h((function(e){return"children"===e.action.key})),x.U((function(e){return{key:e.key,action:e.action.action}})))}}}(r||(r={})),function(e){function t(e){return l.UI(e)}function n(e){return l.I_(e)}function i(e,t){return function(n){return(0,u.zG)(e,C.h((function(e){return e.key===t&&e.action.animationType===n})),x.U((function(e){return e.action})),E.O({kind:"init"}),b.w((function(e){return"end"===e.kind?(0,g.of)(e):(0,u.zG)((0,g.of)({kind:"end",animationType:n}),A.g("start"===e.kind?O:N))})),T.P())}}e.fromSideEffect=function(e,t){return function(n){return(0,p.T)(n.pipe(v.b(e),b.w((function(){return m.C}))),(i=t)instanceof y.y?i:(0,g.of)(i));var i}},e.patchState=t,e.extendActions=n,e.patch=function(e,i){return(0,u.ls)(n(e),t(i))},e.replaceActions=function(e){return l.I_((0,u.ls)(e,b.w((function(){return m.C}))))},e.composeKnot=function(e){return l.VF((function(t){return(0,h.aj)(Object.keys(e).map((function(n){return e[n](t.pipe(C.h((function(e){return e.key===n})),x.U((function(e){return e.action})))).pipe(x.U((function(e){var t;return(t={})[n]=e,t})))}))).pipe(x.U((function(e){return e.reduce((function(e,t){return(0,o.pi)((0,o.pi)({},e),t)}))})))}))},e.composeUnion=function(e,t){return l.VF((function(n){return(0,u.zG)(t(n),b.w((function(t){var i=Object.entries(t)[0],r=i[0],a=i[1];return(0,u.zG)(n,C.h((function(e){return e.key===a})),x.U((function(e){return e.action})),e[a],x.U((function(e){var t;return(0,o.pi)((0,o.pi)({},e),((t={})[r]=a,t))})))})))}))},e.animatingFlow=function(e,t){return function(n){var l=r.split(n),m=l.action,h=l.animation,g=0;return(0,u.zG)(m,C.h((function(e){return e.key===String(g)})),I.j("action"),e,w.R(function(e,t){return function(n,i){var r,a,o=t(),l=s.fromNullable(n[o]),c=(0,u.zG)(l,s.map((function(e){return e.children}))),p=e(c,i);if(s.isNone(p))return(r={})[o]={root:s.none,children:i},r;var m=((a={})[o+1]={root:d.EK(p.value),children:i},a),h=d.IS(p.value);return s.isSome(h)&&s.isSome(c)&&(m[o]={root:h,children:c.value}),m}}(t,(function(){return g})),{}),v.b((function(e){return g=Number(Object.keys(e).pop())})),b.w(function(e,t){return function(n){var r=String(t()-1),l=String(t()),d=(0,u.zG)(s.fromNullable(n[r]),s.chain((function(e){return e.root})),s.map(i(e,r)),s.fold((function(){return f.E}),u.yR),S.h(c.EG(r))),m=(0,u.zG)(n[l].root,s.map(i(e,l)),s.fold((function(){return f.E}),u.yR),S.h((function(e){var t=(0,o.pi)({},e);return t[l]=(0,o.pi)((0,o.pi)({},t[l]),{root:s.none}),t})));return(0,u.zG)((0,p.T)(d,m),w.R((function(e,t){return t(e)}),n),k.b(a),E.O(n))}}(h,(function(){return g}))))}};var a=100,N=500,O=10*N}(a||(a={}));var F=n(27378),j=n(32952),D=n(50133),L=n(66081),P=n(36919),B=n(98036);function _(e,t){return void 0===t&&(t=null),function(n){return n.lift(new M(e,t))}}var M=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?W:R}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),R=function(e){function t(t,n){var i=e.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return o.ZT(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(B.L),W=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return o.ZT(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,i=t.startBufferEvery,r=t.buffers,a=t.count;this.count++,a%i==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(e),s.length===n&&(r.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(B.L),U=n(17160),H=n(14601),z=n(72500),G=n(57655);function V(e,t){return function(n){return n.lift(new Y(e,t))}}var Y=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new q(e,this.openings,this.closingSelector))},e}(),q=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.closingSelector=i,r.contexts=[],r.add((0,z.D)(r,n)),r}return o.ZT(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,i=0;i<n;i++)t[i].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,i=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(i),i.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new H.w,i={buffer:[],subscription:n};t.push(i);var r=(0,z.D)(this,e,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),n.add(r))},t}(G.L),J=n(77150),Z=n(91224);function X(e){return function(t){return t.lift(new h.Ms(e))}}var K=n(57091),Q=n(95399);function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Q.z.apply(void 0,[t].concat(e)))}}var te=n(44212),ne=n(71032);function ie(e,t){return(0,ne.b)((function(){return e}),t)}function re(e){return function(t){return t.lift(new ae(e,t))}}var ae=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new oe(e,this.predicate,this.source))},e}(),oe=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return o.ZT(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(B.L),se=n(87847),le=n(31524),ce=n(87938),de=n(15789),ue=n(46601);function pe(e,t){return function(n){return n.lift(new me(e,t))}}var me=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new he(e,this.keySelector,this.flushes))},e}(),he=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=n,r.values=new Set,i&&r.add((0,ue.ft)(i,new ue.IY(r))),r}return o.ZT(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(ue.Ds),fe=n(28043);function ge(e,t){return(0,fe.x)((function(n,i){return t?t(n[e],i[e]):n[e]===i[e]}))}var ye=n(2270),ve=n(4750),be=n(23063);function Ce(e,t){if(e<0)throw new ye.W;var n=arguments.length>=2;return function(i){return i.pipe((0,C.h)((function(t,n){return n===e})),(0,be.q)(1),n?(0,le.d)(t):(0,ve.T)((function(){return new ye.W})))}}var xe=n(39719);function Ie(e,t){return function(n){return n.lift(new we(e,t,n))}}var we=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Se(e,this.predicate,this.thisArg,this.source))},e}(),Se=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.predicate=n,a.thisArg=i,a.source=r,a.index=0,a.thisArg=i||a,a}return o.ZT(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(B.L);function ke(){return function(e){return e.lift(new Ee)}}var Ee=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ae(e))},e}(),Ae=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return o.ZT(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,ue.ft)(e,new ue.IY(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(ue.Ds),Te=n(97884);function Ne(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new Oe(e,t,n))}}var Oe=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new $e(e,this.project,this.concurrent,this.scheduler))},e}(),$e=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.project=n,a.concurrent=i,a.scheduler=r,a.index=0,a.active=0,a.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(a.buffer=[]),a}return o.ZT(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,i=e.value,r=e.index;t.subscribeToProjection(n,i,r)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var r=(0,this.project)(e,i);if(this.scheduler){var a={subscriber:this,result:r,value:e,index:i};this.destination.add(this.scheduler.schedule(t.dispatch,0,a))}else this.subscribeToProjection(r,e,i)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,ue.ft)(e,new ue.IY(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(ue.Ds),Fe=n(9223);function je(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new De(e,n,!1,t))}}var De=function(){function e(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new Le(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),Le=function(e){function t(t,n,i,r,a){var o=e.call(this,t)||this;return o.predicate=n,o.source=i,o.yieldIndex=r,o.thisArg=a,o.index=0,o}return o.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,i=this.index++;try{t.call(n||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(B.L);function Pe(e,t){return function(n){return n.lift(new De(e,n,!0,t))}}var Be=n(78146);function _e(){return function(e){return e.lift(new Me)}}var Me=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Re(e))},e}(),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.ZT(t,e),t.prototype._next=function(e){},t}(B.L);function We(){return function(e){return e.lift(new Ue)}}var Ue=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new He(e))},e}(),He=function(e){function t(t){return e.call(this,t)||this}return o.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(B.L),ze=n(33346),Ge=n(51639),Ve=n(49524);function Ye(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?(0,C.h)((function(t,n){return e(t,n,i)})):Ve.y,(0,Ge.h)(1),n?(0,le.d)(t):(0,ve.T)((function(){return new ze.K})))}}var qe=n(83840),Je=n(38934);function Ze(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return(0,Je.u)(t)}var Xe=n(95093),Ke=n(68425),Qe=n(85321);function et(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,Qe.zg)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,Qe.zg)((function(){return e}),n))}function tt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new it(e,this.accumulator,this.seed,this.concurrent))},e}(),it=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.accumulator=n,a.acc=i,a.concurrent=r,a.hasValue=!1,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return o.ZT(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new ue.IY(this),n=this.destination;n.add(t);var i=(0,ue.ft)(e,t);i!==t&&n.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(ue.Ds);function rt(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return(0,Je.u)(t)}var at=n(24755),ot=n(80544),st=n(17733);function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,st.k)(e[0])&&(e=e[0]),function(t){return t.lift(new ct(e))}}var ct=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new dt(e,this.nextSources))},e}(),dt=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return o.ZT(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new ue.IY(this),n=this.destination;n.add(t);var i=(0,ue.ft)(e,t);i!==t&&n.add(i)}else this.destination.complete()},t}(ue.Ds),ut=n(16118);function pt(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function mt(e,t){return function(n){return[(0,C.h)(e,t)(n),(0,C.h)(pt(e,t))(n)]}}function ht(e){return e?(0,at.O)((function(){return new j.xQ}),e):(0,at.O)(new j.xQ)}var ft=n(95300);function gt(e){return function(t){return(0,at.O)(new ft.X(e))(t)}}var yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return o.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),H.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),H.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(j.xQ);function vt(){return function(e){return(0,at.O)(new yt)(e)}}var bt=n(38062);function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,st.k)(e[0])&&(e=e[0]),t.lift.call(bt.S3.apply(void 0,[t].concat(e)))}}var xt=n(36303);function It(e){return function(t){return t.lift(new wt(e))}}var wt=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.notifier,t))},e}(),St=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return o.ZT(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new j.xQ;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,ue.ft)(t,new ue.IY(this))},t}(ue.Ds);function kt(e){return void 0===e&&(e=-1),function(t){return t.lift(new Et(e,t))}}var Et=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new At(e,this.count,this.source))},e}(),At=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return o.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(B.L),Tt=n(62365),Nt=n(13718),Ot=n(82506);function $t(e,t){return void 0===t&&(t=Ot.P),function(n){return n.lift(new Ft(e,t))}}var Ft=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new jt(e,this.period,this.scheduler))},e}(),jt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(Dt,n,{subscriber:r,period:n})),r}return o.ZT(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(B.L);function Dt(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Lt(e,t){return function(n){return n.lift(new Pt(e,t))}}var Pt=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Bt(e,this.compareTo,this.comparator))},e}(),Bt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new _t(t,r))),r}return o.ZT(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,i=e.comparator;t.length>0&&n.length>0;){var r=t.shift(),a=n.shift(),o=!1;try{o=i?i(r,a):r===a}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(B.L),_t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.parent=n,i}return o.ZT(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(B.L),Mt=n(38194),Rt=n(34891);function Wt(e){return function(t){return t.lift(new Ut(e,t))}}var Ut=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Ht(e,this.predicate,this.source))},e}(),Ht=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return o.ZT(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new ze.K)},t}(B.L),zt=n(55935);function Gt(e){return function(t){return t.lift(new Vt(e))}}var Vt=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new ye.W}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new B.L(e)):t.subscribe(new Yt(e,this._skipCount))},e}(),Yt=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return o.ZT(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,a=r[i];r[i]=e,this.destination.next(a)}},t}(B.L),qt=n(42833),Jt=n(93497),Zt=n(92403),Xt=n(69935),Kt=n(598),Qt=n(2768),en=n(8473),tn=n(25031),nn=n(55721),rn=n(18625);function an(e){return void 0===e&&(e=Ot.P),function(t){return(0,rn.P)((function(){return t.pipe((0,w.R)((function(t,n){var i=t.current;return{value:n,current:e.now(),last:i}}),{current:e.now(),value:void 0,last:void 0}),(0,x.U)((function(e){var t=e.current,n=e.last,i=e.value;return new on(i,t-n)})))}))}}var on=function(){return function(e,t){this.value=e,this.interval=t}}(),sn=n(52342),ln=n(97425);function cn(e){return void 0===e&&(e=Ot.P),(0,x.U)((function(t){return new dn(t,e.now())}))}var dn=function(){return function(e,t){this.value=e,this.timestamp=t}}();function un(e,t,n){return 0===n?[t]:(e.push(t),e)}function pn(){return(0,Je.u)(un,[])}function mn(e){return function(t){return t.lift(new hn(e))}}var hn=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new fn(e),i=t.subscribe(n);return i.closed||n.add((0,ue.ft)(this.windowBoundaries,new ue.IY(n))),i},e}(),fn=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new j.xQ,t.next(n.window),n}return o.ZT(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new j.xQ;t.next(n)},t}(ue.Ds);function gn(e,t){return void 0===t&&(t=0),function(n){return n.lift(new yn(e,t))}}var yn=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.windowSize,this.startWindowEvery))},e}(),vn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.destination=t,r.windowSize=n,r.startWindowEvery=i,r.windows=[new j.xQ],r.count=0,t.next(r.windows[0]),r}return o.ZT(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,a=r.length,o=0;o<a&&!this.closed;o++)r[o].next(e);var s=this.count-i+1;if(s>=0&&s%t==0&&!this.closed&&r.shift().complete(),++this.count%t==0&&!this.closed){var l=new j.xQ;r.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(B.L),bn=n(44362),Cn=n(67827);function xn(e){var t=Ot.P,n=null,i=Number.POSITIVE_INFINITY;return(0,Cn.K)(arguments[3])&&(t=arguments[3]),(0,Cn.K)(arguments[2])?t=arguments[2]:(0,bn.k)(arguments[2])&&(i=Number(arguments[2])),(0,Cn.K)(arguments[1])?t=arguments[1]:(0,bn.k)(arguments[1])&&(n=Number(arguments[1])),function(r){return r.lift(new In(e,n,i,t))}}var In=function(){function e(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),wn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return o.ZT(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(j.xQ),Sn=function(e){function t(t,n,i,r,a){var o=e.call(this,t)||this;o.destination=t,o.windowTimeSpan=n,o.windowCreationInterval=i,o.maxWindowSize=r,o.scheduler=a,o.windows=[];var s=o.openWindow();if(null!==i&&i>=0){var l={subscriber:o,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:i,subscriber:o,scheduler:a};o.add(a.schedule(An,n,l)),o.add(a.schedule(En,i,c))}else{var d={subscriber:o,window:s,windowTimeSpan:n};o.add(a.schedule(kn,n,d))}return o}return o.ZT(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,i=0;i<n;i++){var r=t[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new wn;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(B.L);function kn(e){var t=e.subscriber,n=e.windowTimeSpan,i=e.window;i&&t.closeWindow(i),e.window=t.openWindow(),this.schedule(e,n)}function En(e){var t=e.windowTimeSpan,n=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,a=n.openWindow(),o=this,s={action:o,subscription:null},l={subscriber:n,window:a,context:s};s.subscription=i.schedule(An,t,l),o.add(s.subscription),o.schedule(e,r)}function An(e){var t=e.subscriber,n=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(n)}function Tn(e,t){return function(n){return n.lift(new Nn(e,t))}}var Nn=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new On(e,this.openings,this.closingSelector))},e}(),On=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=(0,z.D)(r,n,n)),r}return o.ZT(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,i=0;i<n;i++)t[i].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var a=n[r];a.window.error(t),a.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var r=t[i];r.window.complete(),r.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var i=e[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,i,r){if(e===this.openings){var a=void 0;try{a=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var o=new j.xQ,s=new H.w,l={window:o,subscription:s};this.contexts.push(l);var c=(0,z.D)(this,a,l);c.closed?this.closeWindow(this.contexts.length-1):(c.context=l,s.add(c)),this.destination.next(o)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],i=n.window,r=n.subscription;t.splice(e,1),i.complete(),r.unsubscribe()}},t}(G.L);function $n(e){return function(t){return t.lift(new Fn(e))}}var Fn=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new jn(e,this.closingSelector))},e}(),jn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return o.ZT(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow(r)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,i=this.window=new j.xQ;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=(0,z.D)(this,n))},t}(G.L),Dn=n(41398),Ln=n(81967),Pn=n(85451);function Bn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,Ln.n)(e,void 0).lift(new _n(n))}var _n=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Mn(e,this.resultSelector))},e}(),Mn=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.resultSelector=n,r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:void 0,r}return o.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,st.k)(e)?t.push(new Wn(e)):"function"==typeof e[Pn.hZ]?t.push(new Rn(e[Pn.hZ]())):t.push(new Un(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];if(i.stillUnsubscribed)this.destination.add(i.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){if("function"==typeof(o=e[i]).hasValue&&!o.hasValue())return}var r=!1,a=[];for(i=0;i<t;i++){var o,s=(o=e[i]).next();if(o.hasCompleted()&&(r=!0),s.done)return void n.complete();a.push(s.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(B.L),Rn=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),Wn=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Pn.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),Un=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return o.ZT(t,e),t.prototype[Pn.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,ue.ft)(this.observable,new ue.IY(this))},t}(ue.Ds);function Hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Bn.apply(void 0,[t].concat(e)))}}function zn(e){return function(t){return t.lift(new _n(e))}}var Gn=n(5739),Vn="root",Yn=n(73975);function qn(e){return(0,u.ls)(fe.x(),w.R((function(t,n){return e.reduceWithIndex(n,new Map,(function(e,n,i){var r=t.get(e);return void 0!==r?(n.set(e,r),r.next(i)):n.set(e,new ft.X(i)),n}))}),new Map),fe.x((t=Yn.f7((function(){return!0})),{equals:function(e,n){var i;if(e===n)return!0;if(e.size===n.size){for(var r=e.keys(),a=void 0;null===(i=(a=r.next()).done)||void 0===i||!i;)if(!n.has(a.value)||!t.equals(e.get(a.value),n.get(a.value)))return!1;return!0}return!1}}).equals));var t}var Jn,Zn=function(){function e(e){this._keySelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Xn(e,this._keySelector))},e}(),Xn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i._keySelector=n,i.attemptedToUnsubscribe=!1,i.count=0,i._currentGroup=s.none,i}return(0,o.ZT)(t,e),t.prototype._next=function(e){var t=this,n=this._keySelector(e);(0,N.pipe)(this._currentGroup,s.fold((function(){return t._createGroup(n,e)}),(function(i){var r=i.key,a=i.group;r!==n?(a.complete(),t._currentGroup=s.none,t._createGroup(n,e)):a.closed||a.next(e)})))},t.prototype._createGroup=function(e,t){var n=new ft.X(t);this._currentGroup=s.some({key:e,group:n}),this.destination.next(new Be.T(e,n,this))},t.prototype._error=function(e){(0,N.pipe)(this._currentGroup,s.map((function(t){return t.group.error(e)}))),this._currentGroup=s.none,this.destination.error(e)},t.prototype._complete=function(){(0,N.pipe)(this._currentGroup,s.map((function(e){return e.group.complete()}))),this._currentGroup=s.none,this.destination.complete()},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(B.L);function Kn(e,t){return(0,N.pipe)(t,Jn.mapAction((function(t){return{key:e,action:t}})),l.UI((function(t){return null===t?t:F.cloneElement(t,{key:e})})))}function Qn(e,t,n){var i,r;if(ti(e)&&t.length>0)return{grid:e.grid,child:Qn(e.child,t,n)};if(ei(e)&&t.length>0){var a=t[0],s=t.slice(1);return{grid:e.grid,children:(0,o.pi)((0,o.pi)({},e.children),(i={},i[a]=Qn(e.children[a],s,n),i))}}if(ni(e)&&t.length>0)return{foldable:e.foldable,of:Qn(e.of,t,n)};if(ii(e)&&t.length>0){a=t[0],s=t.slice(1);return{tag:e.tag,members:(0,o.pi)((0,o.pi)({},e.members),(r={},r[a]=Qn(e.members[a],s,n),r))}}return n(e)}function ei(e){return"children"in e}function ti(e){return"child"in e}function ni(e){return"foldable"in e}function ii(e){return"members"in e}function ri(e){return F.createElement(Gn.F.Fragment,{children:e})}!function(e){function t(e){return ti(e)?function(n){var i=new Proxy({},{get:function(){var i;return t(e.child)({children:null,notify:n.notify,state:null!==(i=n.state)&&void 0!==i?i:f.E})}});return e.grid({children:i,state:f.E,notify:u.Q1})}:ei(e)?function(n){return(0,N.pipe)(n.state,qn(c.IM),x.U((function(i){var r=(0,N.pipe)(e.children,c.Su((function(e,r){return Kn(e,t(r))({children:null,notify:n.notify,state:i.get(e)||f.E})})));return e.grid({children:r,state:i.get(Vn)||f.E,notify:function(e){return n.notify({key:Vn,action:e})}})})),ri)}:ni(e)?function(n){return(0,N.pipe)(n.state,qn(e.foldable),w.R((function(i,r){var a=new Map;return r.forEach((function(r,o){var s=i.get(o);if(void 0!==s)a.set(o,s);else{var l=Kn(o,t(e.of));a.set(o,l({children:null,notify:n.notify,state:r}))}})),a}),new Map),x.U((function(e){var t=new Array;return e.forEach((function(e){return t.push(e)})),t})),ri)}:ii(e)?function(n){return(0,N.pipe)(n.state,(i=e.tag,function(e){return e.pipe((function(e){return e.lift(new Zn((function(e){return e[i]})))}))}),x.U((function(i){return Kn(i.key,t(e.members[i.key]))({children:null,notify:n.notify,state:i})})),ri);var i}:e}function n(e,t,i){return ei(e)?{grid:n(e.grid,t,i),children:e.children}:ni(e)?{foldable:e.foldable,of:n(e.of,t,i)}:function(n){return e({children:n.children,notify:(0,N.pipe)(n.notify,l.I_(i)),state:(0,N.pipe)(n.state,x.U(t))})}}!function(t){t.empty=function(){return null},t.make=function(t){return e.Grid.make(t)}}(e.Node||(e.Node={})),function(e){e.make=function(e){return function(t){var n=t.children,r=t.state,a=t.notify;return F.createElement(e,{slots:n,state:r,notify:function(e){return function(){return a(e)}},view:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,N.pipe)(r,I.j.apply(i,e),fe.x())}})}}}(e.Grid||(e.Grid={})),function(e){e.make=function(e,t){return{grid:e,child:t}}}(e.Composite||(e.Composite={})),function(e){e.make=function(e,t){return{grid:e,children:t}}}(e.Knot||(e.Knot={})),function(e){e.make=function(e){return{grid:function(e){return ri((0,N.pipe)(e.children,c.KM((function(e,t){return t}))))},children:e}}}(e.Group||(e.Group={})),function(e){e.make=function(e,t){return{foldable:e,of:t}}}(e.List||(e.List={})),function(t){t.make=function(e,t){return{tag:e,members:t}},t.asOption=function(t){return{tag:"_tag",members:{Some:e.Group.make({value:t}),None:e.Node.empty}}}}(e.Union||(e.Union={})),function(e){e.make=function(e,t){return function(n){var i;return F.createElement(Gn.F.div,((i={})["data-purpose"]="animation-wrapper",i.children=n.children.children,i.className=(0,N.pipe)(n.state,x.U((0,u.ls)(s.map((function(n){return Boolean(e[n])?e[n]:t[n]})),s.toUndefined)),fe.x()),i.onAnimationStart=(0,N.pipe)(n.state,x.U(s.fold((function(){return u.Q1}),(function(e){return function(){return n.notify({kind:"start",animationType:e})}})))),i.onAnimationEnd=(0,N.pipe)(n.state,x.U(s.fold((function(){return u.Q1}),(function(e){return function(){return n.notify({kind:"end",animationType:e})}})))),i))}}}(e.Transition||(e.Transition={})),function(t){t.make=function(t,n){return e.List.make(c.IM,e.Knot.make(t,{children:n}))}}(e.Animated||(e.Animated={})),e.mount=function(e,n){var i=new j.xQ;return t(e)({children:null,notify:function(e){return i.next(e)},state:(0,N.pipe)(n(i),O._(1),$.x())})},e.patch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(n){return Qn(n,e,t)}}},e.mapAction=function(e){return function(t){return n(t,u.yR,e)}},e.contramapState=function(e){return function(t){return n(t,e,u.yR)}},e.squash=t,e.promap=n}(Jn||(Jn={}))},77150:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(59312),r=n(14601),a=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return i.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new r.w,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,a.ft)(t,new a.IY(this))),this.subscribing=!1},t}(a.Ds)},15789:(e,t,n)=>{n.d(t,{D:()=>a});var i=n(59312),r=n(98036);function a(){return function(e){return e.lift(new o)}}var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(r.L)},83840:(e,t,n)=>{n.d(t,{i:()=>o});var i=n(59312),r=n(98036),a=n(12834);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype._next=function(e){this.destination.next(a.P.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.P.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.P.createComplete()),e.complete()},t}(r.L)},36303:(e,t,n)=>{n.d(t,{r:()=>o});var i=n(59312),r=n(98036),a=n(40151);function o(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,a.c)():e<0?t.lift(new s(-1,t)):t.lift(new s(e-1,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.count,this.source))},e}(),l=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return i.ZT(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(r.L)}}]);