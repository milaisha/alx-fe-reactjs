(self.webpackChunk=self.webpackChunk||[]).push([[7206],{71284:(e,t,n)=>{n.d(t,{a:()=>s,A:()=>l});var s,o=n(27378),i=n(88056),r=n(95195),a=n(95574);!function(e){let t;!function(e){e.supportsSVGDominantBaseline="supportsSVGDominantBaseline",e.supportsSetGoalsLoader="supportsSetGoalsLoader",e.onlyTrustedEvents="onlyTrustedEvents"}(t=e.Flag||(e.Flag={})),e.Context=o.createContext(i.Y.invariantContent("PlatformEnvironment"));e.Mock=class{constructor(){this.has=()=>!1,this.actions={openUrl:()=>r.F2(void 0),openPopup:()=>r.F2(void 0)}}}}(s||(s={}));class l{constructor(){this.actions={openUrl:e=>a.vM((()=>{throw new Error("Not implemented")})),openPopup:e=>a.vM((()=>{throw new Error("Not implemented")}))}}has(e){throw new Error("Not implemented")}}},29847:(e,t,n)=>{n.d(t,{l5:()=>k,EJ:()=>F,T9:()=>A});var s=n(27378),o=n(71249),i=n(40327),r=n(38983),a=n(5739),l=n(93508),p=n(77176),h=n(16118),c=n(32952),d=n(98403),u=n(44586),m=n(76974),v=n(24209),_=n(38062),b=n(50628),f=n(80900),E=n(17343),w=n(60797),y=n(69935),g=n(19751),C=n(5114),x=n(8125);class k extends s.Component{constructor(){super(...arguments),this._state=this.props.state.pipe(l.O(void 0),p.U(((e,t)=>({state:e,key:t}))),h.G(),p.U((([e,t])=>{const n=this.props.stateToClassMapper(e.state,t.state);return{prev:{key:e.key,state:e.state,view:D(n.prev)},next:{key:t.key,state:t.state,view:D(n.next)}}}))),this._elements=r.h.create(P.empty),this._done=new c.xQ,this._subs=[]}componentDidMount(){const{children:e}=this.props;this._subs.push(this._state.pipe(p.U((({prev:t,next:n})=>{const s=e;return void 0===e?P.empty:[(0,i.pipe)(t.state,C.fromNullable,C.map((e=>s({state:e,view:t.view,type:"prev",done:()=>this._done.next("prev")}))),C.chain(C.fromNullable),C.map((e=>({key:t.key,entry:e})))),(0,i.pipe)(s({state:n.state,view:n.view,type:"next"}),C.fromNullable,C.map((e=>({key:n.key,entry:e}))))]}))).subscribe(d.wW(this._elements)),this._done.subscribe((e=>{"prev"===e&&this._elements.modify((([e,t])=>[C.none,t])),"next"===e&&this._elements.set(P.empty)})))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}render(){const{children:e,className:t,onMount:n,onMouseDown:i}=this.props;return e?s.createElement(a.F.div,{className:t,mount:n,onMouseDown:i},this._elements.view(o.IX.compact).view((e=>e.map((e=>s.createElement(s.Fragment,{key:e.key},e.entry)))))):null}}const F=e=>({start:e,end:e});var P;function D({start:e,end:t}){return u.y.create((n=>{n.next(e);const s=requestAnimationFrame((()=>requestAnimationFrame((()=>n.next(t)))));return()=>cancelAnimationFrame(s)}))}!function(e){e.empty=[C.none,C.none]}(P||(P={}));const A=e=>{const t=e.content.pipe(p.U((t=>({className:e.classes.rendered,el:t,onTransitionEnd:x.Q1}))),p.U(C.some),l.O(C.none),h.G(),p.U((([t,n])=>(0,i.pipe)(t,C.fold((()=>C.map(m.of)(n)),(t=>(0,i.pipe)(n,C.map((n=>{const s=new c.xQ;return v.T(m.of({className:e.classes.removing,el:t.el,onTransitionEnd:()=>s.next()}),_.S3(s.pipe(b.P()),f.H(e.timeout)).pipe(E.h(n)))})))))))),w.oA,y.B(),g.d({refCount:!0,bufferSize:1}));return s.createElement(a.F.div,{className:t.pipe(p.U((e=>e.className))),onTransitionEnd:t.pipe(p.U((e=>e.onTransitionEnd)))},t.pipe(p.U((e=>e.el))))}},95286:(e,t,n)=>{n.d(t,{L:()=>H});var s=n(27378),o=n(40327),i=n(38983),r=n(12187),a=n(5739),l=n(16118),p=n(66310),h=n(80900),c=n(17343),d=n(76974),u=n(95093),m=n(77176),v=n(28043),_=n(2834),b=n(38194),f=n(93508),E=n(598),w=n(2844),y=n(24713),g=n(50628),C=n(32952),x=n(18208),k=n(19962),F=n(5114),P=n(22232),D=n(8125),A=n(54338),S=n(71284),T=n(41488),N=n(29847),M=n(98403),O=n(85255),R=n(47486);class U extends N.l5{}class H extends s.PureComponent{constructor(){super(...arguments),this._uuid=x.fg(12),this._initialState=!1,this._hovered=i.h.create(this._initialState),this._hidden=i.h.create(!this._initialState),this._listPosState=i.h.create({}),this._dropdownEl=null,this._subs=[],this._viewport=i.h.create(k.UL.empty),this._labelRef=s.createRef(),this.hovered=this._hovered.pipe(l.G(),p.w((([e,t])=>t?h.H(this.props.showDelay).pipe(c.h(!0)):e?h.H(void 0===this.props.closeDelay?H.defaultProps.closeDelay:this.props.closeDelay).pipe(c.h(!1)):d.of(!1))),u.T(H._hoveredForce.pipe(m.U(F.exists((e=>e===this._uuid))))),v.x(),_.b((e=>e&&H._hoveredForce.next(F.some(this._uuid)))),_.b((e=>e&&this._hidden.set(!1))),b.B(),f.O(this._initialState)),this._handleClickForAppearanceHover=e=>{const t=e.target;if(k.pK(t)||!0===this.props.dontCloseOnClickInside)return;const n=!k.q_(t,R.P.list);H._hoveredForce.next(n?F.some(this._uuid):F.none),this._hovered.set(n)},this._handleMouseEnterForAppearanceHover=()=>{this._hovered.set(!0)},this._handleClickForAppearanceClick=(e,t)=>{t&&!e.isTrusted||this._hovered.modify((e=>!e))},this._handleMouseEnterForAppearanceClick=e=>{const t=e.target;k.q_(t,R.P.list)&&(H._hoveredForce.next(F.some(this._uuid)),this._hovered.set(!0))},this._handleLabelKeyDownForAppearance=e=>{"Enter"!==e.key&&" "!==e.key||(this._hovered.set(!0),e.preventDefault())}}_getHAlign(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:`-${(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2}px`};default:return(0,P.vE)(e)}}_getVAlign(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,P.vE)(e)}}calcDropdownPosition(){const e=this.props.align,t=this.props.vAlign;this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(e)),this._getVAlign(t)));const n="auto"===e,s="auto"===t;(n||s)&&requestAnimationFrame((()=>{if(this._dropdownEl){const o=this._viewport.get(),i=this._dropdownEl.getBoundingClientRect();this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(n?o.right<i.right?"right":"left":e)),this._getVAlign(s?o.bottom<i.bottom?"top":"bottom":t)))}}))}componentDidMount(){this._subs.push(this.hovered.pipe(_.b((e=>{this.props.onVisibilityChange&&this.props.onVisibilityChange(e)})),E.c((0,o.pipe)(F.fromNullable(this.props.customPosition),F.fold((()=>d.of(F.none)),(({top:e,left:t})=>w.aj(M.Dx(e),M.Dx(t)).pipe(m.U(F.some))))))).subscribe(F.fold((()=>this.calcDropdownPosition()),(([e,t])=>this._listPosState.set({top:e,left:t})))),this.context.pipe(y.j("rect")).subscribe(M.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(p.w(M.wX(this.props.forceHide.pipe(g.P())))).subscribe((()=>this._hidden.set(!0))))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}componentWillReciveProps(){this.calcDropdownPosition()}mapStateToClass(e,t){const n={start:"",end:""};return t?{prev:n,next:{start:R.P.transparent,end:""}}:{prev:{start:"",end:R.P.transparent},next:n}}_behavior(e){return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:t=>this._handleClickForAppearanceClick(t,e),onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:()=>this._hovered.set(this._initialState)}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:()=>this._hovered.set(this._initialState)}}_labelBehavior(){return{onKeyDown:this._handleLabelKeyDownForAppearance}}_attachDropdownElementBehavior(){var e;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",(e=>{var t;"Escape"===e.key&&(this._hovered.set(this._initialState),e.preventDefault(),e.stopPropagation(),(null===(t=this._labelRef.current)||void 0===t?void 0:t.firstChild)&&setTimeout((()=>{var e,t;return null===(t=null===(e=this._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===t?void 0:t.focus()}),0))}))}_handleDropdownElementMount(e){this._dropdownEl=e,this._attachDropdownElementBehavior()}render(){const{label:e,theme:t={}}=this.props;return s.createElement(S.a.Context.Consumer,null,(n=>s.createElement(A.f.Context.Consumer,null,(o=>s.createElement(A.f.Context.Provider,{value:A.f.withValue(o,{hovered:this._hovered})},s.createElement("div",Object.assign({},(0,r.Sh)(R.P.wrapper,t.dropdownContainer),this._behavior(n.has(S.a.Flag.onlyTrustedEvents))),s.createElement("div",Object.assign({},this._labelBehavior(),{ref:this._labelRef}),e),s.createElement(U,{state:this.hovered,stateToClassMapper:this.mapStateToClass},(e=>e.state?s.createElement(a.F.div,null,this._hidden.view((n=>s.createElement(B,Object.assign({key:"list",name:this.props.name,onTransitionEnd:"prev"===e.type?()=>this._hidden.set(!0):D.Q1},(0,r.Sh)(t.dropdownList,e.view),{mount:this._handleDropdownElementMount.bind(this),style:this._listPosState,hidden:n}),this.props.children)))):null))))))))}}H.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},H.Delimiter=()=>s.createElement("div",{className:R.P.delimiter}),H._hoveredForce=new C.xQ,H.contextType=T.l.Context;const B=e=>{const{ref:t,onMount:n}=O.P.useElWatcher();return O.P.useFocusTrap(t),s.createElement(A.f.Context.Consumer,null,(t=>{const o=A.f.emptyWithName(`${void 0!==t.name?`${t.name}/`:""}dropdown-${e.name}`);return s.createElement(A.f.Context.Provider,{value:o},s.createElement(a.F.div,Object.assign({},(0,r.Sh)(e.className,!0===e.hidden?R.P.hidden:R.P.list),{style:e.style,mount:t=>{n(t),void 0!==e.mount&&e.mount(t)},"data-role":"dropdown-list","data-name":"dropdown-"+e.name,onTransitionEnd:e.onTransitionEnd}),e.children))}))}},47486:(e,t,n)=>{n.d(t,{P:()=>l});var s=n(44060),o=n(63969),i=n(40219);const r={position:"absolute",zIndex:i.VN,display:"flex",flexDirection:"column",margin:`${o.u.rem(.5)} 0`,padding:`${o.u.rem(.5)} 0`,minWidth:o.u.percent(100),borderRadius:o.u.rem(i.Jr),background:s.Il.CoreNeutral0,boxShadow:s.uc.Z200,opacity:1,transition:"opacity .2s"},a={margin:o.u.rem(.5),height:o.u.px(1),backgroundColor:s.Il.CoreNeutral20},l={wrapper:o.u.style({position:"relative"}),list:o.u.style(r),transparent:o.u.style({opacity:0}),hidden:o.u.style({display:"none"}),delimiter:o.u.style(a)}},28154:(e,t,n)=>{n.r(t),n.d(t,{EmogenieReportFeedback:()=>l});var s=n(27378),o=n(24394),i=n(7046),r=n(95286),a=n(21474);const l=s.forwardRef((({emogenieReportComponent:e,onVote:t},n)=>s.createElement("div",{ref:n},s.createElement(r.L,{showDelay:0,label:e,vAlign:"bottom",align:"auto",name:"emogenie-report-feedback",appearanceBehavior:"mouseClick",dontCloseOnClickInside:!0},s.createElement(i.zx.Flat,{name:"emogenie-report-incorrect",onClick:()=>{t(o.x.INCORRECT)}},s.createElement(a.JO.NoCircle,null),"Tone detected incorrectly"),s.createElement(i.zx.Flat,{name:"emogenie-report-offensive",onClick:()=>{t(o.x.OFFENSIVE)}},s.createElement(a.JO.Report,null),"Report offensive content")))))}}]);